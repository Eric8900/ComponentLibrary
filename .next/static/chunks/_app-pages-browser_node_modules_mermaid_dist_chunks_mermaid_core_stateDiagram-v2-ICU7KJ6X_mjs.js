"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["_app-pages-browser_node_modules_mermaid_dist_chunks_mermaid_core_stateDiagram-v2-ICU7KJ6X_mjs"],{

/***/ "(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DGPT5PPI.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DGPT5PPI.mjs ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clear: function() { return /* binding */ clear; },\n/* harmony export */   createLabel_default: function() { return /* binding */ createLabel_default; },\n/* harmony export */   insertNode: function() { return /* binding */ insertNode; },\n/* harmony export */   intersect_rect_default: function() { return /* binding */ intersect_rect_default; },\n/* harmony export */   positionNode: function() { return /* binding */ positionNode; },\n/* harmony export */   setNodeElem: function() { return /* binding */ setNodeElem; },\n/* harmony export */   updateNodeBounds: function() { return /* binding */ updateNodeBounds; }\n/* harmony export */ });\n/* harmony import */ var _chunk_RAVNKOQV_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-RAVNKOQV.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-RAVNKOQV.mjs\");\n/* harmony import */ var _chunk_2EDTWDYI_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-2EDTWDYI.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-2EDTWDYI.mjs\");\n/* harmony import */ var _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-IIKMQLIC.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-IIKMQLIC.mjs\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! d3 */ \"(app-pages-browser)/./node_modules/d3/src/index.js\");\n\n\n\n\n// src/dagre-wrapper/createLabel.js\n\nfunction applyStyle(dom, styleFn) {\n  if (styleFn) {\n    dom.attr(\"style\", styleFn);\n  }\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(applyStyle, \"applyStyle\");\nfunction addHtmlLabel(node) {\n  const fo = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(document.createElementNS(\"http://www.w3.org/2000/svg\", \"foreignObject\"));\n  const div = fo.append(\"xhtml:div\");\n  const label = node.label;\n  const labelClass = node.isNode ? \"nodeLabel\" : \"edgeLabel\";\n  const span = div.append(\"span\");\n  span.html(label);\n  applyStyle(span, node.labelStyle);\n  span.attr(\"class\", labelClass);\n  applyStyle(div, node.labelStyle);\n  div.style(\"display\", \"inline-block\");\n  div.style(\"white-space\", \"nowrap\");\n  div.attr(\"xmlns\", \"http://www.w3.org/1999/xhtml\");\n  return fo.node();\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(addHtmlLabel, \"addHtmlLabel\");\nvar createLabel = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((_vertexText, style, isTitle, isNode) => {\n  let vertexText = _vertexText || \"\";\n  if (typeof vertexText === \"object\") {\n    vertexText = vertexText[0];\n  }\n  if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels)) {\n    vertexText = vertexText.replace(/\\\\n|\\n/g, \"<br />\");\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"vertexText\" + vertexText);\n    const node = {\n      isNode,\n      label: (0,_chunk_RAVNKOQV_mjs__WEBPACK_IMPORTED_MODULE_0__.replaceIconSubstring)((0,_chunk_2EDTWDYI_mjs__WEBPACK_IMPORTED_MODULE_1__.decodeEntities)(vertexText)),\n      labelStyle: style.replace(\"fill:\", \"color:\")\n    };\n    let vertexNode = addHtmlLabel(node);\n    return vertexNode;\n  } else {\n    const svgLabel = document.createElementNS(\"http://www.w3.org/2000/svg\", \"text\");\n    svgLabel.setAttribute(\"style\", style.replace(\"color:\", \"fill:\"));\n    let rows = [];\n    if (typeof vertexText === \"string\") {\n      rows = vertexText.split(/\\\\n|\\n|<br\\s*\\/?>/gi);\n    } else if (Array.isArray(vertexText)) {\n      rows = vertexText;\n    } else {\n      rows = [];\n    }\n    for (const row of rows) {\n      const tspan = document.createElementNS(\"http://www.w3.org/2000/svg\", \"tspan\");\n      tspan.setAttributeNS(\"http://www.w3.org/XML/1998/namespace\", \"xml:space\", \"preserve\");\n      tspan.setAttribute(\"dy\", \"1em\");\n      tspan.setAttribute(\"x\", \"0\");\n      if (isTitle) {\n        tspan.setAttribute(\"class\", \"title-row\");\n      } else {\n        tspan.setAttribute(\"class\", \"row\");\n      }\n      tspan.textContent = row.trim();\n      svgLabel.appendChild(tspan);\n    }\n    return svgLabel;\n  }\n}, \"createLabel\");\nvar createLabel_default = createLabel;\n\n// src/dagre-wrapper/shapes/util.js\n\nvar labelHelper = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node, _classes, isNode) => {\n  const config = (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)();\n  let classes;\n  const useHtmlLabels = node.useHtmlLabels || (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.evaluate)(config.flowchart.htmlLabels);\n  if (!_classes) {\n    classes = \"node default\";\n  } else {\n    classes = _classes;\n  }\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", classes).attr(\"id\", node.domId || node.id);\n  const label = shapeSvg.insert(\"g\").attr(\"class\", \"label\").attr(\"style\", node.labelStyle);\n  let labelText;\n  if (node.labelText === void 0) {\n    labelText = \"\";\n  } else {\n    labelText = typeof node.labelText === \"string\" ? node.labelText : node.labelText[0];\n  }\n  const textNode = label.node();\n  let text;\n  if (node.labelType === \"markdown\") {\n    text = (0,_chunk_RAVNKOQV_mjs__WEBPACK_IMPORTED_MODULE_0__.createText)(\n      label,\n      (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)((0,_chunk_2EDTWDYI_mjs__WEBPACK_IMPORTED_MODULE_1__.decodeEntities)(labelText), config),\n      {\n        useHtmlLabels,\n        width: node.width || config.flowchart.wrappingWidth,\n        classes: \"markdown-node-label\"\n      },\n      config\n    );\n  } else {\n    text = textNode.appendChild(\n      createLabel_default((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.sanitizeText)((0,_chunk_2EDTWDYI_mjs__WEBPACK_IMPORTED_MODULE_1__.decodeEntities)(labelText), config), node.labelStyle, false, isNode)\n    );\n  }\n  let bbox = text.getBBox();\n  const halfPadding = node.padding / 2;\n  if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.evaluate)(config.flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(text);\n    const images = div.getElementsByTagName(\"img\");\n    if (images) {\n      const noImgText = labelText.replace(/<img[^>]*>/g, \"\").trim() === \"\";\n      await Promise.all(\n        [...images].map(\n          (img) => new Promise((res) => {\n            function setupImage() {\n              img.style.display = \"flex\";\n              img.style.flexDirection = \"column\";\n              if (noImgText) {\n                const bodyFontSize = config.fontSize ? config.fontSize : window.getComputedStyle(document.body).fontSize;\n                const enlargingFactor = 5;\n                const width = parseInt(bodyFontSize, 10) * enlargingFactor + \"px\";\n                img.style.minWidth = width;\n                img.style.maxWidth = width;\n              } else {\n                img.style.width = \"100%\";\n              }\n              res(img);\n            }\n            (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(setupImage, \"setupImage\");\n            setTimeout(() => {\n              if (img.complete) {\n                setupImage();\n              }\n            });\n            img.addEventListener(\"error\", setupImage);\n            img.addEventListener(\"load\", setupImage);\n          })\n        )\n      );\n    }\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  if (useHtmlLabels) {\n    label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + -bbox.height / 2 + \")\");\n  } else {\n    label.attr(\"transform\", \"translate(0, \" + -bbox.height / 2 + \")\");\n  }\n  if (node.centerLabel) {\n    label.attr(\"transform\", \"translate(\" + -bbox.width / 2 + \", \" + -bbox.height / 2 + \")\");\n  }\n  label.insert(\"rect\", \":first-child\");\n  return { shapeSvg, bbox, halfPadding, label };\n}, \"labelHelper\");\nvar updateNodeBounds = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((node, element) => {\n  const bbox = element.node().getBBox();\n  node.width = bbox.width;\n  node.height = bbox.height;\n}, \"updateNodeBounds\");\nfunction insertPolygonShape(parent, w, h, points) {\n  return parent.insert(\"polygon\", \":first-child\").attr(\n    \"points\",\n    points.map(function(d) {\n      return d.x + \",\" + d.y;\n    }).join(\" \")\n  ).attr(\"class\", \"label-container\").attr(\"transform\", \"translate(\" + -w / 2 + \",\" + h / 2 + \")\");\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(insertPolygonShape, \"insertPolygonShape\");\n\n// src/dagre-wrapper/nodes.js\n\n\n// src/dagre-wrapper/blockArrowHelper.ts\nvar expandAndDeduplicateDirections = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((directions) => {\n  const uniqueDirections = /* @__PURE__ */ new Set();\n  for (const direction of directions) {\n    switch (direction) {\n      case \"x\":\n        uniqueDirections.add(\"right\");\n        uniqueDirections.add(\"left\");\n        break;\n      case \"y\":\n        uniqueDirections.add(\"up\");\n        uniqueDirections.add(\"down\");\n        break;\n      default:\n        uniqueDirections.add(direction);\n        break;\n    }\n  }\n  return uniqueDirections;\n}, \"expandAndDeduplicateDirections\");\nvar getArrowPoints = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((duplicatedDirections, bbox, node) => {\n  const directions = expandAndDeduplicateDirections(duplicatedDirections);\n  const f = 2;\n  const height = bbox.height + 2 * node.padding;\n  const midpoint = height / f;\n  const width = bbox.width + 2 * midpoint + node.padding;\n  const padding = node.padding / 2;\n  if (directions.has(\"right\") && directions.has(\"left\") && directions.has(\"up\") && directions.has(\"down\")) {\n    return [\n      // Bottom\n      { x: 0, y: 0 },\n      { x: midpoint, y: 0 },\n      { x: width / 2, y: 2 * padding },\n      { x: width - midpoint, y: 0 },\n      { x: width, y: 0 },\n      // Right\n      { x: width, y: -height / 3 },\n      { x: width + 2 * padding, y: -height / 2 },\n      { x: width, y: -2 * height / 3 },\n      { x: width, y: -height },\n      // Top\n      { x: width - midpoint, y: -height },\n      { x: width / 2, y: -height - 2 * padding },\n      { x: midpoint, y: -height },\n      // Left\n      { x: 0, y: -height },\n      { x: 0, y: -2 * height / 3 },\n      { x: -2 * padding, y: -height / 2 },\n      { x: 0, y: -height / 3 }\n    ];\n  }\n  if (directions.has(\"right\") && directions.has(\"left\") && directions.has(\"up\")) {\n    return [\n      { x: midpoint, y: 0 },\n      { x: width - midpoint, y: 0 },\n      { x: width, y: -height / 2 },\n      { x: width - midpoint, y: -height },\n      { x: midpoint, y: -height },\n      { x: 0, y: -height / 2 }\n    ];\n  }\n  if (directions.has(\"right\") && directions.has(\"left\") && directions.has(\"down\")) {\n    return [\n      { x: 0, y: 0 },\n      { x: midpoint, y: -height },\n      { x: width - midpoint, y: -height },\n      { x: width, y: 0 }\n    ];\n  }\n  if (directions.has(\"right\") && directions.has(\"up\") && directions.has(\"down\")) {\n    return [\n      { x: 0, y: 0 },\n      { x: width, y: -midpoint },\n      { x: width, y: -height + midpoint },\n      { x: 0, y: -height }\n    ];\n  }\n  if (directions.has(\"left\") && directions.has(\"up\") && directions.has(\"down\")) {\n    return [\n      { x: width, y: 0 },\n      { x: 0, y: -midpoint },\n      { x: 0, y: -height + midpoint },\n      { x: width, y: -height }\n    ];\n  }\n  if (directions.has(\"right\") && directions.has(\"left\")) {\n    return [\n      { x: midpoint, y: 0 },\n      { x: midpoint, y: -padding },\n      { x: width - midpoint, y: -padding },\n      { x: width - midpoint, y: 0 },\n      { x: width, y: -height / 2 },\n      { x: width - midpoint, y: -height },\n      { x: width - midpoint, y: -height + padding },\n      { x: midpoint, y: -height + padding },\n      { x: midpoint, y: -height },\n      { x: 0, y: -height / 2 }\n    ];\n  }\n  if (directions.has(\"up\") && directions.has(\"down\")) {\n    return [\n      // Bottom center\n      { x: width / 2, y: 0 },\n      // Left pont of bottom arrow\n      { x: 0, y: -padding },\n      { x: midpoint, y: -padding },\n      // Left top over vertical section\n      { x: midpoint, y: -height + padding },\n      { x: 0, y: -height + padding },\n      // Top of arrow\n      { x: width / 2, y: -height },\n      { x: width, y: -height + padding },\n      // Top of right vertical bar\n      { x: width - midpoint, y: -height + padding },\n      { x: width - midpoint, y: -padding },\n      { x: width, y: -padding }\n    ];\n  }\n  if (directions.has(\"right\") && directions.has(\"up\")) {\n    return [\n      { x: 0, y: 0 },\n      { x: width, y: -midpoint },\n      { x: 0, y: -height }\n    ];\n  }\n  if (directions.has(\"right\") && directions.has(\"down\")) {\n    return [\n      { x: 0, y: 0 },\n      { x: width, y: 0 },\n      { x: 0, y: -height }\n    ];\n  }\n  if (directions.has(\"left\") && directions.has(\"up\")) {\n    return [\n      { x: width, y: 0 },\n      { x: 0, y: -midpoint },\n      { x: width, y: -height }\n    ];\n  }\n  if (directions.has(\"left\") && directions.has(\"down\")) {\n    return [\n      { x: width, y: 0 },\n      { x: 0, y: 0 },\n      { x: width, y: -height }\n    ];\n  }\n  if (directions.has(\"right\")) {\n    return [\n      { x: midpoint, y: -padding },\n      { x: midpoint, y: -padding },\n      { x: width - midpoint, y: -padding },\n      { x: width - midpoint, y: 0 },\n      { x: width, y: -height / 2 },\n      { x: width - midpoint, y: -height },\n      { x: width - midpoint, y: -height + padding },\n      // top left corner of arrow\n      { x: midpoint, y: -height + padding },\n      { x: midpoint, y: -height + padding }\n    ];\n  }\n  if (directions.has(\"left\")) {\n    return [\n      { x: midpoint, y: 0 },\n      { x: midpoint, y: -padding },\n      // Two points, the right corners\n      { x: width - midpoint, y: -padding },\n      { x: width - midpoint, y: -height + padding },\n      { x: midpoint, y: -height + padding },\n      { x: midpoint, y: -height },\n      { x: 0, y: -height / 2 }\n    ];\n  }\n  if (directions.has(\"up\")) {\n    return [\n      // Bottom center\n      { x: midpoint, y: -padding },\n      // Left top over vertical section\n      { x: midpoint, y: -height + padding },\n      { x: 0, y: -height + padding },\n      // Top of arrow\n      { x: width / 2, y: -height },\n      { x: width, y: -height + padding },\n      // Top of right vertical bar\n      { x: width - midpoint, y: -height + padding },\n      { x: width - midpoint, y: -padding }\n    ];\n  }\n  if (directions.has(\"down\")) {\n    return [\n      // Bottom center\n      { x: width / 2, y: 0 },\n      // Left pont of bottom arrow\n      { x: 0, y: -padding },\n      { x: midpoint, y: -padding },\n      // Left top over vertical section\n      { x: midpoint, y: -height + padding },\n      { x: width - midpoint, y: -height + padding },\n      { x: width - midpoint, y: -padding },\n      { x: width, y: -padding }\n    ];\n  }\n  return [{ x: 0, y: 0 }];\n}, \"getArrowPoints\");\n\n// src/dagre-wrapper/intersect/intersect-node.js\nfunction intersectNode(node, point) {\n  return node.intersect(point);\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(intersectNode, \"intersectNode\");\nvar intersect_node_default = intersectNode;\n\n// src/dagre-wrapper/intersect/intersect-ellipse.js\nfunction intersectEllipse(node, rx, ry, point) {\n  var cx = node.x;\n  var cy = node.y;\n  var px = cx - point.x;\n  var py = cy - point.y;\n  var det = Math.sqrt(rx * rx * py * py + ry * ry * px * px);\n  var dx = Math.abs(rx * ry * px / det);\n  if (point.x < cx) {\n    dx = -dx;\n  }\n  var dy = Math.abs(rx * ry * py / det);\n  if (point.y < cy) {\n    dy = -dy;\n  }\n  return { x: cx + dx, y: cy + dy };\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(intersectEllipse, \"intersectEllipse\");\nvar intersect_ellipse_default = intersectEllipse;\n\n// src/dagre-wrapper/intersect/intersect-circle.js\nfunction intersectCircle(node, rx, point) {\n  return intersect_ellipse_default(node, rx, rx, point);\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(intersectCircle, \"intersectCircle\");\nvar intersect_circle_default = intersectCircle;\n\n// src/dagre-wrapper/intersect/intersect-line.js\nfunction intersectLine(p1, p2, q1, q2) {\n  var a1, a2, b1, b2, c1, c2;\n  var r1, r2, r3, r4;\n  var denom, offset, num;\n  var x, y;\n  a1 = p2.y - p1.y;\n  b1 = p1.x - p2.x;\n  c1 = p2.x * p1.y - p1.x * p2.y;\n  r3 = a1 * q1.x + b1 * q1.y + c1;\n  r4 = a1 * q2.x + b1 * q2.y + c1;\n  if (r3 !== 0 && r4 !== 0 && sameSign(r3, r4)) {\n    return;\n  }\n  a2 = q2.y - q1.y;\n  b2 = q1.x - q2.x;\n  c2 = q2.x * q1.y - q1.x * q2.y;\n  r1 = a2 * p1.x + b2 * p1.y + c2;\n  r2 = a2 * p2.x + b2 * p2.y + c2;\n  if (r1 !== 0 && r2 !== 0 && sameSign(r1, r2)) {\n    return;\n  }\n  denom = a1 * b2 - a2 * b1;\n  if (denom === 0) {\n    return;\n  }\n  offset = Math.abs(denom / 2);\n  num = b1 * c2 - b2 * c1;\n  x = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n  num = a2 * c1 - a1 * c2;\n  y = num < 0 ? (num - offset) / denom : (num + offset) / denom;\n  return { x, y };\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(intersectLine, \"intersectLine\");\nfunction sameSign(r1, r2) {\n  return r1 * r2 > 0;\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(sameSign, \"sameSign\");\nvar intersect_line_default = intersectLine;\n\n// src/dagre-wrapper/intersect/intersect-polygon.js\nvar intersect_polygon_default = intersectPolygon;\nfunction intersectPolygon(node, polyPoints, point) {\n  var x1 = node.x;\n  var y1 = node.y;\n  var intersections = [];\n  var minX = Number.POSITIVE_INFINITY;\n  var minY = Number.POSITIVE_INFINITY;\n  if (typeof polyPoints.forEach === \"function\") {\n    polyPoints.forEach(function(entry) {\n      minX = Math.min(minX, entry.x);\n      minY = Math.min(minY, entry.y);\n    });\n  } else {\n    minX = Math.min(minX, polyPoints.x);\n    minY = Math.min(minY, polyPoints.y);\n  }\n  var left = x1 - node.width / 2 - minX;\n  var top = y1 - node.height / 2 - minY;\n  for (var i = 0; i < polyPoints.length; i++) {\n    var p1 = polyPoints[i];\n    var p2 = polyPoints[i < polyPoints.length - 1 ? i + 1 : 0];\n    var intersect = intersect_line_default(\n      node,\n      point,\n      { x: left + p1.x, y: top + p1.y },\n      { x: left + p2.x, y: top + p2.y }\n    );\n    if (intersect) {\n      intersections.push(intersect);\n    }\n  }\n  if (!intersections.length) {\n    return node;\n  }\n  if (intersections.length > 1) {\n    intersections.sort(function(p, q) {\n      var pdx = p.x - point.x;\n      var pdy = p.y - point.y;\n      var distp = Math.sqrt(pdx * pdx + pdy * pdy);\n      var qdx = q.x - point.x;\n      var qdy = q.y - point.y;\n      var distq = Math.sqrt(qdx * qdx + qdy * qdy);\n      return distp < distq ? -1 : distp === distq ? 0 : 1;\n    });\n  }\n  return intersections[0];\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(intersectPolygon, \"intersectPolygon\");\n\n// src/dagre-wrapper/intersect/intersect-rect.js\nvar intersectRect = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((node, point) => {\n  var x = node.x;\n  var y = node.y;\n  var dx = point.x - x;\n  var dy = point.y - y;\n  var w = node.width / 2;\n  var h = node.height / 2;\n  var sx, sy;\n  if (Math.abs(dy) * w > Math.abs(dx) * h) {\n    if (dy < 0) {\n      h = -h;\n    }\n    sx = dy === 0 ? 0 : h * dx / dy;\n    sy = h;\n  } else {\n    if (dx < 0) {\n      w = -w;\n    }\n    sx = w;\n    sy = dx === 0 ? 0 : w * dy / dx;\n  }\n  return { x: x + sx, y: y + sy };\n}, \"intersectRect\");\nvar intersect_rect_default = intersectRect;\n\n// src/dagre-wrapper/intersect/index.js\nvar intersect_default = {\n  node: intersect_node_default,\n  circle: intersect_circle_default,\n  ellipse: intersect_ellipse_default,\n  polygon: intersect_polygon_default,\n  rect: intersect_rect_default\n};\n\n// src/dagre-wrapper/shapes/note.js\nvar note = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const useHtmlLabels = node.useHtmlLabels || (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels;\n  if (!useHtmlLabels) {\n    node.centerLabel = true;\n  }\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    \"node \" + node.classes,\n    true\n  );\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.info(\"Classes = \", node.classes);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  rect2.attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"x\", -bbox.width / 2 - halfPadding).attr(\"y\", -bbox.height / 2 - halfPadding).attr(\"width\", bbox.width + node.padding).attr(\"height\", bbox.height + node.padding);\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}, \"note\");\nvar note_default = note;\n\n// src/dagre-wrapper/nodes.js\nvar formatClass = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((str) => {\n  if (str) {\n    return \" \" + str;\n  }\n  return \"\";\n}, \"formatClass\");\nvar getClassesFromNode = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((node, otherClasses) => {\n  return `${otherClasses ? otherClasses : \"node default\"}${formatClass(node.classes)} ${formatClass(\n    node.class\n  )}`;\n}, \"getClassesFromNode\");\nvar question = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const s = w + h;\n  const points = [\n    { x: s / 2, y: 0 },\n    { x: s, y: -s / 2 },\n    { x: s / 2, y: -s },\n    { x: 0, y: -s / 2 }\n  ];\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.info(\"Question main (Circle)\");\n  const questionElem = insertPolygonShape(shapeSvg, s, s, points);\n  questionElem.attr(\"style\", node.style);\n  updateNodeBounds(node, questionElem);\n  node.intersect = function(point) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.warn(\"Intersect called\");\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"question\");\nvar choice = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((parent, node) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"node default\").attr(\"id\", node.domId || node.id);\n  const s = 28;\n  const points = [\n    { x: 0, y: s / 2 },\n    { x: s / 2, y: 0 },\n    { x: 0, y: -s / 2 },\n    { x: -s / 2, y: 0 }\n  ];\n  const choice2 = shapeSvg.insert(\"polygon\", \":first-child\").attr(\n    \"points\",\n    points.map(function(d) {\n      return d.x + \",\" + d.y;\n    }).join(\" \")\n  );\n  choice2.attr(\"class\", \"state-start\").attr(\"r\", 7).attr(\"width\", 28).attr(\"height\", 28);\n  node.width = 28;\n  node.height = 28;\n  node.intersect = function(point) {\n    return intersect_default.circle(node, 14, point);\n  };\n  return shapeSvg;\n}, \"choice\");\nvar hexagon = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const f = 4;\n  const h = bbox.height + node.padding;\n  const m = h / f;\n  const w = bbox.width + 2 * m + node.padding;\n  const points = [\n    { x: m, y: 0 },\n    { x: w - m, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w - m, y: -h },\n    { x: m, y: -h },\n    { x: 0, y: -h / 2 }\n  ];\n  const hex = insertPolygonShape(shapeSvg, w, h, points);\n  hex.attr(\"style\", node.style);\n  updateNodeBounds(node, hex);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"hexagon\");\nvar block_arrow = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(parent, node, void 0, true);\n  const f = 2;\n  const h = bbox.height + 2 * node.padding;\n  const m = h / f;\n  const w = bbox.width + 2 * m + node.padding;\n  const points = getArrowPoints(node.directions, bbox, node);\n  const blockArrow = insertPolygonShape(shapeSvg, w, h, points);\n  blockArrow.attr(\"style\", node.style);\n  updateNodeBounds(node, blockArrow);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"block_arrow\");\nvar rect_left_inv_arrow = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: -h / 2, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: -h / 2, y: -h },\n    { x: 0, y: -h / 2 }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  node.width = w + h;\n  node.height = h;\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"rect_left_inv_arrow\");\nvar lean_right = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(parent, node, getClassesFromNode(node), true);\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: -2 * h / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + 2 * h / 6, y: -h },\n    { x: h / 6, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"lean_right\");\nvar lean_left = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 2 * h / 6, y: 0 },\n    { x: w + h / 6, y: 0 },\n    { x: w - 2 * h / 6, y: -h },\n    { x: -h / 6, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"lean_left\");\nvar trapezoid = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: -2 * h / 6, y: 0 },\n    { x: w + 2 * h / 6, y: 0 },\n    { x: w - h / 6, y: -h },\n    { x: h / 6, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"trapezoid\");\nvar inv_trapezoid = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: h / 6, y: 0 },\n    { x: w - h / 6, y: 0 },\n    { x: w + 2 * h / 6, y: -h },\n    { x: -2 * h / 6, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"inv_trapezoid\");\nvar rect_right_inv_arrow = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w + h / 2, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w + h / 2, y: -h },\n    { x: 0, y: -h }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"rect_right_inv_arrow\");\nvar cylinder = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const rx = w / 2;\n  const ry = rx / (2.5 + w / 50);\n  const h = bbox.height + ry + node.padding;\n  const shape = \"M 0,\" + ry + \" a \" + rx + \",\" + ry + \" 0,0,0 \" + w + \" 0 a \" + rx + \",\" + ry + \" 0,0,0 \" + -w + \" 0 l 0,\" + h + \" a \" + rx + \",\" + ry + \" 0,0,0 \" + w + \" 0 l 0,\" + -h;\n  const el = shapeSvg.attr(\"label-offset-y\", ry).insert(\"path\", \":first-child\").attr(\"style\", node.style).attr(\"d\", shape).attr(\"transform\", \"translate(\" + -w / 2 + \",\" + -(h / 2 + ry) + \")\");\n  updateNodeBounds(node, el);\n  node.intersect = function(point) {\n    const pos = intersect_default.rect(node, point);\n    const x = pos.x - node.x;\n    if (rx != 0 && (Math.abs(x) < node.width / 2 || Math.abs(x) == node.width / 2 && Math.abs(pos.y - node.y) > node.height / 2 - ry)) {\n      let y = ry * ry * (1 - x * x / (rx * rx));\n      if (y != 0) {\n        y = Math.sqrt(y);\n      }\n      y = ry - y;\n      if (point.y - node.y > 0) {\n        y = -y;\n      }\n      pos.y += y;\n    }\n    return pos;\n  };\n  return shapeSvg;\n}, \"cylinder\");\nvar rect = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    \"node \" + node.classes + \" \" + node.class,\n    true\n  );\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const totalWidth = node.positioned ? node.width : bbox.width + node.padding;\n  const totalHeight = node.positioned ? node.height : bbox.height + node.padding;\n  const x = node.positioned ? -totalWidth / 2 : -bbox.width / 2 - halfPadding;\n  const y = node.positioned ? -totalHeight / 2 : -bbox.height / 2 - halfPadding;\n  rect2.attr(\"class\", \"basic label-container\").attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"x\", x).attr(\"y\", y).attr(\"width\", totalWidth).attr(\"height\", totalHeight);\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete(\"borders\");\n    }\n    propKeys.forEach((propKey) => {\n      _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}, \"rect\");\nvar composite = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    \"node \" + node.classes,\n    true\n  );\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const totalWidth = node.positioned ? node.width : bbox.width + node.padding;\n  const totalHeight = node.positioned ? node.height : bbox.height + node.padding;\n  const x = node.positioned ? -totalWidth / 2 : -bbox.width / 2 - halfPadding;\n  const y = node.positioned ? -totalHeight / 2 : -bbox.height / 2 - halfPadding;\n  rect2.attr(\"class\", \"basic cluster composite label-container\").attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"x\", x).attr(\"y\", y).attr(\"width\", totalWidth).attr(\"height\", totalHeight);\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete(\"borders\");\n    }\n    propKeys.forEach((propKey) => {\n      _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}, \"composite\");\nvar labelRect = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg } = await labelHelper(parent, node, \"label\", true);\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.trace(\"Classes = \", node.class);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const totalWidth = 0;\n  const totalHeight = 0;\n  rect2.attr(\"width\", totalWidth).attr(\"height\", totalHeight);\n  shapeSvg.attr(\"class\", \"label edgeLabel\");\n  if (node.props) {\n    const propKeys = new Set(Object.keys(node.props));\n    if (node.props.borders) {\n      applyNodePropertyBorders(rect2, node.props.borders, totalWidth, totalHeight);\n      propKeys.delete(\"borders\");\n    }\n    propKeys.forEach((propKey) => {\n      _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.warn(`Unknown node property ${propKey}`);\n    });\n  }\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}, \"labelRect\");\nfunction applyNodePropertyBorders(rect2, borders, totalWidth, totalHeight) {\n  const strokeDashArray = [];\n  const addBorder = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((length) => {\n    strokeDashArray.push(length, 0);\n  }, \"addBorder\");\n  const skipBorder = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((length) => {\n    strokeDashArray.push(0, length);\n  }, \"skipBorder\");\n  if (borders.includes(\"t\")) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"add top border\");\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes(\"r\")) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"add right border\");\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  if (borders.includes(\"b\")) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"add bottom border\");\n    addBorder(totalWidth);\n  } else {\n    skipBorder(totalWidth);\n  }\n  if (borders.includes(\"l\")) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.debug(\"add left border\");\n    addBorder(totalHeight);\n  } else {\n    skipBorder(totalHeight);\n  }\n  rect2.attr(\"stroke-dasharray\", strokeDashArray.join(\" \"));\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(applyNodePropertyBorders, \"applyNodePropertyBorders\");\nvar rectWithTitle = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((parent, node) => {\n  let classes;\n  if (!node.classes) {\n    classes = \"node default\";\n  } else {\n    classes = \"node \" + node.classes;\n  }\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", classes).attr(\"id\", node.domId || node.id);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const innerLine = shapeSvg.insert(\"line\");\n  const label = shapeSvg.insert(\"g\").attr(\"class\", \"label\");\n  const text2 = node.labelText.flat ? node.labelText.flat() : node.labelText;\n  let title = \"\";\n  if (typeof text2 === \"object\") {\n    title = text2[0];\n  } else {\n    title = text2;\n  }\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.info(\"Label text abc79\", title, text2, typeof text2 === \"object\");\n  const text = label.node().appendChild(createLabel_default(title, node.labelStyle, true, true));\n  let bbox = { width: 0, height: 0 };\n  if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels)) {\n    const div = text.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(text);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.info(\"Text 2\", text2);\n  const textRows = text2.slice(1, text2.length);\n  let titleBox = text.getBBox();\n  const descr = label.node().appendChild(\n    createLabel_default(textRows.join ? textRows.join(\"<br/>\") : textRows, node.labelStyle, true, true)\n  );\n  if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels)) {\n    const div = descr.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(descr);\n    bbox = div.getBoundingClientRect();\n    dv.attr(\"width\", bbox.width);\n    dv.attr(\"height\", bbox.height);\n  }\n  const halfPadding = node.padding / 2;\n  (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(descr).attr(\n    \"transform\",\n    \"translate( \" + // (titleBox.width - bbox.width) / 2 +\n    (bbox.width > titleBox.width ? 0 : (titleBox.width - bbox.width) / 2) + \", \" + (titleBox.height + halfPadding + 5) + \")\"\n  );\n  (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(text).attr(\n    \"transform\",\n    \"translate( \" + // (titleBox.width - bbox.width) / 2 +\n    (bbox.width < titleBox.width ? 0 : -(titleBox.width - bbox.width) / 2) + \", 0)\"\n  );\n  bbox = label.node().getBBox();\n  label.attr(\n    \"transform\",\n    \"translate(\" + -bbox.width / 2 + \", \" + (-bbox.height / 2 - halfPadding + 3) + \")\"\n  );\n  rect2.attr(\"class\", \"outer title-state\").attr(\"x\", -bbox.width / 2 - halfPadding).attr(\"y\", -bbox.height / 2 - halfPadding).attr(\"width\", bbox.width + node.padding).attr(\"height\", bbox.height + node.padding);\n  innerLine.attr(\"class\", \"divider\").attr(\"x1\", -bbox.width / 2 - halfPadding).attr(\"x2\", bbox.width / 2 + halfPadding).attr(\"y1\", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding).attr(\"y2\", -bbox.height / 2 - halfPadding + titleBox.height + halfPadding);\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}, \"rectWithTitle\");\nvar stadium = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const h = bbox.height + node.padding;\n  const w = bbox.width + h / 4 + node.padding;\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\").attr(\"style\", node.style).attr(\"rx\", h / 2).attr(\"ry\", h / 2).attr(\"x\", -w / 2).attr(\"y\", -h / 2).attr(\"width\", w).attr(\"height\", h);\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}, \"stadium\");\nvar circle = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const circle2 = shapeSvg.insert(\"circle\", \":first-child\");\n  circle2.attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"r\", bbox.width / 2 + halfPadding).attr(\"width\", bbox.width + node.padding).attr(\"height\", bbox.height + node.padding);\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.info(\"Circle main\");\n  updateNodeBounds(node, circle2);\n  node.intersect = function(point) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.info(\"Circle intersect\", node, bbox.width / 2 + halfPadding, point);\n    return intersect_default.circle(node, bbox.width / 2 + halfPadding, point);\n  };\n  return shapeSvg;\n}, \"circle\");\nvar doublecircle = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox, halfPadding } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const gap = 5;\n  const circleGroup = shapeSvg.insert(\"g\", \":first-child\");\n  const outerCircle = circleGroup.insert(\"circle\");\n  const innerCircle = circleGroup.insert(\"circle\");\n  circleGroup.attr(\"class\", node.class);\n  outerCircle.attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"r\", bbox.width / 2 + halfPadding + gap).attr(\"width\", bbox.width + node.padding + gap * 2).attr(\"height\", bbox.height + node.padding + gap * 2);\n  innerCircle.attr(\"style\", node.style).attr(\"rx\", node.rx).attr(\"ry\", node.ry).attr(\"r\", bbox.width / 2 + halfPadding).attr(\"width\", bbox.width + node.padding).attr(\"height\", bbox.height + node.padding);\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.info(\"DoubleCircle main\");\n  updateNodeBounds(node, outerCircle);\n  node.intersect = function(point) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.info(\"DoubleCircle intersect\", node, bbox.width / 2 + halfPadding + gap, point);\n    return intersect_default.circle(node, bbox.width / 2 + halfPadding + gap, point);\n  };\n  return shapeSvg;\n}, \"doublecircle\");\nvar subroutine = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (parent, node) => {\n  const { shapeSvg, bbox } = await labelHelper(\n    parent,\n    node,\n    getClassesFromNode(node, void 0),\n    true\n  );\n  const w = bbox.width + node.padding;\n  const h = bbox.height + node.padding;\n  const points = [\n    { x: 0, y: 0 },\n    { x: w, y: 0 },\n    { x: w, y: -h },\n    { x: 0, y: -h },\n    { x: 0, y: 0 },\n    { x: -8, y: 0 },\n    { x: w + 8, y: 0 },\n    { x: w + 8, y: -h },\n    { x: -8, y: -h },\n    { x: -8, y: 0 }\n  ];\n  const el = insertPolygonShape(shapeSvg, w, h, points);\n  el.attr(\"style\", node.style);\n  updateNodeBounds(node, el);\n  node.intersect = function(point) {\n    return intersect_default.polygon(node, points, point);\n  };\n  return shapeSvg;\n}, \"subroutine\");\nvar start = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((parent, node) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"node default\").attr(\"id\", node.domId || node.id);\n  const circle2 = shapeSvg.insert(\"circle\", \":first-child\");\n  circle2.attr(\"class\", \"state-start\").attr(\"r\", 7).attr(\"width\", 14).attr(\"height\", 14);\n  updateNodeBounds(node, circle2);\n  node.intersect = function(point) {\n    return intersect_default.circle(node, 7, point);\n  };\n  return shapeSvg;\n}, \"start\");\nvar forkJoin = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((parent, node, dir) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"node default\").attr(\"id\", node.domId || node.id);\n  let width = 70;\n  let height = 10;\n  if (dir === \"LR\") {\n    width = 10;\n    height = 70;\n  }\n  const shape = shapeSvg.append(\"rect\").attr(\"x\", -1 * width / 2).attr(\"y\", -1 * height / 2).attr(\"width\", width).attr(\"height\", height).attr(\"class\", \"fork-join\");\n  updateNodeBounds(node, shape);\n  node.height = node.height + node.padding / 2;\n  node.width = node.width + node.padding / 2;\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}, \"forkJoin\");\nvar end = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((parent, node) => {\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", \"node default\").attr(\"id\", node.domId || node.id);\n  const innerCircle = shapeSvg.insert(\"circle\", \":first-child\");\n  const circle2 = shapeSvg.insert(\"circle\", \":first-child\");\n  circle2.attr(\"class\", \"state-start\").attr(\"r\", 7).attr(\"width\", 14).attr(\"height\", 14);\n  innerCircle.attr(\"class\", \"state-end\").attr(\"r\", 5).attr(\"width\", 10).attr(\"height\", 10);\n  updateNodeBounds(node, circle2);\n  node.intersect = function(point) {\n    return intersect_default.circle(node, 7, point);\n  };\n  return shapeSvg;\n}, \"end\");\nvar class_box = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((parent, node) => {\n  const halfPadding = node.padding / 2;\n  const rowPadding = 4;\n  const lineHeight = 8;\n  let classes;\n  if (!node.classes) {\n    classes = \"node default\";\n  } else {\n    classes = \"node \" + node.classes;\n  }\n  const shapeSvg = parent.insert(\"g\").attr(\"class\", classes).attr(\"id\", node.domId || node.id);\n  const rect2 = shapeSvg.insert(\"rect\", \":first-child\");\n  const topLine = shapeSvg.insert(\"line\");\n  const bottomLine = shapeSvg.insert(\"line\");\n  let maxWidth = 0;\n  let maxHeight = rowPadding;\n  const labelContainer = shapeSvg.insert(\"g\").attr(\"class\", \"label\");\n  let verticalPos = 0;\n  const hasInterface = node.classData.annotations?.[0];\n  const interfaceLabelText = node.classData.annotations[0] ? \"\\xAB\" + node.classData.annotations[0] + \"\\xBB\" : \"\";\n  const interfaceLabel = labelContainer.node().appendChild(createLabel_default(interfaceLabelText, node.labelStyle, true, true));\n  let interfaceBBox = interfaceLabel.getBBox();\n  if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels)) {\n    const div = interfaceLabel.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(interfaceLabel);\n    interfaceBBox = div.getBoundingClientRect();\n    dv.attr(\"width\", interfaceBBox.width);\n    dv.attr(\"height\", interfaceBBox.height);\n  }\n  if (node.classData.annotations[0]) {\n    maxHeight += interfaceBBox.height + rowPadding;\n    maxWidth += interfaceBBox.width;\n  }\n  let classTitleString = node.classData.label;\n  if (node.classData.type !== void 0 && node.classData.type !== \"\") {\n    if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels) {\n      classTitleString += \"&lt;\" + node.classData.type + \"&gt;\";\n    } else {\n      classTitleString += \"<\" + node.classData.type + \">\";\n    }\n  }\n  const classTitleLabel = labelContainer.node().appendChild(createLabel_default(classTitleString, node.labelStyle, true, true));\n  (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(classTitleLabel).attr(\"class\", \"classTitle\");\n  let classTitleBBox = classTitleLabel.getBBox();\n  if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels)) {\n    const div = classTitleLabel.children[0];\n    const dv = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(classTitleLabel);\n    classTitleBBox = div.getBoundingClientRect();\n    dv.attr(\"width\", classTitleBBox.width);\n    dv.attr(\"height\", classTitleBBox.height);\n  }\n  maxHeight += classTitleBBox.height + rowPadding;\n  if (classTitleBBox.width > maxWidth) {\n    maxWidth = classTitleBBox.width;\n  }\n  const classAttributes = [];\n  node.classData.members.forEach((member) => {\n    const parsedInfo = member.getDisplayDetails();\n    let parsedText = parsedInfo.displayText;\n    if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels) {\n      parsedText = parsedText.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n    }\n    const lbl = labelContainer.node().appendChild(\n      createLabel_default(\n        parsedText,\n        parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle,\n        true,\n        true\n      )\n    );\n    let bbox = lbl.getBBox();\n    if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr(\"width\", bbox.width);\n      dv.attr(\"height\", bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n    classAttributes.push(lbl);\n  });\n  maxHeight += lineHeight;\n  const classMethods = [];\n  node.classData.methods.forEach((member) => {\n    const parsedInfo = member.getDisplayDetails();\n    let displayText = parsedInfo.displayText;\n    if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels) {\n      displayText = displayText.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n    }\n    const lbl = labelContainer.node().appendChild(\n      createLabel_default(\n        displayText,\n        parsedInfo.cssStyle ? parsedInfo.cssStyle : node.labelStyle,\n        true,\n        true\n      )\n    );\n    let bbox = lbl.getBBox();\n    if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.evaluate)((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().flowchart.htmlLabels)) {\n      const div = lbl.children[0];\n      const dv = (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(lbl);\n      bbox = div.getBoundingClientRect();\n      dv.attr(\"width\", bbox.width);\n      dv.attr(\"height\", bbox.height);\n    }\n    if (bbox.width > maxWidth) {\n      maxWidth = bbox.width;\n    }\n    maxHeight += bbox.height + rowPadding;\n    classMethods.push(lbl);\n  });\n  maxHeight += lineHeight;\n  if (hasInterface) {\n    let diffX2 = (maxWidth - interfaceBBox.width) / 2;\n    (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(interfaceLabel).attr(\n      \"transform\",\n      \"translate( \" + (-1 * maxWidth / 2 + diffX2) + \", \" + -1 * maxHeight / 2 + \")\"\n    );\n    verticalPos = interfaceBBox.height + rowPadding;\n  }\n  let diffX = (maxWidth - classTitleBBox.width) / 2;\n  (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(classTitleLabel).attr(\n    \"transform\",\n    \"translate( \" + (-1 * maxWidth / 2 + diffX) + \", \" + (-1 * maxHeight / 2 + verticalPos) + \")\"\n  );\n  verticalPos += classTitleBBox.height + rowPadding;\n  topLine.attr(\"class\", \"divider\").attr(\"x1\", -maxWidth / 2 - halfPadding).attr(\"x2\", maxWidth / 2 + halfPadding).attr(\"y1\", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr(\"y2\", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n  verticalPos += lineHeight;\n  classAttributes.forEach((lbl) => {\n    (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(lbl).attr(\n      \"transform\",\n      \"translate( \" + -maxWidth / 2 + \", \" + (-1 * maxHeight / 2 + verticalPos + lineHeight / 2) + \")\"\n    );\n    const memberBBox = lbl?.getBBox();\n    verticalPos += (memberBBox?.height ?? 0) + rowPadding;\n  });\n  verticalPos += lineHeight;\n  bottomLine.attr(\"class\", \"divider\").attr(\"x1\", -maxWidth / 2 - halfPadding).attr(\"x2\", maxWidth / 2 + halfPadding).attr(\"y1\", -maxHeight / 2 - halfPadding + lineHeight + verticalPos).attr(\"y2\", -maxHeight / 2 - halfPadding + lineHeight + verticalPos);\n  verticalPos += lineHeight;\n  classMethods.forEach((lbl) => {\n    (0,d3__WEBPACK_IMPORTED_MODULE_3__.select)(lbl).attr(\n      \"transform\",\n      \"translate( \" + -maxWidth / 2 + \", \" + (-1 * maxHeight / 2 + verticalPos) + \")\"\n    );\n    const memberBBox = lbl?.getBBox();\n    verticalPos += (memberBBox?.height ?? 0) + rowPadding;\n  });\n  rect2.attr(\"style\", node.style).attr(\"class\", \"outer title-state\").attr(\"x\", -maxWidth / 2 - halfPadding).attr(\"y\", -(maxHeight / 2) - halfPadding).attr(\"width\", maxWidth + node.padding).attr(\"height\", maxHeight + node.padding);\n  updateNodeBounds(node, rect2);\n  node.intersect = function(point) {\n    return intersect_default.rect(node, point);\n  };\n  return shapeSvg;\n}, \"class_box\");\nvar shapes = {\n  rhombus: question,\n  composite,\n  question,\n  rect,\n  labelRect,\n  rectWithTitle,\n  choice,\n  circle,\n  doublecircle,\n  stadium,\n  hexagon,\n  block_arrow,\n  rect_left_inv_arrow,\n  lean_right,\n  lean_left,\n  trapezoid,\n  inv_trapezoid,\n  rect_right_inv_arrow,\n  cylinder,\n  start,\n  end,\n  note: note_default,\n  subroutine,\n  fork: forkJoin,\n  join: forkJoin,\n  class_box\n};\nvar nodeElems = {};\nvar insertNode = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(async (elem, node, dir) => {\n  let newEl;\n  let el;\n  if (node.link) {\n    let target;\n    if ((0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.getConfig2)().securityLevel === \"sandbox\") {\n      target = \"_top\";\n    } else if (node.linkTarget) {\n      target = node.linkTarget || \"_blank\";\n    }\n    newEl = elem.insert(\"svg:a\").attr(\"xlink:href\", node.link).attr(\"target\", target);\n    el = await shapes[node.shape](newEl, node, dir);\n  } else {\n    el = await shapes[node.shape](elem, node, dir);\n    newEl = el;\n  }\n  if (node.tooltip) {\n    el.attr(\"title\", node.tooltip);\n  }\n  if (node.class) {\n    el.attr(\"class\", \"node default \" + node.class);\n  }\n  nodeElems[node.id] = newEl;\n  if (node.haveCallback) {\n    nodeElems[node.id].attr(\"class\", nodeElems[node.id].attr(\"class\") + \" clickable\");\n  }\n  return newEl;\n}, \"insertNode\");\nvar setNodeElem = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((elem, node) => {\n  nodeElems[node.id] = elem;\n}, \"setNodeElem\");\nvar clear = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)(() => {\n  nodeElems = {};\n}, \"clear\");\nvar positionNode = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.__name)((node) => {\n  const el = nodeElems[node.id];\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_2__.log.trace(\n    \"Transforming node\",\n    node.diff,\n    node,\n    \"translate(\" + (node.x - node.width / 2 - 5) + \", \" + node.width / 2 + \")\"\n  );\n  const padding = 8;\n  const diff = node.diff || 0;\n  if (node.clusterNode) {\n    el.attr(\n      \"transform\",\n      \"translate(\" + (node.x + diff - node.width / 2) + \", \" + (node.y - node.height / 2 - padding) + \")\"\n    );\n  } else {\n    el.attr(\"transform\", \"translate(\" + node.x + \", \" + node.y + \")\");\n  }\n  return diff;\n}, \"positionNode\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tZXJtYWlkL2Rpc3QvY2h1bmtzL21lcm1haWQuY29yZS9jaHVuay1ER1BUNVBQSS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFHOEI7QUFHQTtBQU9BOztBQUU5QjtBQUM0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQU07QUFDTjtBQUNBLGFBQWEsMENBQU07QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBTTtBQUNOLGtDQUFrQywyREFBTTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNkRBQVEsQ0FBQywrREFBUztBQUN4QjtBQUNBLElBQUksb0RBQUc7QUFDUDtBQUNBO0FBQ0EsYUFBYSx5RUFBb0IsQ0FBQyxtRUFBYztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDs7QUFFQTtBQUN1QztBQUN2QyxrQ0FBa0MsMkRBQU07QUFDeEMsaUJBQWlCLCtEQUFTO0FBQzFCO0FBQ0EsOENBQThDLDZEQUFRO0FBQ3REO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsK0RBQVU7QUFDckI7QUFDQSxNQUFNLGlFQUFZLENBQUMsbUVBQWM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBLDBCQUEwQixpRUFBWSxD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ZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbWVybWFpZC9kaXN0L2NodW5rcy9tZXJtYWlkLmNvcmUvY2h1bmstREdQVDVQUEkubWpzP2NiZGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgY3JlYXRlVGV4dCxcbiAgcmVwbGFjZUljb25TdWJzdHJpbmdcbn0gZnJvbSBcIi4vY2h1bmstUkFWTktPUVYubWpzXCI7XG5pbXBvcnQge1xuICBkZWNvZGVFbnRpdGllc1xufSBmcm9tIFwiLi9jaHVuay0yRURUV0RZSS5tanNcIjtcbmltcG9ydCB7XG4gIF9fbmFtZSxcbiAgZXZhbHVhdGUsXG4gIGdldENvbmZpZzIgYXMgZ2V0Q29uZmlnLFxuICBsb2csXG4gIHNhbml0aXplVGV4dFxufSBmcm9tIFwiLi9jaHVuay1JSUtNUUxJQy5tanNcIjtcblxuLy8gc3JjL2RhZ3JlLXdyYXBwZXIvY3JlYXRlTGFiZWwuanNcbmltcG9ydCB7IHNlbGVjdCB9IGZyb20gXCJkM1wiO1xuZnVuY3Rpb24gYXBwbHlTdHlsZShkb20sIHN0eWxlRm4pIHtcbiAgaWYgKHN0eWxlRm4pIHtcbiAgICBkb20uYXR0cihcInN0eWxlXCIsIHN0eWxlRm4pO1xuICB9XG59XG5fX25hbWUoYXBwbHlTdHlsZSwgXCJhcHBseVN0eWxlXCIpO1xuZnVuY3Rpb24gYWRkSHRtbExhYmVsKG5vZGUpIHtcbiAgY29uc3QgZm8gPSBzZWxlY3QoZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJmb3JlaWduT2JqZWN0XCIpKTtcbiAgY29uc3QgZGl2ID0gZm8uYXBwZW5kKFwieGh0bWw6ZGl2XCIpO1xuICBjb25zdCBsYWJlbCA9IG5vZGUubGFiZWw7XG4gIGNvbnN0IGxhYmVsQ2xhc3MgPSBub2RlLmlzTm9kZSA/IFwibm9kZUxhYmVsXCIgOiBcImVkZ2VMYWJlbFwiO1xuICBjb25zdCBzcGFuID0gZGl2LmFwcGVuZChcInNwYW5cIik7XG4gIHNwYW4uaHRtbChsYWJlbCk7XG4gIGFwcGx5U3R5bGUoc3Bhbiwgbm9kZS5sYWJlbFN0eWxlKTtcbiAgc3Bhbi5hdHRyKFwiY2xhc3NcIiwgbGFiZWxDbGFzcyk7XG4gIGFwcGx5U3R5bGUoZGl2LCBub2RlLmxhYmVsU3R5bGUpO1xuICBkaXYuc3R5bGUoXCJkaXNwbGF5XCIsIFwiaW5saW5lLWJsb2NrXCIpO1xuICBkaXYuc3R5bGUoXCJ3aGl0ZS1zcGFjZVwiLCBcIm5vd3JhcFwiKTtcbiAgZGl2LmF0dHIoXCJ4bWxuc1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGh0bWxcIik7XG4gIHJldHVybiBmby5ub2RlKCk7XG59XG5fX25hbWUoYWRkSHRtbExhYmVsLCBcImFkZEh0bWxMYWJlbFwiKTtcbnZhciBjcmVhdGVMYWJlbCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKF92ZXJ0ZXhUZXh0LCBzdHlsZSwgaXNUaXRsZSwgaXNOb2RlKSA9PiB7XG4gIGxldCB2ZXJ0ZXhUZXh0ID0gX3ZlcnRleFRleHQgfHwgXCJcIjtcbiAgaWYgKHR5cGVvZiB2ZXJ0ZXhUZXh0ID09PSBcIm9iamVjdFwiKSB7XG4gICAgdmVydGV4VGV4dCA9IHZlcnRleFRleHRbMF07XG4gIH1cbiAgaWYgKGV2YWx1YXRlKGdldENvbmZpZygpLmZsb3djaGFydC5odG1sTGFiZWxzKSkge1xuICAgIHZlcnRleFRleHQgPSB2ZXJ0ZXhUZXh0LnJlcGxhY2UoL1xcXFxufFxcbi9nLCBcIjxiciAvPlwiKTtcbiAgICBsb2cuZGVidWcoXCJ2ZXJ0ZXhUZXh0XCIgKyB2ZXJ0ZXhUZXh0KTtcbiAgICBjb25zdCBub2RlID0ge1xuICAgICAgaXNOb2RlLFxuICAgICAgbGFiZWw6IHJlcGxhY2VJY29uU3Vic3RyaW5nKGRlY29kZUVudGl0aWVzKHZlcnRleFRleHQpKSxcbiAgICAgIGxhYmVsU3R5bGU6IHN0eWxlLnJlcGxhY2UoXCJmaWxsOlwiLCBcImNvbG9yOlwiKVxuICAgIH07XG4gICAgbGV0IHZlcnRleE5vZGUgPSBhZGRIdG1sTGFiZWwobm9kZSk7XG4gICAgcmV0dXJuIHZlcnRleE5vZGU7XG4gIH0gZWxzZSB7XG4gICAgY29uc3Qgc3ZnTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInRleHRcIik7XG4gICAgc3ZnTGFiZWwuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgc3R5bGUucmVwbGFjZShcImNvbG9yOlwiLCBcImZpbGw6XCIpKTtcbiAgICBsZXQgcm93cyA9IFtdO1xuICAgIGlmICh0eXBlb2YgdmVydGV4VGV4dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgcm93cyA9IHZlcnRleFRleHQuc3BsaXQoL1xcXFxufFxcbnw8YnJcXHMqXFwvPz4vZ2kpO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh2ZXJ0ZXhUZXh0KSkge1xuICAgICAgcm93cyA9IHZlcnRleFRleHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvd3MgPSBbXTtcbiAgICB9XG4gICAgZm9yIChjb25zdCByb3cgb2Ygcm93cykge1xuICAgICAgY29uc3QgdHNwYW4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBcInRzcGFuXCIpO1xuICAgICAgdHNwYW4uc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy9YTUwvMTk5OC9uYW1lc3BhY2VcIiwgXCJ4bWw6c3BhY2VcIiwgXCJwcmVzZXJ2ZVwiKTtcbiAgICAgIHRzcGFuLnNldEF0dHJpYnV0ZShcImR5XCIsIFwiMWVtXCIpO1xuICAgICAgdHNwYW4uc2V0QXR0cmlidXRlKFwieFwiLCBcIjBcIik7XG4gICAgICBpZiAoaXNUaXRsZSkge1xuICAgICAgICB0c3Bhbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInRpdGxlLXJvd1wiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRzcGFuLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwicm93XCIpO1xuICAgICAgfVxuICAgICAgdHNwYW4udGV4dENvbnRlbnQgPSByb3cudHJpbSgpO1xuICAgICAgc3ZnTGFiZWwuYXBwZW5kQ2hpbGQodHNwYW4pO1xuICAgIH1cbiAgICByZXR1cm4gc3ZnTGFiZWw7XG4gIH1cbn0sIFwiY3JlYXRlTGFiZWxcIik7XG52YXIgY3JlYXRlTGFiZWxfZGVmYXVsdCA9IGNyZWF0ZUxhYmVsO1xuXG4vLyBzcmMvZGFncmUtd3JhcHBlci9zaGFwZXMvdXRpbC5qc1xuaW1wb3J0IHsgc2VsZWN0IGFzIHNlbGVjdDIgfSBmcm9tIFwiZDNcIjtcbnZhciBsYWJlbEhlbHBlciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKHBhcmVudCwgbm9kZSwgX2NsYXNzZXMsIGlzTm9kZSkgPT4ge1xuICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcbiAgbGV0IGNsYXNzZXM7XG4gIGNvbnN0IHVzZUh0bWxMYWJlbHMgPSBub2RlLnVzZUh0bWxMYWJlbHMgfHwgZXZhbHVhdGUoY29uZmlnLmZsb3djaGFydC5odG1sTGFiZWxzKTtcbiAgaWYgKCFfY2xhc3Nlcykge1xuICAgIGNsYXNzZXMgPSBcIm5vZGUgZGVmYXVsdFwiO1xuICB9IGVsc2Uge1xuICAgIGNsYXNzZXMgPSBfY2xhc3NlcztcbiAgfVxuICBjb25zdCBzaGFwZVN2ZyA9IHBhcmVudC5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBjbGFzc2VzKS5hdHRyKFwiaWRcIiwgbm9kZS5kb21JZCB8fCBub2RlLmlkKTtcbiAgY29uc3QgbGFiZWwgPSBzaGFwZVN2Zy5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpLmF0dHIoXCJzdHlsZVwiLCBub2RlLmxhYmVsU3R5bGUpO1xuICBsZXQgbGFiZWxUZXh0O1xuICBpZiAobm9kZS5sYWJlbFRleHQgPT09IHZvaWQgMCkge1xuICAgIGxhYmVsVGV4dCA9IFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgbGFiZWxUZXh0ID0gdHlwZW9mIG5vZGUubGFiZWxUZXh0ID09PSBcInN0cmluZ1wiID8gbm9kZS5sYWJlbFRleHQgOiBub2RlLmxhYmVsVGV4dFswXTtcbiAgfVxuICBjb25zdCB0ZXh0Tm9kZSA9IGxhYmVsLm5vZGUoKTtcbiAgbGV0IHRleHQ7XG4gIGlmIChub2RlLmxhYmVsVHlwZSA9PT0gXCJtYXJrZG93blwiKSB7XG4gICAgdGV4dCA9IGNyZWF0ZVRleHQoXG4gICAgICBsYWJlbCxcbiAgICAgIHNhbml0aXplVGV4dChkZWNvZGVFbnRpdGllcyhsYWJlbFRleHQpLCBjb25maWcpLFxuICAgICAge1xuICAgICAgICB1c2VIdG1sTGFiZWxzLFxuICAgICAgICB3aWR0aDogbm9kZS53aWR0aCB8fCBjb25maWcuZmxvd2NoYXJ0LndyYXBwaW5nV2lkdGgsXG4gICAgICAgIGNsYXNzZXM6IFwibWFya2Rvd24tbm9kZS1sYWJlbFwiXG4gICAgICB9LFxuICAgICAgY29uZmlnXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICB0ZXh0ID0gdGV4dE5vZGUuYXBwZW5kQ2hpbGQoXG4gICAgICBjcmVhdGVMYWJlbF9kZWZhdWx0KHNhbml0aXplVGV4dChkZWNvZGVFbnRpdGllcyhsYWJlbFRleHQpLCBjb25maWcpLCBub2RlLmxhYmVsU3R5bGUsIGZhbHNlLCBpc05vZGUpXG4gICAgKTtcbiAgfVxuICBsZXQgYmJveCA9IHRleHQuZ2V0QkJveCgpO1xuICBjb25zdCBoYWxmUGFkZGluZyA9IG5vZGUucGFkZGluZyAvIDI7XG4gIGlmIChldmFsdWF0ZShjb25maWcuZmxvd2NoYXJ0Lmh0bWxMYWJlbHMpKSB7XG4gICAgY29uc3QgZGl2ID0gdGV4dC5jaGlsZHJlblswXTtcbiAgICBjb25zdCBkdiA9IHNlbGVjdDIodGV4dCk7XG4gICAgY29uc3QgaW1hZ2VzID0gZGl2LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1nXCIpO1xuICAgIGlmIChpbWFnZXMpIHtcbiAgICAgIGNvbnN0IG5vSW1nVGV4dCA9IGxhYmVsVGV4dC5yZXBsYWNlKC88aW1nW14+XSo+L2csIFwiXCIpLnRyaW0oKSA9PT0gXCJcIjtcbiAgICAgIGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICBbLi4uaW1hZ2VzXS5tYXAoXG4gICAgICAgICAgKGltZykgPT4gbmV3IFByb21pc2UoKHJlcykgPT4ge1xuICAgICAgICAgICAgZnVuY3Rpb24gc2V0dXBJbWFnZSgpIHtcbiAgICAgICAgICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcbiAgICAgICAgICAgICAgaW1nLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSBcImNvbHVtblwiO1xuICAgICAgICAgICAgICBpZiAobm9JbWdUZXh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYm9keUZvbnRTaXplID0gY29uZmlnLmZvbnRTaXplID8gY29uZmlnLmZvbnRTaXplIDogd2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuYm9keSkuZm9udFNpemU7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5sYXJnaW5nRmFjdG9yID0gNTtcbiAgICAgICAgICAgICAgICBjb25zdCB3aWR0aCA9IHBhcnNlSW50KGJvZHlGb250U2l6ZSwgMTApICogZW5sYXJnaW5nRmFjdG9yICsgXCJweFwiO1xuICAgICAgICAgICAgICAgIGltZy5zdHlsZS5taW5XaWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICAgIGltZy5zdHlsZS5tYXhXaWR0aCA9IHdpZHRoO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGltZy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlcyhpbWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX19uYW1lKHNldHVwSW1hZ2UsIFwic2V0dXBJbWFnZVwiKTtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBpZiAoaW1nLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgc2V0dXBJbWFnZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGltZy5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgc2V0dXBJbWFnZSk7XG4gICAgICAgICAgICBpbWcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgc2V0dXBJbWFnZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gICAgYmJveCA9IGRpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBkdi5hdHRyKFwid2lkdGhcIiwgYmJveC53aWR0aCk7XG4gICAgZHYuYXR0cihcImhlaWdodFwiLCBiYm94LmhlaWdodCk7XG4gIH1cbiAgaWYgKHVzZUh0bWxMYWJlbHMpIHtcbiAgICBsYWJlbC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgLWJib3gud2lkdGggLyAyICsgXCIsIFwiICsgLWJib3guaGVpZ2h0IC8gMiArIFwiKVwiKTtcbiAgfSBlbHNlIHtcbiAgICBsYWJlbC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsIFwiICsgLWJib3guaGVpZ2h0IC8gMiArIFwiKVwiKTtcbiAgfVxuICBpZiAobm9kZS5jZW50ZXJMYWJlbCkge1xuICAgIGxhYmVsLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAtYmJveC53aWR0aCAvIDIgKyBcIiwgXCIgKyAtYmJveC5oZWlnaHQgLyAyICsgXCIpXCIpO1xuICB9XG4gIGxhYmVsLmluc2VydChcInJlY3RcIiwgXCI6Zmlyc3QtY2hpbGRcIik7XG4gIHJldHVybiB7IHNoYXBlU3ZnLCBiYm94LCBoYWxmUGFkZGluZywgbGFiZWwgfTtcbn0sIFwibGFiZWxIZWxwZXJcIik7XG52YXIgdXBkYXRlTm9kZUJvdW5kcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG5vZGUsIGVsZW1lbnQpID0+IHtcbiAgY29uc3QgYmJveCA9IGVsZW1lbnQubm9kZSgpLmdldEJCb3goKTtcbiAgbm9kZS53aWR0aCA9IGJib3gud2lkdGg7XG4gIG5vZGUuaGVpZ2h0ID0gYmJveC5oZWlnaHQ7XG59LCBcInVwZGF0ZU5vZGVCb3VuZHNcIik7XG5mdW5jdGlvbiBpbnNlcnRQb2x5Z29uU2hhcGUocGFyZW50LCB3LCBoLCBwb2ludHMpIHtcbiAgcmV0dXJuIHBhcmVudC5pbnNlcnQoXCJwb2x5Z29uXCIsIFwiOmZpcnN0LWNoaWxkXCIpLmF0dHIoXG4gICAgXCJwb2ludHNcIixcbiAgICBwb2ludHMubWFwKGZ1bmN0aW9uKGQpIHtcbiAgICAgIHJldHVybiBkLnggKyBcIixcIiArIGQueTtcbiAgICB9KS5qb2luKFwiIFwiKVxuICApLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsLWNvbnRhaW5lclwiKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgLXcgLyAyICsgXCIsXCIgKyBoIC8gMiArIFwiKVwiKTtcbn1cbl9fbmFtZShpbnNlcnRQb2x5Z29uU2hhcGUsIFwiaW5zZXJ0UG9seWdvblNoYXBlXCIpO1xuXG4vLyBzcmMvZGFncmUtd3JhcHBlci9ub2Rlcy5qc1xuaW1wb3J0IHsgc2VsZWN0IGFzIHNlbGVjdDMgfSBmcm9tIFwiZDNcIjtcblxuLy8gc3JjL2RhZ3JlLXdyYXBwZXIvYmxvY2tBcnJvd0hlbHBlci50c1xudmFyIGV4cGFuZEFuZERlZHVwbGljYXRlRGlyZWN0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGRpcmVjdGlvbnMpID0+IHtcbiAgY29uc3QgdW5pcXVlRGlyZWN0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGZvciAoY29uc3QgZGlyZWN0aW9uIG9mIGRpcmVjdGlvbnMpIHtcbiAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgY2FzZSBcInhcIjpcbiAgICAgICAgdW5pcXVlRGlyZWN0aW9ucy5hZGQoXCJyaWdodFwiKTtcbiAgICAgICAgdW5pcXVlRGlyZWN0aW9ucy5hZGQoXCJsZWZ0XCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJ5XCI6XG4gICAgICAgIHVuaXF1ZURpcmVjdGlvbnMuYWRkKFwidXBcIik7XG4gICAgICAgIHVuaXF1ZURpcmVjdGlvbnMuYWRkKFwiZG93blwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB1bmlxdWVEaXJlY3Rpb25zLmFkZChkaXJlY3Rpb24pO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHVuaXF1ZURpcmVjdGlvbnM7XG59LCBcImV4cGFuZEFuZERlZHVwbGljYXRlRGlyZWN0aW9uc1wiKTtcbnZhciBnZXRBcnJvd1BvaW50cyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGR1cGxpY2F0ZWREaXJlY3Rpb25zLCBiYm94LCBub2RlKSA9PiB7XG4gIGNvbnN0IGRpcmVjdGlvbnMgPSBleHBhbmRBbmREZWR1cGxpY2F0ZURpcmVjdGlvbnMoZHVwbGljYXRlZERpcmVjdGlvbnMpO1xuICBjb25zdCBmID0gMjtcbiAgY29uc3QgaGVpZ2h0ID0gYmJveC5oZWlnaHQgKyAyICogbm9kZS5wYWRkaW5nO1xuICBjb25zdCBtaWRwb2ludCA9IGhlaWdodCAvIGY7XG4gIGNvbnN0IHdpZHRoID0gYmJveC53aWR0aCArIDIgKiBtaWRwb2ludCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgcGFkZGluZyA9IG5vZGUucGFkZGluZyAvIDI7XG4gIGlmIChkaXJlY3Rpb25zLmhhcyhcInJpZ2h0XCIpICYmIGRpcmVjdGlvbnMuaGFzKFwibGVmdFwiKSAmJiBkaXJlY3Rpb25zLmhhcyhcInVwXCIpICYmIGRpcmVjdGlvbnMuaGFzKFwiZG93blwiKSkge1xuICAgIHJldHVybiBbXG4gICAgICAvLyBCb3R0b21cbiAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgeyB4OiBtaWRwb2ludCwgeTogMCB9LFxuICAgICAgeyB4OiB3aWR0aCAvIDIsIHk6IDIgKiBwYWRkaW5nIH0sXG4gICAgICB7IHg6IHdpZHRoIC0gbWlkcG9pbnQsIHk6IDAgfSxcbiAgICAgIHsgeDogd2lkdGgsIHk6IDAgfSxcbiAgICAgIC8vIFJpZ2h0XG4gICAgICB7IHg6IHdpZHRoLCB5OiAtaGVpZ2h0IC8gMyB9LFxuICAgICAgeyB4OiB3aWR0aCArIDIgKiBwYWRkaW5nLCB5OiAtaGVpZ2h0IC8gMiB9LFxuICAgICAgeyB4OiB3aWR0aCwgeTogLTIgKiBoZWlnaHQgLyAzIH0sXG4gICAgICB7IHg6IHdpZHRoLCB5OiAtaGVpZ2h0IH0sXG4gICAgICAvLyBUb3BcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLWhlaWdodCB9LFxuICAgICAgeyB4OiB3aWR0aCAvIDIsIHk6IC1oZWlnaHQgLSAyICogcGFkZGluZyB9LFxuICAgICAgeyB4OiBtaWRwb2ludCwgeTogLWhlaWdodCB9LFxuICAgICAgLy8gTGVmdFxuICAgICAgeyB4OiAwLCB5OiAtaGVpZ2h0IH0sXG4gICAgICB7IHg6IDAsIHk6IC0yICogaGVpZ2h0IC8gMyB9LFxuICAgICAgeyB4OiAtMiAqIHBhZGRpbmcsIHk6IC1oZWlnaHQgLyAyIH0sXG4gICAgICB7IHg6IDAsIHk6IC1oZWlnaHQgLyAzIH1cbiAgICBdO1xuICB9XG4gIGlmIChkaXJlY3Rpb25zLmhhcyhcInJpZ2h0XCIpICYmIGRpcmVjdGlvbnMuaGFzKFwibGVmdFwiKSAmJiBkaXJlY3Rpb25zLmhhcyhcInVwXCIpKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgeDogbWlkcG9pbnQsIHk6IDAgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogMCB9LFxuICAgICAgeyB4OiB3aWR0aCwgeTogLWhlaWdodCAvIDIgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLWhlaWdodCB9LFxuICAgICAgeyB4OiBtaWRwb2ludCwgeTogLWhlaWdodCB9LFxuICAgICAgeyB4OiAwLCB5OiAtaGVpZ2h0IC8gMiB9XG4gICAgXTtcbiAgfVxuICBpZiAoZGlyZWN0aW9ucy5oYXMoXCJyaWdodFwiKSAmJiBkaXJlY3Rpb25zLmhhcyhcImxlZnRcIikgJiYgZGlyZWN0aW9ucy5oYXMoXCJkb3duXCIpKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgeyB4OiBtaWRwb2ludCwgeTogLWhlaWdodCB9LFxuICAgICAgeyB4OiB3aWR0aCAtIG1pZHBvaW50LCB5OiAtaGVpZ2h0IH0sXG4gICAgICB7IHg6IHdpZHRoLCB5OiAwIH1cbiAgICBdO1xuICB9XG4gIGlmIChkaXJlY3Rpb25zLmhhcyhcInJpZ2h0XCIpICYmIGRpcmVjdGlvbnMuaGFzKFwidXBcIikgJiYgZGlyZWN0aW9ucy5oYXMoXCJkb3duXCIpKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgeyB4OiB3aWR0aCwgeTogLW1pZHBvaW50IH0sXG4gICAgICB7IHg6IHdpZHRoLCB5OiAtaGVpZ2h0ICsgbWlkcG9pbnQgfSxcbiAgICAgIHsgeDogMCwgeTogLWhlaWdodCB9XG4gICAgXTtcbiAgfVxuICBpZiAoZGlyZWN0aW9ucy5oYXMoXCJsZWZ0XCIpICYmIGRpcmVjdGlvbnMuaGFzKFwidXBcIikgJiYgZGlyZWN0aW9ucy5oYXMoXCJkb3duXCIpKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgeDogd2lkdGgsIHk6IDAgfSxcbiAgICAgIHsgeDogMCwgeTogLW1pZHBvaW50IH0sXG4gICAgICB7IHg6IDAsIHk6IC1oZWlnaHQgKyBtaWRwb2ludCB9LFxuICAgICAgeyB4OiB3aWR0aCwgeTogLWhlaWdodCB9XG4gICAgXTtcbiAgfVxuICBpZiAoZGlyZWN0aW9ucy5oYXMoXCJyaWdodFwiKSAmJiBkaXJlY3Rpb25zLmhhcyhcImxlZnRcIikpIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyB4OiBtaWRwb2ludCwgeTogMCB9LFxuICAgICAgeyB4OiBtaWRwb2ludCwgeTogLXBhZGRpbmcgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLXBhZGRpbmcgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogMCB9LFxuICAgICAgeyB4OiB3aWR0aCwgeTogLWhlaWdodCAvIDIgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLWhlaWdodCB9LFxuICAgICAgeyB4OiB3aWR0aCAtIG1pZHBvaW50LCB5OiAtaGVpZ2h0ICsgcGFkZGluZyB9LFxuICAgICAgeyB4OiBtaWRwb2ludCwgeTogLWhlaWdodCArIHBhZGRpbmcgfSxcbiAgICAgIHsgeDogbWlkcG9pbnQsIHk6IC1oZWlnaHQgfSxcbiAgICAgIHsgeDogMCwgeTogLWhlaWdodCAvIDIgfVxuICAgIF07XG4gIH1cbiAgaWYgKGRpcmVjdGlvbnMuaGFzKFwidXBcIikgJiYgZGlyZWN0aW9ucy5oYXMoXCJkb3duXCIpKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIC8vIEJvdHRvbSBjZW50ZXJcbiAgICAgIHsgeDogd2lkdGggLyAyLCB5OiAwIH0sXG4gICAgICAvLyBMZWZ0IHBvbnQgb2YgYm90dG9tIGFycm93XG4gICAgICB7IHg6IDAsIHk6IC1wYWRkaW5nIH0sXG4gICAgICB7IHg6IG1pZHBvaW50LCB5OiAtcGFkZGluZyB9LFxuICAgICAgLy8gTGVmdCB0b3Agb3ZlciB2ZXJ0aWNhbCBzZWN0aW9uXG4gICAgICB7IHg6IG1pZHBvaW50LCB5OiAtaGVpZ2h0ICsgcGFkZGluZyB9LFxuICAgICAgeyB4OiAwLCB5OiAtaGVpZ2h0ICsgcGFkZGluZyB9LFxuICAgICAgLy8gVG9wIG9mIGFycm93XG4gICAgICB7IHg6IHdpZHRoIC8gMiwgeTogLWhlaWdodCB9LFxuICAgICAgeyB4OiB3aWR0aCwgeTogLWhlaWdodCArIHBhZGRpbmcgfSxcbiAgICAgIC8vIFRvcCBvZiByaWdodCB2ZXJ0aWNhbCBiYXJcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLWhlaWdodCArIHBhZGRpbmcgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLXBhZGRpbmcgfSxcbiAgICAgIHsgeDogd2lkdGgsIHk6IC1wYWRkaW5nIH1cbiAgICBdO1xuICB9XG4gIGlmIChkaXJlY3Rpb25zLmhhcyhcInJpZ2h0XCIpICYmIGRpcmVjdGlvbnMuaGFzKFwidXBcIikpIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICB7IHg6IHdpZHRoLCB5OiAtbWlkcG9pbnQgfSxcbiAgICAgIHsgeDogMCwgeTogLWhlaWdodCB9XG4gICAgXTtcbiAgfVxuICBpZiAoZGlyZWN0aW9ucy5oYXMoXCJyaWdodFwiKSAmJiBkaXJlY3Rpb25zLmhhcyhcImRvd25cIikpIHtcbiAgICByZXR1cm4gW1xuICAgICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgICB7IHg6IHdpZHRoLCB5OiAwIH0sXG4gICAgICB7IHg6IDAsIHk6IC1oZWlnaHQgfVxuICAgIF07XG4gIH1cbiAgaWYgKGRpcmVjdGlvbnMuaGFzKFwibGVmdFwiKSAmJiBkaXJlY3Rpb25zLmhhcyhcInVwXCIpKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgeDogd2lkdGgsIHk6IDAgfSxcbiAgICAgIHsgeDogMCwgeTogLW1pZHBvaW50IH0sXG4gICAgICB7IHg6IHdpZHRoLCB5OiAtaGVpZ2h0IH1cbiAgICBdO1xuICB9XG4gIGlmIChkaXJlY3Rpb25zLmhhcyhcImxlZnRcIikgJiYgZGlyZWN0aW9ucy5oYXMoXCJkb3duXCIpKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIHsgeDogd2lkdGgsIHk6IDAgfSxcbiAgICAgIHsgeDogMCwgeTogMCB9LFxuICAgICAgeyB4OiB3aWR0aCwgeTogLWhlaWdodCB9XG4gICAgXTtcbiAgfVxuICBpZiAoZGlyZWN0aW9ucy5oYXMoXCJyaWdodFwiKSkge1xuICAgIHJldHVybiBbXG4gICAgICB7IHg6IG1pZHBvaW50LCB5OiAtcGFkZGluZyB9LFxuICAgICAgeyB4OiBtaWRwb2ludCwgeTogLXBhZGRpbmcgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLXBhZGRpbmcgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogMCB9LFxuICAgICAgeyB4OiB3aWR0aCwgeTogLWhlaWdodCAvIDIgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLWhlaWdodCB9LFxuICAgICAgeyB4OiB3aWR0aCAtIG1pZHBvaW50LCB5OiAtaGVpZ2h0ICsgcGFkZGluZyB9LFxuICAgICAgLy8gdG9wIGxlZnQgY29ybmVyIG9mIGFycm93XG4gICAgICB7IHg6IG1pZHBvaW50LCB5OiAtaGVpZ2h0ICsgcGFkZGluZyB9LFxuICAgICAgeyB4OiBtaWRwb2ludCwgeTogLWhlaWdodCArIHBhZGRpbmcgfVxuICAgIF07XG4gIH1cbiAgaWYgKGRpcmVjdGlvbnMuaGFzKFwibGVmdFwiKSkge1xuICAgIHJldHVybiBbXG4gICAgICB7IHg6IG1pZHBvaW50LCB5OiAwIH0sXG4gICAgICB7IHg6IG1pZHBvaW50LCB5OiAtcGFkZGluZyB9LFxuICAgICAgLy8gVHdvIHBvaW50cywgdGhlIHJpZ2h0IGNvcm5lcnNcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLXBhZGRpbmcgfSxcbiAgICAgIHsgeDogd2lkdGggLSBtaWRwb2ludCwgeTogLWhlaWdodCArIHBhZGRpbmcgfSxcbiAgICAgIHsgeDogbWlkcG9pbnQsIHk6IC1oZWlnaHQgKyBwYWRkaW5nIH0sXG4gICAgICB7IHg6IG1pZHBvaW50LCB5OiAtaGVpZ2h0IH0sXG4gICAgICB7IHg6IDAsIHk6IC1oZWlnaHQgLyAyIH1cbiAgICBdO1xuICB9XG4gIGlmIChkaXJlY3Rpb25zLmhhcyhcInVwXCIpKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIC8vIEJvdHRvbSBjZW50ZXJcbiAgICAgIHsgeDogbWlkcG9pbnQsIHk6IC1wYWRkaW5nIH0sXG4gICAgICAvLyBMZWZ0IHRvcCBvdmVyIHZlcnRpY2FsIHNlY3Rpb25cbiAgICAgIHsgeDogbWlkcG9pbnQsIHk6IC1oZWlnaHQgKyBwYWRkaW5nIH0sXG4gICAgICB7IHg6IDAsIHk6IC1oZWlnaHQgKyBwYWRkaW5nIH0sXG4gICAgICAvLyBUb3Agb2YgYXJyb3dcbiAgICAgIHsgeDogd2lkdGggLyAyLCB5OiAtaGVpZ2h0IH0sXG4gICAgICB7IHg6IHdpZHRoLCB5OiAtaGVpZ2h0ICsgcGFkZGluZyB9LFxuICAgICAgLy8gVG9wIG9mIHJpZ2h0IHZlcnRpY2FsIGJhclxuICAgICAgeyB4OiB3aWR0aCAtIG1pZHBvaW50LCB5OiAtaGVpZ2h0ICsgcGFkZGluZyB9LFxuICAgICAgeyB4OiB3aWR0aCAtIG1pZHBvaW50LCB5OiAtcGFkZGluZyB9XG4gICAgXTtcbiAgfVxuICBpZiAoZGlyZWN0aW9ucy5oYXMoXCJkb3duXCIpKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIC8vIEJvdHRvbSBjZW50ZXJcbiAgICAgIHsgeDogd2lkdGggLyAyLCB5OiAwIH0sXG4gICAgICAvLyBMZWZ0IHBvbnQgb2YgYm90dG9tIGFycm93XG4gICAgICB7IHg6IDAsIHk6IC1wYWRkaW5nIH0sXG4gICAgICB7IHg6IG1pZHBvaW50LCB5OiAtcGFkZGluZyB9LFxuICAgICAgLy8gTGVmdCB0b3Agb3ZlciB2ZXJ0aWNhbCBzZWN0aW9uXG4gICAgICB7IHg6IG1pZHBvaW50LCB5OiAtaGVpZ2h0ICsgcGFkZGluZyB9LFxuICAgICAgeyB4OiB3aWR0aCAtIG1pZHBvaW50LCB5OiAtaGVpZ2h0ICsgcGFkZGluZyB9LFxuICAgICAgeyB4OiB3aWR0aCAtIG1pZHBvaW50LCB5OiAtcGFkZGluZyB9LFxuICAgICAgeyB4OiB3aWR0aCwgeTogLXBhZGRpbmcgfVxuICAgIF07XG4gIH1cbiAgcmV0dXJuIFt7IHg6IDAsIHk6IDAgfV07XG59LCBcImdldEFycm93UG9pbnRzXCIpO1xuXG4vLyBzcmMvZGFncmUtd3JhcHBlci9pbnRlcnNlY3QvaW50ZXJzZWN0LW5vZGUuanNcbmZ1bmN0aW9uIGludGVyc2VjdE5vZGUobm9kZSwgcG9pbnQpIHtcbiAgcmV0dXJuIG5vZGUuaW50ZXJzZWN0KHBvaW50KTtcbn1cbl9fbmFtZShpbnRlcnNlY3ROb2RlLCBcImludGVyc2VjdE5vZGVcIik7XG52YXIgaW50ZXJzZWN0X25vZGVfZGVmYXVsdCA9IGludGVyc2VjdE5vZGU7XG5cbi8vIHNyYy9kYWdyZS13cmFwcGVyL2ludGVyc2VjdC9pbnRlcnNlY3QtZWxsaXBzZS5qc1xuZnVuY3Rpb24gaW50ZXJzZWN0RWxsaXBzZShub2RlLCByeCwgcnksIHBvaW50KSB7XG4gIHZhciBjeCA9IG5vZGUueDtcbiAgdmFyIGN5ID0gbm9kZS55O1xuICB2YXIgcHggPSBjeCAtIHBvaW50Lng7XG4gIHZhciBweSA9IGN5IC0gcG9pbnQueTtcbiAgdmFyIGRldCA9IE1hdGguc3FydChyeCAqIHJ4ICogcHkgKiBweSArIHJ5ICogcnkgKiBweCAqIHB4KTtcbiAgdmFyIGR4ID0gTWF0aC5hYnMocnggKiByeSAqIHB4IC8gZGV0KTtcbiAgaWYgKHBvaW50LnggPCBjeCkge1xuICAgIGR4ID0gLWR4O1xuICB9XG4gIHZhciBkeSA9IE1hdGguYWJzKHJ4ICogcnkgKiBweSAvIGRldCk7XG4gIGlmIChwb2ludC55IDwgY3kpIHtcbiAgICBkeSA9IC1keTtcbiAgfVxuICByZXR1cm4geyB4OiBjeCArIGR4LCB5OiBjeSArIGR5IH07XG59XG5fX25hbWUoaW50ZXJzZWN0RWxsaXBzZSwgXCJpbnRlcnNlY3RFbGxpcHNlXCIpO1xudmFyIGludGVyc2VjdF9lbGxpcHNlX2RlZmF1bHQgPSBpbnRlcnNlY3RFbGxpcHNlO1xuXG4vLyBzcmMvZGFncmUtd3JhcHBlci9pbnRlcnNlY3QvaW50ZXJzZWN0LWNpcmNsZS5qc1xuZnVuY3Rpb24gaW50ZXJzZWN0Q2lyY2xlKG5vZGUsIHJ4LCBwb2ludCkge1xuICByZXR1cm4gaW50ZXJzZWN0X2VsbGlwc2VfZGVmYXVsdChub2RlLCByeCwgcngsIHBvaW50KTtcbn1cbl9fbmFtZShpbnRlcnNlY3RDaXJjbGUsIFwiaW50ZXJzZWN0Q2lyY2xlXCIpO1xudmFyIGludGVyc2VjdF9jaXJjbGVfZGVmYXVsdCA9IGludGVyc2VjdENpcmNsZTtcblxuLy8gc3JjL2RhZ3JlLXdyYXBwZXIvaW50ZXJzZWN0L2ludGVyc2VjdC1saW5lLmpzXG5mdW5jdGlvbiBpbnRlcnNlY3RMaW5lKHAxLCBwMiwgcTEsIHEyKSB7XG4gIHZhciBhMSwgYTIsIGIxLCBiMiwgYzEsIGMyO1xuICB2YXIgcjEsIHIyLCByMywgcjQ7XG4gIHZhciBkZW5vbSwgb2Zmc2V0LCBudW07XG4gIHZhciB4LCB5O1xuICBhMSA9IHAyLnkgLSBwMS55O1xuICBiMSA9IHAxLnggLSBwMi54O1xuICBjMSA9IHAyLnggKiBwMS55IC0gcDEueCAqIHAyLnk7XG4gIHIzID0gYTEgKiBxMS54ICsgYjEgKiBxMS55ICsgYzE7XG4gIHI0ID0gYTEgKiBxMi54ICsgYjEgKiBxMi55ICsgYzE7XG4gIGlmIChyMyAhPT0gMCAmJiByNCAhPT0gMCAmJiBzYW1lU2lnbihyMywgcjQpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGEyID0gcTIueSAtIHExLnk7XG4gIGIyID0gcTEueCAtIHEyLng7XG4gIGMyID0gcTIueCAqIHExLnkgLSBxMS54ICogcTIueTtcbiAgcjEgPSBhMiAqIHAxLnggKyBiMiAqIHAxLnkgKyBjMjtcbiAgcjIgPSBhMiAqIHAyLnggKyBiMiAqIHAyLnkgKyBjMjtcbiAgaWYgKHIxICE9PSAwICYmIHIyICE9PSAwICYmIHNhbWVTaWduKHIxLCByMikpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZGVub20gPSBhMSAqIGIyIC0gYTIgKiBiMTtcbiAgaWYgKGRlbm9tID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIG9mZnNldCA9IE1hdGguYWJzKGRlbm9tIC8gMik7XG4gIG51bSA9IGIxICogYzIgLSBiMiAqIGMxO1xuICB4ID0gbnVtIDwgMCA/IChudW0gLSBvZmZzZXQpIC8gZGVub20gOiAobnVtICsgb2Zmc2V0KSAvIGRlbm9tO1xuICBudW0gPSBhMiAqIGMxIC0gYTEgKiBjMjtcbiAgeSA9IG51bSA8IDAgPyAobnVtIC0gb2Zmc2V0KSAvIGRlbm9tIDogKG51bSArIG9mZnNldCkgLyBkZW5vbTtcbiAgcmV0dXJuIHsgeCwgeSB9O1xufVxuX19uYW1lKGludGVyc2VjdExpbmUsIFwiaW50ZXJzZWN0TGluZVwiKTtcbmZ1bmN0aW9uIHNhbWVTaWduKHIxLCByMikge1xuICByZXR1cm4gcjEgKiByMiA+IDA7XG59XG5fX25hbWUoc2FtZVNpZ24sIFwic2FtZVNpZ25cIik7XG52YXIgaW50ZXJzZWN0X2xpbmVfZGVmYXVsdCA9IGludGVyc2VjdExpbmU7XG5cbi8vIHNyYy9kYWdyZS13cmFwcGVyL2ludGVyc2VjdC9pbnRlcnNlY3QtcG9seWdvbi5qc1xudmFyIGludGVyc2VjdF9wb2x5Z29uX2RlZmF1bHQgPSBpbnRlcnNlY3RQb2x5Z29uO1xuZnVuY3Rpb24gaW50ZXJzZWN0UG9seWdvbihub2RlLCBwb2x5UG9pbnRzLCBwb2ludCkge1xuICB2YXIgeDEgPSBub2RlLng7XG4gIHZhciB5MSA9IG5vZGUueTtcbiAgdmFyIGludGVyc2VjdGlvbnMgPSBbXTtcbiAgdmFyIG1pblggPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gIHZhciBtaW5ZID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICBpZiAodHlwZW9mIHBvbHlQb2ludHMuZm9yRWFjaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcG9seVBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5KSB7XG4gICAgICBtaW5YID0gTWF0aC5taW4obWluWCwgZW50cnkueCk7XG4gICAgICBtaW5ZID0gTWF0aC5taW4obWluWSwgZW50cnkueSk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgbWluWCA9IE1hdGgubWluKG1pblgsIHBvbHlQb2ludHMueCk7XG4gICAgbWluWSA9IE1hdGgubWluKG1pblksIHBvbHlQb2ludHMueSk7XG4gIH1cbiAgdmFyIGxlZnQgPSB4MSAtIG5vZGUud2lkdGggLyAyIC0gbWluWDtcbiAgdmFyIHRvcCA9IHkxIC0gbm9kZS5oZWlnaHQgLyAyIC0gbWluWTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBwb2x5UG9pbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHAxID0gcG9seVBvaW50c1tpXTtcbiAgICB2YXIgcDIgPSBwb2x5UG9pbnRzW2kgPCBwb2x5UG9pbnRzLmxlbmd0aCAtIDEgPyBpICsgMSA6IDBdO1xuICAgIHZhciBpbnRlcnNlY3QgPSBpbnRlcnNlY3RfbGluZV9kZWZhdWx0KFxuICAgICAgbm9kZSxcbiAgICAgIHBvaW50LFxuICAgICAgeyB4OiBsZWZ0ICsgcDEueCwgeTogdG9wICsgcDEueSB9LFxuICAgICAgeyB4OiBsZWZ0ICsgcDIueCwgeTogdG9wICsgcDIueSB9XG4gICAgKTtcbiAgICBpZiAoaW50ZXJzZWN0KSB7XG4gICAgICBpbnRlcnNlY3Rpb25zLnB1c2goaW50ZXJzZWN0KTtcbiAgICB9XG4gIH1cbiAgaWYgKCFpbnRlcnNlY3Rpb25zLmxlbmd0aCkge1xuICAgIHJldHVybiBub2RlO1xuICB9XG4gIGlmIChpbnRlcnNlY3Rpb25zLmxlbmd0aCA+IDEpIHtcbiAgICBpbnRlcnNlY3Rpb25zLnNvcnQoZnVuY3Rpb24ocCwgcSkge1xuICAgICAgdmFyIHBkeCA9IHAueCAtIHBvaW50Lng7XG4gICAgICB2YXIgcGR5ID0gcC55IC0gcG9pbnQueTtcbiAgICAgIHZhciBkaXN0cCA9IE1hdGguc3FydChwZHggKiBwZHggKyBwZHkgKiBwZHkpO1xuICAgICAgdmFyIHFkeCA9IHEueCAtIHBvaW50Lng7XG4gICAgICB2YXIgcWR5ID0gcS55IC0gcG9pbnQueTtcbiAgICAgIHZhciBkaXN0cSA9IE1hdGguc3FydChxZHggKiBxZHggKyBxZHkgKiBxZHkpO1xuICAgICAgcmV0dXJuIGRpc3RwIDwgZGlzdHEgPyAtMSA6IGRpc3RwID09PSBkaXN0cSA/IDAgOiAxO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBpbnRlcnNlY3Rpb25zWzBdO1xufVxuX19uYW1lKGludGVyc2VjdFBvbHlnb24sIFwiaW50ZXJzZWN0UG9seWdvblwiKTtcblxuLy8gc3JjL2RhZ3JlLXdyYXBwZXIvaW50ZXJzZWN0L2ludGVyc2VjdC1yZWN0LmpzXG52YXIgaW50ZXJzZWN0UmVjdCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG5vZGUsIHBvaW50KSA9PiB7XG4gIHZhciB4ID0gbm9kZS54O1xuICB2YXIgeSA9IG5vZGUueTtcbiAgdmFyIGR4ID0gcG9pbnQueCAtIHg7XG4gIHZhciBkeSA9IHBvaW50LnkgLSB5O1xuICB2YXIgdyA9IG5vZGUud2lkdGggLyAyO1xuICB2YXIgaCA9IG5vZGUuaGVpZ2h0IC8gMjtcbiAgdmFyIHN4LCBzeTtcbiAgaWYgKE1hdGguYWJzKGR5KSAqIHcgPiBNYXRoLmFicyhkeCkgKiBoKSB7XG4gICAgaWYgKGR5IDwgMCkge1xuICAgICAgaCA9IC1oO1xuICAgIH1cbiAgICBzeCA9IGR5ID09PSAwID8gMCA6IGggKiBkeCAvIGR5O1xuICAgIHN5ID0gaDtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZHggPCAwKSB7XG4gICAgICB3ID0gLXc7XG4gICAgfVxuICAgIHN4ID0gdztcbiAgICBzeSA9IGR4ID09PSAwID8gMCA6IHcgKiBkeSAvIGR4O1xuICB9XG4gIHJldHVybiB7IHg6IHggKyBzeCwgeTogeSArIHN5IH07XG59LCBcImludGVyc2VjdFJlY3RcIik7XG52YXIgaW50ZXJzZWN0X3JlY3RfZGVmYXVsdCA9IGludGVyc2VjdFJlY3Q7XG5cbi8vIHNyYy9kYWdyZS13cmFwcGVyL2ludGVyc2VjdC9pbmRleC5qc1xudmFyIGludGVyc2VjdF9kZWZhdWx0ID0ge1xuICBub2RlOiBpbnRlcnNlY3Rfbm9kZV9kZWZhdWx0LFxuICBjaXJjbGU6IGludGVyc2VjdF9jaXJjbGVfZGVmYXVsdCxcbiAgZWxsaXBzZTogaW50ZXJzZWN0X2VsbGlwc2VfZGVmYXVsdCxcbiAgcG9seWdvbjogaW50ZXJzZWN0X3BvbHlnb25fZGVmYXVsdCxcbiAgcmVjdDogaW50ZXJzZWN0X3JlY3RfZGVmYXVsdFxufTtcblxuLy8gc3JjL2RhZ3JlLXdyYXBwZXIvc2hhcGVzL25vdGUuanNcbnZhciBub3RlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAocGFyZW50LCBub2RlKSA9PiB7XG4gIGNvbnN0IHVzZUh0bWxMYWJlbHMgPSBub2RlLnVzZUh0bWxMYWJlbHMgfHwgZ2V0Q29uZmlnKCkuZmxvd2NoYXJ0Lmh0bWxMYWJlbHM7XG4gIGlmICghdXNlSHRtbExhYmVscykge1xuICAgIG5vZGUuY2VudGVyTGFiZWwgPSB0cnVlO1xuICB9XG4gIGNvbnN0IHsgc2hhcGVTdmcsIGJib3gsIGhhbGZQYWRkaW5nIH0gPSBhd2FpdCBsYWJlbEhlbHBlcihcbiAgICBwYXJlbnQsXG4gICAgbm9kZSxcbiAgICBcIm5vZGUgXCIgKyBub2RlLmNsYXNzZXMsXG4gICAgdHJ1ZVxuICApO1xuICBsb2cuaW5mbyhcIkNsYXNzZXMgPSBcIiwgbm9kZS5jbGFzc2VzKTtcbiAgY29uc3QgcmVjdDIgPSBzaGFwZVN2Zy5pbnNlcnQoXCJyZWN0XCIsIFwiOmZpcnN0LWNoaWxkXCIpO1xuICByZWN0Mi5hdHRyKFwicnhcIiwgbm9kZS5yeCkuYXR0cihcInJ5XCIsIG5vZGUucnkpLmF0dHIoXCJ4XCIsIC1iYm94LndpZHRoIC8gMiAtIGhhbGZQYWRkaW5nKS5hdHRyKFwieVwiLCAtYmJveC5oZWlnaHQgLyAyIC0gaGFsZlBhZGRpbmcpLmF0dHIoXCJ3aWR0aFwiLCBiYm94LndpZHRoICsgbm9kZS5wYWRkaW5nKS5hdHRyKFwiaGVpZ2h0XCIsIGJib3guaGVpZ2h0ICsgbm9kZS5wYWRkaW5nKTtcbiAgdXBkYXRlTm9kZUJvdW5kcyhub2RlLCByZWN0Mik7XG4gIG5vZGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0X2RlZmF1bHQucmVjdChub2RlLCBwb2ludCk7XG4gIH07XG4gIHJldHVybiBzaGFwZVN2Zztcbn0sIFwibm90ZVwiKTtcbnZhciBub3RlX2RlZmF1bHQgPSBub3RlO1xuXG4vLyBzcmMvZGFncmUtd3JhcHBlci9ub2Rlcy5qc1xudmFyIGZvcm1hdENsYXNzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3RyKSA9PiB7XG4gIGlmIChzdHIpIHtcbiAgICByZXR1cm4gXCIgXCIgKyBzdHI7XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59LCBcImZvcm1hdENsYXNzXCIpO1xudmFyIGdldENsYXNzZXNGcm9tTm9kZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG5vZGUsIG90aGVyQ2xhc3NlcykgPT4ge1xuICByZXR1cm4gYCR7b3RoZXJDbGFzc2VzID8gb3RoZXJDbGFzc2VzIDogXCJub2RlIGRlZmF1bHRcIn0ke2Zvcm1hdENsYXNzKG5vZGUuY2xhc3Nlcyl9ICR7Zm9ybWF0Q2xhc3MoXG4gICAgbm9kZS5jbGFzc1xuICApfWA7XG59LCBcImdldENsYXNzZXNGcm9tTm9kZVwiKTtcbnZhciBxdWVzdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKHBhcmVudCwgbm9kZSkgPT4ge1xuICBjb25zdCB7IHNoYXBlU3ZnLCBiYm94IH0gPSBhd2FpdCBsYWJlbEhlbHBlcihcbiAgICBwYXJlbnQsXG4gICAgbm9kZSxcbiAgICBnZXRDbGFzc2VzRnJvbU5vZGUobm9kZSwgdm9pZCAwKSxcbiAgICB0cnVlXG4gICk7XG4gIGNvbnN0IHcgPSBiYm94LndpZHRoICsgbm9kZS5wYWRkaW5nO1xuICBjb25zdCBoID0gYmJveC5oZWlnaHQgKyBub2RlLnBhZGRpbmc7XG4gIGNvbnN0IHMgPSB3ICsgaDtcbiAgY29uc3QgcG9pbnRzID0gW1xuICAgIHsgeDogcyAvIDIsIHk6IDAgfSxcbiAgICB7IHg6IHMsIHk6IC1zIC8gMiB9LFxuICAgIHsgeDogcyAvIDIsIHk6IC1zIH0sXG4gICAgeyB4OiAwLCB5OiAtcyAvIDIgfVxuICBdO1xuICBsb2cuaW5mbyhcIlF1ZXN0aW9uIG1haW4gKENpcmNsZSlcIik7XG4gIGNvbnN0IHF1ZXN0aW9uRWxlbSA9IGluc2VydFBvbHlnb25TaGFwZShzaGFwZVN2ZywgcywgcywgcG9pbnRzKTtcbiAgcXVlc3Rpb25FbGVtLmF0dHIoXCJzdHlsZVwiLCBub2RlLnN0eWxlKTtcbiAgdXBkYXRlTm9kZUJvdW5kcyhub2RlLCBxdWVzdGlvbkVsZW0pO1xuICBub2RlLmludGVyc2VjdCA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgbG9nLndhcm4oXCJJbnRlcnNlY3QgY2FsbGVkXCIpO1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5wb2x5Z29uKG5vZGUsIHBvaW50cywgcG9pbnQpO1xuICB9O1xuICByZXR1cm4gc2hhcGVTdmc7XG59LCBcInF1ZXN0aW9uXCIpO1xudmFyIGNob2ljZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmVudCwgbm9kZSkgPT4ge1xuICBjb25zdCBzaGFwZVN2ZyA9IHBhcmVudC5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcIm5vZGUgZGVmYXVsdFwiKS5hdHRyKFwiaWRcIiwgbm9kZS5kb21JZCB8fCBub2RlLmlkKTtcbiAgY29uc3QgcyA9IDI4O1xuICBjb25zdCBwb2ludHMgPSBbXG4gICAgeyB4OiAwLCB5OiBzIC8gMiB9LFxuICAgIHsgeDogcyAvIDIsIHk6IDAgfSxcbiAgICB7IHg6IDAsIHk6IC1zIC8gMiB9LFxuICAgIHsgeDogLXMgLyAyLCB5OiAwIH1cbiAgXTtcbiAgY29uc3QgY2hvaWNlMiA9IHNoYXBlU3ZnLmluc2VydChcInBvbHlnb25cIiwgXCI6Zmlyc3QtY2hpbGRcIikuYXR0cihcbiAgICBcInBvaW50c1wiLFxuICAgIHBvaW50cy5tYXAoZnVuY3Rpb24oZCkge1xuICAgICAgcmV0dXJuIGQueCArIFwiLFwiICsgZC55O1xuICAgIH0pLmpvaW4oXCIgXCIpXG4gICk7XG4gIGNob2ljZTIuYXR0cihcImNsYXNzXCIsIFwic3RhdGUtc3RhcnRcIikuYXR0cihcInJcIiwgNykuYXR0cihcIndpZHRoXCIsIDI4KS5hdHRyKFwiaGVpZ2h0XCIsIDI4KTtcbiAgbm9kZS53aWR0aCA9IDI4O1xuICBub2RlLmhlaWdodCA9IDI4O1xuICBub2RlLmludGVyc2VjdCA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIGludGVyc2VjdF9kZWZhdWx0LmNpcmNsZShub2RlLCAxNCwgcG9pbnQpO1xuICB9O1xuICByZXR1cm4gc2hhcGVTdmc7XG59LCBcImNob2ljZVwiKTtcbnZhciBoZXhhZ29uID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAocGFyZW50LCBub2RlKSA9PiB7XG4gIGNvbnN0IHsgc2hhcGVTdmcsIGJib3ggfSA9IGF3YWl0IGxhYmVsSGVscGVyKFxuICAgIHBhcmVudCxcbiAgICBub2RlLFxuICAgIGdldENsYXNzZXNGcm9tTm9kZShub2RlLCB2b2lkIDApLFxuICAgIHRydWVcbiAgKTtcbiAgY29uc3QgZiA9IDQ7XG4gIGNvbnN0IGggPSBiYm94LmhlaWdodCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgbSA9IGggLyBmO1xuICBjb25zdCB3ID0gYmJveC53aWR0aCArIDIgKiBtICsgbm9kZS5wYWRkaW5nO1xuICBjb25zdCBwb2ludHMgPSBbXG4gICAgeyB4OiBtLCB5OiAwIH0sXG4gICAgeyB4OiB3IC0gbSwgeTogMCB9LFxuICAgIHsgeDogdywgeTogLWggLyAyIH0sXG4gICAgeyB4OiB3IC0gbSwgeTogLWggfSxcbiAgICB7IHg6IG0sIHk6IC1oIH0sXG4gICAgeyB4OiAwLCB5OiAtaCAvIDIgfVxuICBdO1xuICBjb25zdCBoZXggPSBpbnNlcnRQb2x5Z29uU2hhcGUoc2hhcGVTdmcsIHcsIGgsIHBvaW50cyk7XG4gIGhleC5hdHRyKFwic3R5bGVcIiwgbm9kZS5zdHlsZSk7XG4gIHVwZGF0ZU5vZGVCb3VuZHMobm9kZSwgaGV4KTtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5wb2x5Z29uKG5vZGUsIHBvaW50cywgcG9pbnQpO1xuICB9O1xuICByZXR1cm4gc2hhcGVTdmc7XG59LCBcImhleGFnb25cIik7XG52YXIgYmxvY2tfYXJyb3cgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChwYXJlbnQsIG5vZGUpID0+IHtcbiAgY29uc3QgeyBzaGFwZVN2ZywgYmJveCB9ID0gYXdhaXQgbGFiZWxIZWxwZXIocGFyZW50LCBub2RlLCB2b2lkIDAsIHRydWUpO1xuICBjb25zdCBmID0gMjtcbiAgY29uc3QgaCA9IGJib3guaGVpZ2h0ICsgMiAqIG5vZGUucGFkZGluZztcbiAgY29uc3QgbSA9IGggLyBmO1xuICBjb25zdCB3ID0gYmJveC53aWR0aCArIDIgKiBtICsgbm9kZS5wYWRkaW5nO1xuICBjb25zdCBwb2ludHMgPSBnZXRBcnJvd1BvaW50cyhub2RlLmRpcmVjdGlvbnMsIGJib3gsIG5vZGUpO1xuICBjb25zdCBibG9ja0Fycm93ID0gaW5zZXJ0UG9seWdvblNoYXBlKHNoYXBlU3ZnLCB3LCBoLCBwb2ludHMpO1xuICBibG9ja0Fycm93LmF0dHIoXCJzdHlsZVwiLCBub2RlLnN0eWxlKTtcbiAgdXBkYXRlTm9kZUJvdW5kcyhub2RlLCBibG9ja0Fycm93KTtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5wb2x5Z29uKG5vZGUsIHBvaW50cywgcG9pbnQpO1xuICB9O1xuICByZXR1cm4gc2hhcGVTdmc7XG59LCBcImJsb2NrX2Fycm93XCIpO1xudmFyIHJlY3RfbGVmdF9pbnZfYXJyb3cgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChwYXJlbnQsIG5vZGUpID0+IHtcbiAgY29uc3QgeyBzaGFwZVN2ZywgYmJveCB9ID0gYXdhaXQgbGFiZWxIZWxwZXIoXG4gICAgcGFyZW50LFxuICAgIG5vZGUsXG4gICAgZ2V0Q2xhc3Nlc0Zyb21Ob2RlKG5vZGUsIHZvaWQgMCksXG4gICAgdHJ1ZVxuICApO1xuICBjb25zdCB3ID0gYmJveC53aWR0aCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgaCA9IGJib3guaGVpZ2h0ICsgbm9kZS5wYWRkaW5nO1xuICBjb25zdCBwb2ludHMgPSBbXG4gICAgeyB4OiAtaCAvIDIsIHk6IDAgfSxcbiAgICB7IHg6IHcsIHk6IDAgfSxcbiAgICB7IHg6IHcsIHk6IC1oIH0sXG4gICAgeyB4OiAtaCAvIDIsIHk6IC1oIH0sXG4gICAgeyB4OiAwLCB5OiAtaCAvIDIgfVxuICBdO1xuICBjb25zdCBlbCA9IGluc2VydFBvbHlnb25TaGFwZShzaGFwZVN2ZywgdywgaCwgcG9pbnRzKTtcbiAgZWwuYXR0cihcInN0eWxlXCIsIG5vZGUuc3R5bGUpO1xuICBub2RlLndpZHRoID0gdyArIGg7XG4gIG5vZGUuaGVpZ2h0ID0gaDtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5wb2x5Z29uKG5vZGUsIHBvaW50cywgcG9pbnQpO1xuICB9O1xuICByZXR1cm4gc2hhcGVTdmc7XG59LCBcInJlY3RfbGVmdF9pbnZfYXJyb3dcIik7XG52YXIgbGVhbl9yaWdodCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKHBhcmVudCwgbm9kZSkgPT4ge1xuICBjb25zdCB7IHNoYXBlU3ZnLCBiYm94IH0gPSBhd2FpdCBsYWJlbEhlbHBlcihwYXJlbnQsIG5vZGUsIGdldENsYXNzZXNGcm9tTm9kZShub2RlKSwgdHJ1ZSk7XG4gIGNvbnN0IHcgPSBiYm94LndpZHRoICsgbm9kZS5wYWRkaW5nO1xuICBjb25zdCBoID0gYmJveC5oZWlnaHQgKyBub2RlLnBhZGRpbmc7XG4gIGNvbnN0IHBvaW50cyA9IFtcbiAgICB7IHg6IC0yICogaCAvIDYsIHk6IDAgfSxcbiAgICB7IHg6IHcgLSBoIC8gNiwgeTogMCB9LFxuICAgIHsgeDogdyArIDIgKiBoIC8gNiwgeTogLWggfSxcbiAgICB7IHg6IGggLyA2LCB5OiAtaCB9XG4gIF07XG4gIGNvbnN0IGVsID0gaW5zZXJ0UG9seWdvblNoYXBlKHNoYXBlU3ZnLCB3LCBoLCBwb2ludHMpO1xuICBlbC5hdHRyKFwic3R5bGVcIiwgbm9kZS5zdHlsZSk7XG4gIHVwZGF0ZU5vZGVCb3VuZHMobm9kZSwgZWwpO1xuICBub2RlLmludGVyc2VjdCA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIGludGVyc2VjdF9kZWZhdWx0LnBvbHlnb24obm9kZSwgcG9pbnRzLCBwb2ludCk7XG4gIH07XG4gIHJldHVybiBzaGFwZVN2Zztcbn0sIFwibGVhbl9yaWdodFwiKTtcbnZhciBsZWFuX2xlZnQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChwYXJlbnQsIG5vZGUpID0+IHtcbiAgY29uc3QgeyBzaGFwZVN2ZywgYmJveCB9ID0gYXdhaXQgbGFiZWxIZWxwZXIoXG4gICAgcGFyZW50LFxuICAgIG5vZGUsXG4gICAgZ2V0Q2xhc3Nlc0Zyb21Ob2RlKG5vZGUsIHZvaWQgMCksXG4gICAgdHJ1ZVxuICApO1xuICBjb25zdCB3ID0gYmJveC53aWR0aCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgaCA9IGJib3guaGVpZ2h0ICsgbm9kZS5wYWRkaW5nO1xuICBjb25zdCBwb2ludHMgPSBbXG4gICAgeyB4OiAyICogaCAvIDYsIHk6IDAgfSxcbiAgICB7IHg6IHcgKyBoIC8gNiwgeTogMCB9LFxuICAgIHsgeDogdyAtIDIgKiBoIC8gNiwgeTogLWggfSxcbiAgICB7IHg6IC1oIC8gNiwgeTogLWggfVxuICBdO1xuICBjb25zdCBlbCA9IGluc2VydFBvbHlnb25TaGFwZShzaGFwZVN2ZywgdywgaCwgcG9pbnRzKTtcbiAgZWwuYXR0cihcInN0eWxlXCIsIG5vZGUuc3R5bGUpO1xuICB1cGRhdGVOb2RlQm91bmRzKG5vZGUsIGVsKTtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5wb2x5Z29uKG5vZGUsIHBvaW50cywgcG9pbnQpO1xuICB9O1xuICByZXR1cm4gc2hhcGVTdmc7XG59LCBcImxlYW5fbGVmdFwiKTtcbnZhciB0cmFwZXpvaWQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChwYXJlbnQsIG5vZGUpID0+IHtcbiAgY29uc3QgeyBzaGFwZVN2ZywgYmJveCB9ID0gYXdhaXQgbGFiZWxIZWxwZXIoXG4gICAgcGFyZW50LFxuICAgIG5vZGUsXG4gICAgZ2V0Q2xhc3Nlc0Zyb21Ob2RlKG5vZGUsIHZvaWQgMCksXG4gICAgdHJ1ZVxuICApO1xuICBjb25zdCB3ID0gYmJveC53aWR0aCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgaCA9IGJib3guaGVpZ2h0ICsgbm9kZS5wYWRkaW5nO1xuICBjb25zdCBwb2ludHMgPSBbXG4gICAgeyB4OiAtMiAqIGggLyA2LCB5OiAwIH0sXG4gICAgeyB4OiB3ICsgMiAqIGggLyA2LCB5OiAwIH0sXG4gICAgeyB4OiB3IC0gaCAvIDYsIHk6IC1oIH0sXG4gICAgeyB4OiBoIC8gNiwgeTogLWggfVxuICBdO1xuICBjb25zdCBlbCA9IGluc2VydFBvbHlnb25TaGFwZShzaGFwZVN2ZywgdywgaCwgcG9pbnRzKTtcbiAgZWwuYXR0cihcInN0eWxlXCIsIG5vZGUuc3R5bGUpO1xuICB1cGRhdGVOb2RlQm91bmRzKG5vZGUsIGVsKTtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5wb2x5Z29uKG5vZGUsIHBvaW50cywgcG9pbnQpO1xuICB9O1xuICByZXR1cm4gc2hhcGVTdmc7XG59LCBcInRyYXBlem9pZFwiKTtcbnZhciBpbnZfdHJhcGV6b2lkID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAocGFyZW50LCBub2RlKSA9PiB7XG4gIGNvbnN0IHsgc2hhcGVTdmcsIGJib3ggfSA9IGF3YWl0IGxhYmVsSGVscGVyKFxuICAgIHBhcmVudCxcbiAgICBub2RlLFxuICAgIGdldENsYXNzZXNGcm9tTm9kZShub2RlLCB2b2lkIDApLFxuICAgIHRydWVcbiAgKTtcbiAgY29uc3QgdyA9IGJib3gud2lkdGggKyBub2RlLnBhZGRpbmc7XG4gIGNvbnN0IGggPSBiYm94LmhlaWdodCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgcG9pbnRzID0gW1xuICAgIHsgeDogaCAvIDYsIHk6IDAgfSxcbiAgICB7IHg6IHcgLSBoIC8gNiwgeTogMCB9LFxuICAgIHsgeDogdyArIDIgKiBoIC8gNiwgeTogLWggfSxcbiAgICB7IHg6IC0yICogaCAvIDYsIHk6IC1oIH1cbiAgXTtcbiAgY29uc3QgZWwgPSBpbnNlcnRQb2x5Z29uU2hhcGUoc2hhcGVTdmcsIHcsIGgsIHBvaW50cyk7XG4gIGVsLmF0dHIoXCJzdHlsZVwiLCBub2RlLnN0eWxlKTtcbiAgdXBkYXRlTm9kZUJvdW5kcyhub2RlLCBlbCk7XG4gIG5vZGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0X2RlZmF1bHQucG9seWdvbihub2RlLCBwb2ludHMsIHBvaW50KTtcbiAgfTtcbiAgcmV0dXJuIHNoYXBlU3ZnO1xufSwgXCJpbnZfdHJhcGV6b2lkXCIpO1xudmFyIHJlY3RfcmlnaHRfaW52X2Fycm93ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAocGFyZW50LCBub2RlKSA9PiB7XG4gIGNvbnN0IHsgc2hhcGVTdmcsIGJib3ggfSA9IGF3YWl0IGxhYmVsSGVscGVyKFxuICAgIHBhcmVudCxcbiAgICBub2RlLFxuICAgIGdldENsYXNzZXNGcm9tTm9kZShub2RlLCB2b2lkIDApLFxuICAgIHRydWVcbiAgKTtcbiAgY29uc3QgdyA9IGJib3gud2lkdGggKyBub2RlLnBhZGRpbmc7XG4gIGNvbnN0IGggPSBiYm94LmhlaWdodCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgcG9pbnRzID0gW1xuICAgIHsgeDogMCwgeTogMCB9LFxuICAgIHsgeDogdyArIGggLyAyLCB5OiAwIH0sXG4gICAgeyB4OiB3LCB5OiAtaCAvIDIgfSxcbiAgICB7IHg6IHcgKyBoIC8gMiwgeTogLWggfSxcbiAgICB7IHg6IDAsIHk6IC1oIH1cbiAgXTtcbiAgY29uc3QgZWwgPSBpbnNlcnRQb2x5Z29uU2hhcGUoc2hhcGVTdmcsIHcsIGgsIHBvaW50cyk7XG4gIGVsLmF0dHIoXCJzdHlsZVwiLCBub2RlLnN0eWxlKTtcbiAgdXBkYXRlTm9kZUJvdW5kcyhub2RlLCBlbCk7XG4gIG5vZGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0X2RlZmF1bHQucG9seWdvbihub2RlLCBwb2ludHMsIHBvaW50KTtcbiAgfTtcbiAgcmV0dXJuIHNoYXBlU3ZnO1xufSwgXCJyZWN0X3JpZ2h0X2ludl9hcnJvd1wiKTtcbnZhciBjeWxpbmRlciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKHBhcmVudCwgbm9kZSkgPT4ge1xuICBjb25zdCB7IHNoYXBlU3ZnLCBiYm94IH0gPSBhd2FpdCBsYWJlbEhlbHBlcihcbiAgICBwYXJlbnQsXG4gICAgbm9kZSxcbiAgICBnZXRDbGFzc2VzRnJvbU5vZGUobm9kZSwgdm9pZCAwKSxcbiAgICB0cnVlXG4gICk7XG4gIGNvbnN0IHcgPSBiYm94LndpZHRoICsgbm9kZS5wYWRkaW5nO1xuICBjb25zdCByeCA9IHcgLyAyO1xuICBjb25zdCByeSA9IHJ4IC8gKDIuNSArIHcgLyA1MCk7XG4gIGNvbnN0IGggPSBiYm94LmhlaWdodCArIHJ5ICsgbm9kZS5wYWRkaW5nO1xuICBjb25zdCBzaGFwZSA9IFwiTSAwLFwiICsgcnkgKyBcIiBhIFwiICsgcnggKyBcIixcIiArIHJ5ICsgXCIgMCwwLDAgXCIgKyB3ICsgXCIgMCBhIFwiICsgcnggKyBcIixcIiArIHJ5ICsgXCIgMCwwLDAgXCIgKyAtdyArIFwiIDAgbCAwLFwiICsgaCArIFwiIGEgXCIgKyByeCArIFwiLFwiICsgcnkgKyBcIiAwLDAsMCBcIiArIHcgKyBcIiAwIGwgMCxcIiArIC1oO1xuICBjb25zdCBlbCA9IHNoYXBlU3ZnLmF0dHIoXCJsYWJlbC1vZmZzZXQteVwiLCByeSkuaW5zZXJ0KFwicGF0aFwiLCBcIjpmaXJzdC1jaGlsZFwiKS5hdHRyKFwic3R5bGVcIiwgbm9kZS5zdHlsZSkuYXR0cihcImRcIiwgc2hhcGUpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyAtdyAvIDIgKyBcIixcIiArIC0oaCAvIDIgKyByeSkgKyBcIilcIik7XG4gIHVwZGF0ZU5vZGVCb3VuZHMobm9kZSwgZWwpO1xuICBub2RlLmludGVyc2VjdCA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgY29uc3QgcG9zID0gaW50ZXJzZWN0X2RlZmF1bHQucmVjdChub2RlLCBwb2ludCk7XG4gICAgY29uc3QgeCA9IHBvcy54IC0gbm9kZS54O1xuICAgIGlmIChyeCAhPSAwICYmIChNYXRoLmFicyh4KSA8IG5vZGUud2lkdGggLyAyIHx8IE1hdGguYWJzKHgpID09IG5vZGUud2lkdGggLyAyICYmIE1hdGguYWJzKHBvcy55IC0gbm9kZS55KSA+IG5vZGUuaGVpZ2h0IC8gMiAtIHJ5KSkge1xuICAgICAgbGV0IHkgPSByeSAqIHJ5ICogKDEgLSB4ICogeCAvIChyeCAqIHJ4KSk7XG4gICAgICBpZiAoeSAhPSAwKSB7XG4gICAgICAgIHkgPSBNYXRoLnNxcnQoeSk7XG4gICAgICB9XG4gICAgICB5ID0gcnkgLSB5O1xuICAgICAgaWYgKHBvaW50LnkgLSBub2RlLnkgPiAwKSB7XG4gICAgICAgIHkgPSAteTtcbiAgICAgIH1cbiAgICAgIHBvcy55ICs9IHk7XG4gICAgfVxuICAgIHJldHVybiBwb3M7XG4gIH07XG4gIHJldHVybiBzaGFwZVN2Zztcbn0sIFwiY3lsaW5kZXJcIik7XG52YXIgcmVjdCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKHBhcmVudCwgbm9kZSkgPT4ge1xuICBjb25zdCB7IHNoYXBlU3ZnLCBiYm94LCBoYWxmUGFkZGluZyB9ID0gYXdhaXQgbGFiZWxIZWxwZXIoXG4gICAgcGFyZW50LFxuICAgIG5vZGUsXG4gICAgXCJub2RlIFwiICsgbm9kZS5jbGFzc2VzICsgXCIgXCIgKyBub2RlLmNsYXNzLFxuICAgIHRydWVcbiAgKTtcbiAgY29uc3QgcmVjdDIgPSBzaGFwZVN2Zy5pbnNlcnQoXCJyZWN0XCIsIFwiOmZpcnN0LWNoaWxkXCIpO1xuICBjb25zdCB0b3RhbFdpZHRoID0gbm9kZS5wb3NpdGlvbmVkID8gbm9kZS53aWR0aCA6IGJib3gud2lkdGggKyBub2RlLnBhZGRpbmc7XG4gIGNvbnN0IHRvdGFsSGVpZ2h0ID0gbm9kZS5wb3NpdGlvbmVkID8gbm9kZS5oZWlnaHQgOiBiYm94LmhlaWdodCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgeCA9IG5vZGUucG9zaXRpb25lZCA/IC10b3RhbFdpZHRoIC8gMiA6IC1iYm94LndpZHRoIC8gMiAtIGhhbGZQYWRkaW5nO1xuICBjb25zdCB5ID0gbm9kZS5wb3NpdGlvbmVkID8gLXRvdGFsSGVpZ2h0IC8gMiA6IC1iYm94LmhlaWdodCAvIDIgLSBoYWxmUGFkZGluZztcbiAgcmVjdDIuYXR0cihcImNsYXNzXCIsIFwiYmFzaWMgbGFiZWwtY29udGFpbmVyXCIpLmF0dHIoXCJzdHlsZVwiLCBub2RlLnN0eWxlKS5hdHRyKFwicnhcIiwgbm9kZS5yeCkuYXR0cihcInJ5XCIsIG5vZGUucnkpLmF0dHIoXCJ4XCIsIHgpLmF0dHIoXCJ5XCIsIHkpLmF0dHIoXCJ3aWR0aFwiLCB0b3RhbFdpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsIHRvdGFsSGVpZ2h0KTtcbiAgaWYgKG5vZGUucHJvcHMpIHtcbiAgICBjb25zdCBwcm9wS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMobm9kZS5wcm9wcykpO1xuICAgIGlmIChub2RlLnByb3BzLmJvcmRlcnMpIHtcbiAgICAgIGFwcGx5Tm9kZVByb3BlcnR5Qm9yZGVycyhyZWN0Miwgbm9kZS5wcm9wcy5ib3JkZXJzLCB0b3RhbFdpZHRoLCB0b3RhbEhlaWdodCk7XG4gICAgICBwcm9wS2V5cy5kZWxldGUoXCJib3JkZXJzXCIpO1xuICAgIH1cbiAgICBwcm9wS2V5cy5mb3JFYWNoKChwcm9wS2V5KSA9PiB7XG4gICAgICBsb2cud2FybihgVW5rbm93biBub2RlIHByb3BlcnR5ICR7cHJvcEtleX1gKTtcbiAgICB9KTtcbiAgfVxuICB1cGRhdGVOb2RlQm91bmRzKG5vZGUsIHJlY3QyKTtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5yZWN0KG5vZGUsIHBvaW50KTtcbiAgfTtcbiAgcmV0dXJuIHNoYXBlU3ZnO1xufSwgXCJyZWN0XCIpO1xudmFyIGNvbXBvc2l0ZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKHBhcmVudCwgbm9kZSkgPT4ge1xuICBjb25zdCB7IHNoYXBlU3ZnLCBiYm94LCBoYWxmUGFkZGluZyB9ID0gYXdhaXQgbGFiZWxIZWxwZXIoXG4gICAgcGFyZW50LFxuICAgIG5vZGUsXG4gICAgXCJub2RlIFwiICsgbm9kZS5jbGFzc2VzLFxuICAgIHRydWVcbiAgKTtcbiAgY29uc3QgcmVjdDIgPSBzaGFwZVN2Zy5pbnNlcnQoXCJyZWN0XCIsIFwiOmZpcnN0LWNoaWxkXCIpO1xuICBjb25zdCB0b3RhbFdpZHRoID0gbm9kZS5wb3NpdGlvbmVkID8gbm9kZS53aWR0aCA6IGJib3gud2lkdGggKyBub2RlLnBhZGRpbmc7XG4gIGNvbnN0IHRvdGFsSGVpZ2h0ID0gbm9kZS5wb3NpdGlvbmVkID8gbm9kZS5oZWlnaHQgOiBiYm94LmhlaWdodCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgeCA9IG5vZGUucG9zaXRpb25lZCA/IC10b3RhbFdpZHRoIC8gMiA6IC1iYm94LndpZHRoIC8gMiAtIGhhbGZQYWRkaW5nO1xuICBjb25zdCB5ID0gbm9kZS5wb3NpdGlvbmVkID8gLXRvdGFsSGVpZ2h0IC8gMiA6IC1iYm94LmhlaWdodCAvIDIgLSBoYWxmUGFkZGluZztcbiAgcmVjdDIuYXR0cihcImNsYXNzXCIsIFwiYmFzaWMgY2x1c3RlciBjb21wb3NpdGUgbGFiZWwtY29udGFpbmVyXCIpLmF0dHIoXCJzdHlsZVwiLCBub2RlLnN0eWxlKS5hdHRyKFwicnhcIiwgbm9kZS5yeCkuYXR0cihcInJ5XCIsIG5vZGUucnkpLmF0dHIoXCJ4XCIsIHgpLmF0dHIoXCJ5XCIsIHkpLmF0dHIoXCJ3aWR0aFwiLCB0b3RhbFdpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsIHRvdGFsSGVpZ2h0KTtcbiAgaWYgKG5vZGUucHJvcHMpIHtcbiAgICBjb25zdCBwcm9wS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMobm9kZS5wcm9wcykpO1xuICAgIGlmIChub2RlLnByb3BzLmJvcmRlcnMpIHtcbiAgICAgIGFwcGx5Tm9kZVByb3BlcnR5Qm9yZGVycyhyZWN0Miwgbm9kZS5wcm9wcy5ib3JkZXJzLCB0b3RhbFdpZHRoLCB0b3RhbEhlaWdodCk7XG4gICAgICBwcm9wS2V5cy5kZWxldGUoXCJib3JkZXJzXCIpO1xuICAgIH1cbiAgICBwcm9wS2V5cy5mb3JFYWNoKChwcm9wS2V5KSA9PiB7XG4gICAgICBsb2cud2FybihgVW5rbm93biBub2RlIHByb3BlcnR5ICR7cHJvcEtleX1gKTtcbiAgICB9KTtcbiAgfVxuICB1cGRhdGVOb2RlQm91bmRzKG5vZGUsIHJlY3QyKTtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5yZWN0KG5vZGUsIHBvaW50KTtcbiAgfTtcbiAgcmV0dXJuIHNoYXBlU3ZnO1xufSwgXCJjb21wb3NpdGVcIik7XG52YXIgbGFiZWxSZWN0ID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAocGFyZW50LCBub2RlKSA9PiB7XG4gIGNvbnN0IHsgc2hhcGVTdmcgfSA9IGF3YWl0IGxhYmVsSGVscGVyKHBhcmVudCwgbm9kZSwgXCJsYWJlbFwiLCB0cnVlKTtcbiAgbG9nLnRyYWNlKFwiQ2xhc3NlcyA9IFwiLCBub2RlLmNsYXNzKTtcbiAgY29uc3QgcmVjdDIgPSBzaGFwZVN2Zy5pbnNlcnQoXCJyZWN0XCIsIFwiOmZpcnN0LWNoaWxkXCIpO1xuICBjb25zdCB0b3RhbFdpZHRoID0gMDtcbiAgY29uc3QgdG90YWxIZWlnaHQgPSAwO1xuICByZWN0Mi5hdHRyKFwid2lkdGhcIiwgdG90YWxXaWR0aCkuYXR0cihcImhlaWdodFwiLCB0b3RhbEhlaWdodCk7XG4gIHNoYXBlU3ZnLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsIGVkZ2VMYWJlbFwiKTtcbiAgaWYgKG5vZGUucHJvcHMpIHtcbiAgICBjb25zdCBwcm9wS2V5cyA9IG5ldyBTZXQoT2JqZWN0LmtleXMobm9kZS5wcm9wcykpO1xuICAgIGlmIChub2RlLnByb3BzLmJvcmRlcnMpIHtcbiAgICAgIGFwcGx5Tm9kZVByb3BlcnR5Qm9yZGVycyhyZWN0Miwgbm9kZS5wcm9wcy5ib3JkZXJzLCB0b3RhbFdpZHRoLCB0b3RhbEhlaWdodCk7XG4gICAgICBwcm9wS2V5cy5kZWxldGUoXCJib3JkZXJzXCIpO1xuICAgIH1cbiAgICBwcm9wS2V5cy5mb3JFYWNoKChwcm9wS2V5KSA9PiB7XG4gICAgICBsb2cud2FybihgVW5rbm93biBub2RlIHByb3BlcnR5ICR7cHJvcEtleX1gKTtcbiAgICB9KTtcbiAgfVxuICB1cGRhdGVOb2RlQm91bmRzKG5vZGUsIHJlY3QyKTtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5yZWN0KG5vZGUsIHBvaW50KTtcbiAgfTtcbiAgcmV0dXJuIHNoYXBlU3ZnO1xufSwgXCJsYWJlbFJlY3RcIik7XG5mdW5jdGlvbiBhcHBseU5vZGVQcm9wZXJ0eUJvcmRlcnMocmVjdDIsIGJvcmRlcnMsIHRvdGFsV2lkdGgsIHRvdGFsSGVpZ2h0KSB7XG4gIGNvbnN0IHN0cm9rZURhc2hBcnJheSA9IFtdO1xuICBjb25zdCBhZGRCb3JkZXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChsZW5ndGgpID0+IHtcbiAgICBzdHJva2VEYXNoQXJyYXkucHVzaChsZW5ndGgsIDApO1xuICB9LCBcImFkZEJvcmRlclwiKTtcbiAgY29uc3Qgc2tpcEJvcmRlciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGxlbmd0aCkgPT4ge1xuICAgIHN0cm9rZURhc2hBcnJheS5wdXNoKDAsIGxlbmd0aCk7XG4gIH0sIFwic2tpcEJvcmRlclwiKTtcbiAgaWYgKGJvcmRlcnMuaW5jbHVkZXMoXCJ0XCIpKSB7XG4gICAgbG9nLmRlYnVnKFwiYWRkIHRvcCBib3JkZXJcIik7XG4gICAgYWRkQm9yZGVyKHRvdGFsV2lkdGgpO1xuICB9IGVsc2Uge1xuICAgIHNraXBCb3JkZXIodG90YWxXaWR0aCk7XG4gIH1cbiAgaWYgKGJvcmRlcnMuaW5jbHVkZXMoXCJyXCIpKSB7XG4gICAgbG9nLmRlYnVnKFwiYWRkIHJpZ2h0IGJvcmRlclwiKTtcbiAgICBhZGRCb3JkZXIodG90YWxIZWlnaHQpO1xuICB9IGVsc2Uge1xuICAgIHNraXBCb3JkZXIodG90YWxIZWlnaHQpO1xuICB9XG4gIGlmIChib3JkZXJzLmluY2x1ZGVzKFwiYlwiKSkge1xuICAgIGxvZy5kZWJ1ZyhcImFkZCBib3R0b20gYm9yZGVyXCIpO1xuICAgIGFkZEJvcmRlcih0b3RhbFdpZHRoKTtcbiAgfSBlbHNlIHtcbiAgICBza2lwQm9yZGVyKHRvdGFsV2lkdGgpO1xuICB9XG4gIGlmIChib3JkZXJzLmluY2x1ZGVzKFwibFwiKSkge1xuICAgIGxvZy5kZWJ1ZyhcImFkZCBsZWZ0IGJvcmRlclwiKTtcbiAgICBhZGRCb3JkZXIodG90YWxIZWlnaHQpO1xuICB9IGVsc2Uge1xuICAgIHNraXBCb3JkZXIodG90YWxIZWlnaHQpO1xuICB9XG4gIHJlY3QyLmF0dHIoXCJzdHJva2UtZGFzaGFycmF5XCIsIHN0cm9rZURhc2hBcnJheS5qb2luKFwiIFwiKSk7XG59XG5fX25hbWUoYXBwbHlOb2RlUHJvcGVydHlCb3JkZXJzLCBcImFwcGx5Tm9kZVByb3BlcnR5Qm9yZGVyc1wiKTtcbnZhciByZWN0V2l0aFRpdGxlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgocGFyZW50LCBub2RlKSA9PiB7XG4gIGxldCBjbGFzc2VzO1xuICBpZiAoIW5vZGUuY2xhc3Nlcykge1xuICAgIGNsYXNzZXMgPSBcIm5vZGUgZGVmYXVsdFwiO1xuICB9IGVsc2Uge1xuICAgIGNsYXNzZXMgPSBcIm5vZGUgXCIgKyBub2RlLmNsYXNzZXM7XG4gIH1cbiAgY29uc3Qgc2hhcGVTdmcgPSBwYXJlbnQuaW5zZXJ0KFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgY2xhc3NlcykuYXR0cihcImlkXCIsIG5vZGUuZG9tSWQgfHwgbm9kZS5pZCk7XG4gIGNvbnN0IHJlY3QyID0gc2hhcGVTdmcuaW5zZXJ0KFwicmVjdFwiLCBcIjpmaXJzdC1jaGlsZFwiKTtcbiAgY29uc3QgaW5uZXJMaW5lID0gc2hhcGVTdmcuaW5zZXJ0KFwibGluZVwiKTtcbiAgY29uc3QgbGFiZWwgPSBzaGFwZVN2Zy5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpO1xuICBjb25zdCB0ZXh0MiA9IG5vZGUubGFiZWxUZXh0LmZsYXQgPyBub2RlLmxhYmVsVGV4dC5mbGF0KCkgOiBub2RlLmxhYmVsVGV4dDtcbiAgbGV0IHRpdGxlID0gXCJcIjtcbiAgaWYgKHR5cGVvZiB0ZXh0MiA9PT0gXCJvYmplY3RcIikge1xuICAgIHRpdGxlID0gdGV4dDJbMF07XG4gIH0gZWxzZSB7XG4gICAgdGl0bGUgPSB0ZXh0MjtcbiAgfVxuICBsb2cuaW5mbyhcIkxhYmVsIHRleHQgYWJjNzlcIiwgdGl0bGUsIHRleHQyLCB0eXBlb2YgdGV4dDIgPT09IFwib2JqZWN0XCIpO1xuICBjb25zdCB0ZXh0ID0gbGFiZWwubm9kZSgpLmFwcGVuZENoaWxkKGNyZWF0ZUxhYmVsX2RlZmF1bHQodGl0bGUsIG5vZGUubGFiZWxTdHlsZSwgdHJ1ZSwgdHJ1ZSkpO1xuICBsZXQgYmJveCA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O1xuICBpZiAoZXZhbHVhdGUoZ2V0Q29uZmlnKCkuZmxvd2NoYXJ0Lmh0bWxMYWJlbHMpKSB7XG4gICAgY29uc3QgZGl2ID0gdGV4dC5jaGlsZHJlblswXTtcbiAgICBjb25zdCBkdiA9IHNlbGVjdDModGV4dCk7XG4gICAgYmJveCA9IGRpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBkdi5hdHRyKFwid2lkdGhcIiwgYmJveC53aWR0aCk7XG4gICAgZHYuYXR0cihcImhlaWdodFwiLCBiYm94LmhlaWdodCk7XG4gIH1cbiAgbG9nLmluZm8oXCJUZXh0IDJcIiwgdGV4dDIpO1xuICBjb25zdCB0ZXh0Um93cyA9IHRleHQyLnNsaWNlKDEsIHRleHQyLmxlbmd0aCk7XG4gIGxldCB0aXRsZUJveCA9IHRleHQuZ2V0QkJveCgpO1xuICBjb25zdCBkZXNjciA9IGxhYmVsLm5vZGUoKS5hcHBlbmRDaGlsZChcbiAgICBjcmVhdGVMYWJlbF9kZWZhdWx0KHRleHRSb3dzLmpvaW4gPyB0ZXh0Um93cy5qb2luKFwiPGJyLz5cIikgOiB0ZXh0Um93cywgbm9kZS5sYWJlbFN0eWxlLCB0cnVlLCB0cnVlKVxuICApO1xuICBpZiAoZXZhbHVhdGUoZ2V0Q29uZmlnKCkuZmxvd2NoYXJ0Lmh0bWxMYWJlbHMpKSB7XG4gICAgY29uc3QgZGl2ID0gZGVzY3IuY2hpbGRyZW5bMF07XG4gICAgY29uc3QgZHYgPSBzZWxlY3QzKGRlc2NyKTtcbiAgICBiYm94ID0gZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGR2LmF0dHIoXCJ3aWR0aFwiLCBiYm94LndpZHRoKTtcbiAgICBkdi5hdHRyKFwiaGVpZ2h0XCIsIGJib3guaGVpZ2h0KTtcbiAgfVxuICBjb25zdCBoYWxmUGFkZGluZyA9IG5vZGUucGFkZGluZyAvIDI7XG4gIHNlbGVjdDMoZGVzY3IpLmF0dHIoXG4gICAgXCJ0cmFuc2Zvcm1cIixcbiAgICBcInRyYW5zbGF0ZSggXCIgKyAvLyAodGl0bGVCb3gud2lkdGggLSBiYm94LndpZHRoKSAvIDIgK1xuICAgIChiYm94LndpZHRoID4gdGl0bGVCb3gud2lkdGggPyAwIDogKHRpdGxlQm94LndpZHRoIC0gYmJveC53aWR0aCkgLyAyKSArIFwiLCBcIiArICh0aXRsZUJveC5oZWlnaHQgKyBoYWxmUGFkZGluZyArIDUpICsgXCIpXCJcbiAgKTtcbiAgc2VsZWN0Myh0ZXh0KS5hdHRyKFxuICAgIFwidHJhbnNmb3JtXCIsXG4gICAgXCJ0cmFuc2xhdGUoIFwiICsgLy8gKHRpdGxlQm94LndpZHRoIC0gYmJveC53aWR0aCkgLyAyICtcbiAgICAoYmJveC53aWR0aCA8IHRpdGxlQm94LndpZHRoID8gMCA6IC0odGl0bGVCb3gud2lkdGggLSBiYm94LndpZHRoKSAvIDIpICsgXCIsIDApXCJcbiAgKTtcbiAgYmJveCA9IGxhYmVsLm5vZGUoKS5nZXRCQm94KCk7XG4gIGxhYmVsLmF0dHIoXG4gICAgXCJ0cmFuc2Zvcm1cIixcbiAgICBcInRyYW5zbGF0ZShcIiArIC1iYm94LndpZHRoIC8gMiArIFwiLCBcIiArICgtYmJveC5oZWlnaHQgLyAyIC0gaGFsZlBhZGRpbmcgKyAzKSArIFwiKVwiXG4gICk7XG4gIHJlY3QyLmF0dHIoXCJjbGFzc1wiLCBcIm91dGVyIHRpdGxlLXN0YXRlXCIpLmF0dHIoXCJ4XCIsIC1iYm94LndpZHRoIC8gMiAtIGhhbGZQYWRkaW5nKS5hdHRyKFwieVwiLCAtYmJveC5oZWlnaHQgLyAyIC0gaGFsZlBhZGRpbmcpLmF0dHIoXCJ3aWR0aFwiLCBiYm94LndpZHRoICsgbm9kZS5wYWRkaW5nKS5hdHRyKFwiaGVpZ2h0XCIsIGJib3guaGVpZ2h0ICsgbm9kZS5wYWRkaW5nKTtcbiAgaW5uZXJMaW5lLmF0dHIoXCJjbGFzc1wiLCBcImRpdmlkZXJcIikuYXR0cihcIngxXCIsIC1iYm94LndpZHRoIC8gMiAtIGhhbGZQYWRkaW5nKS5hdHRyKFwieDJcIiwgYmJveC53aWR0aCAvIDIgKyBoYWxmUGFkZGluZykuYXR0cihcInkxXCIsIC1iYm94LmhlaWdodCAvIDIgLSBoYWxmUGFkZGluZyArIHRpdGxlQm94LmhlaWdodCArIGhhbGZQYWRkaW5nKS5hdHRyKFwieTJcIiwgLWJib3guaGVpZ2h0IC8gMiAtIGhhbGZQYWRkaW5nICsgdGl0bGVCb3guaGVpZ2h0ICsgaGFsZlBhZGRpbmcpO1xuICB1cGRhdGVOb2RlQm91bmRzKG5vZGUsIHJlY3QyKTtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5yZWN0KG5vZGUsIHBvaW50KTtcbiAgfTtcbiAgcmV0dXJuIHNoYXBlU3ZnO1xufSwgXCJyZWN0V2l0aFRpdGxlXCIpO1xudmFyIHN0YWRpdW0gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChwYXJlbnQsIG5vZGUpID0+IHtcbiAgY29uc3QgeyBzaGFwZVN2ZywgYmJveCB9ID0gYXdhaXQgbGFiZWxIZWxwZXIoXG4gICAgcGFyZW50LFxuICAgIG5vZGUsXG4gICAgZ2V0Q2xhc3Nlc0Zyb21Ob2RlKG5vZGUsIHZvaWQgMCksXG4gICAgdHJ1ZVxuICApO1xuICBjb25zdCBoID0gYmJveC5oZWlnaHQgKyBub2RlLnBhZGRpbmc7XG4gIGNvbnN0IHcgPSBiYm94LndpZHRoICsgaCAvIDQgKyBub2RlLnBhZGRpbmc7XG4gIGNvbnN0IHJlY3QyID0gc2hhcGVTdmcuaW5zZXJ0KFwicmVjdFwiLCBcIjpmaXJzdC1jaGlsZFwiKS5hdHRyKFwic3R5bGVcIiwgbm9kZS5zdHlsZSkuYXR0cihcInJ4XCIsIGggLyAyKS5hdHRyKFwicnlcIiwgaCAvIDIpLmF0dHIoXCJ4XCIsIC13IC8gMikuYXR0cihcInlcIiwgLWggLyAyKS5hdHRyKFwid2lkdGhcIiwgdykuYXR0cihcImhlaWdodFwiLCBoKTtcbiAgdXBkYXRlTm9kZUJvdW5kcyhub2RlLCByZWN0Mik7XG4gIG5vZGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0X2RlZmF1bHQucmVjdChub2RlLCBwb2ludCk7XG4gIH07XG4gIHJldHVybiBzaGFwZVN2Zztcbn0sIFwic3RhZGl1bVwiKTtcbnZhciBjaXJjbGUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChwYXJlbnQsIG5vZGUpID0+IHtcbiAgY29uc3QgeyBzaGFwZVN2ZywgYmJveCwgaGFsZlBhZGRpbmcgfSA9IGF3YWl0IGxhYmVsSGVscGVyKFxuICAgIHBhcmVudCxcbiAgICBub2RlLFxuICAgIGdldENsYXNzZXNGcm9tTm9kZShub2RlLCB2b2lkIDApLFxuICAgIHRydWVcbiAgKTtcbiAgY29uc3QgY2lyY2xlMiA9IHNoYXBlU3ZnLmluc2VydChcImNpcmNsZVwiLCBcIjpmaXJzdC1jaGlsZFwiKTtcbiAgY2lyY2xlMi5hdHRyKFwic3R5bGVcIiwgbm9kZS5zdHlsZSkuYXR0cihcInJ4XCIsIG5vZGUucngpLmF0dHIoXCJyeVwiLCBub2RlLnJ5KS5hdHRyKFwiclwiLCBiYm94LndpZHRoIC8gMiArIGhhbGZQYWRkaW5nKS5hdHRyKFwid2lkdGhcIiwgYmJveC53aWR0aCArIG5vZGUucGFkZGluZykuYXR0cihcImhlaWdodFwiLCBiYm94LmhlaWdodCArIG5vZGUucGFkZGluZyk7XG4gIGxvZy5pbmZvKFwiQ2lyY2xlIG1haW5cIik7XG4gIHVwZGF0ZU5vZGVCb3VuZHMobm9kZSwgY2lyY2xlMik7XG4gIG5vZGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICBsb2cuaW5mbyhcIkNpcmNsZSBpbnRlcnNlY3RcIiwgbm9kZSwgYmJveC53aWR0aCAvIDIgKyBoYWxmUGFkZGluZywgcG9pbnQpO1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5jaXJjbGUobm9kZSwgYmJveC53aWR0aCAvIDIgKyBoYWxmUGFkZGluZywgcG9pbnQpO1xuICB9O1xuICByZXR1cm4gc2hhcGVTdmc7XG59LCBcImNpcmNsZVwiKTtcbnZhciBkb3VibGVjaXJjbGUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIChwYXJlbnQsIG5vZGUpID0+IHtcbiAgY29uc3QgeyBzaGFwZVN2ZywgYmJveCwgaGFsZlBhZGRpbmcgfSA9IGF3YWl0IGxhYmVsSGVscGVyKFxuICAgIHBhcmVudCxcbiAgICBub2RlLFxuICAgIGdldENsYXNzZXNGcm9tTm9kZShub2RlLCB2b2lkIDApLFxuICAgIHRydWVcbiAgKTtcbiAgY29uc3QgZ2FwID0gNTtcbiAgY29uc3QgY2lyY2xlR3JvdXAgPSBzaGFwZVN2Zy5pbnNlcnQoXCJnXCIsIFwiOmZpcnN0LWNoaWxkXCIpO1xuICBjb25zdCBvdXRlckNpcmNsZSA9IGNpcmNsZUdyb3VwLmluc2VydChcImNpcmNsZVwiKTtcbiAgY29uc3QgaW5uZXJDaXJjbGUgPSBjaXJjbGVHcm91cC5pbnNlcnQoXCJjaXJjbGVcIik7XG4gIGNpcmNsZUdyb3VwLmF0dHIoXCJjbGFzc1wiLCBub2RlLmNsYXNzKTtcbiAgb3V0ZXJDaXJjbGUuYXR0cihcInN0eWxlXCIsIG5vZGUuc3R5bGUpLmF0dHIoXCJyeFwiLCBub2RlLnJ4KS5hdHRyKFwicnlcIiwgbm9kZS5yeSkuYXR0cihcInJcIiwgYmJveC53aWR0aCAvIDIgKyBoYWxmUGFkZGluZyArIGdhcCkuYXR0cihcIndpZHRoXCIsIGJib3gud2lkdGggKyBub2RlLnBhZGRpbmcgKyBnYXAgKiAyKS5hdHRyKFwiaGVpZ2h0XCIsIGJib3guaGVpZ2h0ICsgbm9kZS5wYWRkaW5nICsgZ2FwICogMik7XG4gIGlubmVyQ2lyY2xlLmF0dHIoXCJzdHlsZVwiLCBub2RlLnN0eWxlKS5hdHRyKFwicnhcIiwgbm9kZS5yeCkuYXR0cihcInJ5XCIsIG5vZGUucnkpLmF0dHIoXCJyXCIsIGJib3gud2lkdGggLyAyICsgaGFsZlBhZGRpbmcpLmF0dHIoXCJ3aWR0aFwiLCBiYm94LndpZHRoICsgbm9kZS5wYWRkaW5nKS5hdHRyKFwiaGVpZ2h0XCIsIGJib3guaGVpZ2h0ICsgbm9kZS5wYWRkaW5nKTtcbiAgbG9nLmluZm8oXCJEb3VibGVDaXJjbGUgbWFpblwiKTtcbiAgdXBkYXRlTm9kZUJvdW5kcyhub2RlLCBvdXRlckNpcmNsZSk7XG4gIG5vZGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICBsb2cuaW5mbyhcIkRvdWJsZUNpcmNsZSBpbnRlcnNlY3RcIiwgbm9kZSwgYmJveC53aWR0aCAvIDIgKyBoYWxmUGFkZGluZyArIGdhcCwgcG9pbnQpO1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5jaXJjbGUobm9kZSwgYmJveC53aWR0aCAvIDIgKyBoYWxmUGFkZGluZyArIGdhcCwgcG9pbnQpO1xuICB9O1xuICByZXR1cm4gc2hhcGVTdmc7XG59LCBcImRvdWJsZWNpcmNsZVwiKTtcbnZhciBzdWJyb3V0aW5lID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShhc3luYyAocGFyZW50LCBub2RlKSA9PiB7XG4gIGNvbnN0IHsgc2hhcGVTdmcsIGJib3ggfSA9IGF3YWl0IGxhYmVsSGVscGVyKFxuICAgIHBhcmVudCxcbiAgICBub2RlLFxuICAgIGdldENsYXNzZXNGcm9tTm9kZShub2RlLCB2b2lkIDApLFxuICAgIHRydWVcbiAgKTtcbiAgY29uc3QgdyA9IGJib3gud2lkdGggKyBub2RlLnBhZGRpbmc7XG4gIGNvbnN0IGggPSBiYm94LmhlaWdodCArIG5vZGUucGFkZGluZztcbiAgY29uc3QgcG9pbnRzID0gW1xuICAgIHsgeDogMCwgeTogMCB9LFxuICAgIHsgeDogdywgeTogMCB9LFxuICAgIHsgeDogdywgeTogLWggfSxcbiAgICB7IHg6IDAsIHk6IC1oIH0sXG4gICAgeyB4OiAwLCB5OiAwIH0sXG4gICAgeyB4OiAtOCwgeTogMCB9LFxuICAgIHsgeDogdyArIDgsIHk6IDAgfSxcbiAgICB7IHg6IHcgKyA4LCB5OiAtaCB9LFxuICAgIHsgeDogLTgsIHk6IC1oIH0sXG4gICAgeyB4OiAtOCwgeTogMCB9XG4gIF07XG4gIGNvbnN0IGVsID0gaW5zZXJ0UG9seWdvblNoYXBlKHNoYXBlU3ZnLCB3LCBoLCBwb2ludHMpO1xuICBlbC5hdHRyKFwic3R5bGVcIiwgbm9kZS5zdHlsZSk7XG4gIHVwZGF0ZU5vZGVCb3VuZHMobm9kZSwgZWwpO1xuICBub2RlLmludGVyc2VjdCA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIGludGVyc2VjdF9kZWZhdWx0LnBvbHlnb24obm9kZSwgcG9pbnRzLCBwb2ludCk7XG4gIH07XG4gIHJldHVybiBzaGFwZVN2Zztcbn0sIFwic3Vicm91dGluZVwiKTtcbnZhciBzdGFydCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmVudCwgbm9kZSkgPT4ge1xuICBjb25zdCBzaGFwZVN2ZyA9IHBhcmVudC5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcIm5vZGUgZGVmYXVsdFwiKS5hdHRyKFwiaWRcIiwgbm9kZS5kb21JZCB8fCBub2RlLmlkKTtcbiAgY29uc3QgY2lyY2xlMiA9IHNoYXBlU3ZnLmluc2VydChcImNpcmNsZVwiLCBcIjpmaXJzdC1jaGlsZFwiKTtcbiAgY2lyY2xlMi5hdHRyKFwiY2xhc3NcIiwgXCJzdGF0ZS1zdGFydFwiKS5hdHRyKFwiclwiLCA3KS5hdHRyKFwid2lkdGhcIiwgMTQpLmF0dHIoXCJoZWlnaHRcIiwgMTQpO1xuICB1cGRhdGVOb2RlQm91bmRzKG5vZGUsIGNpcmNsZTIpO1xuICBub2RlLmludGVyc2VjdCA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIGludGVyc2VjdF9kZWZhdWx0LmNpcmNsZShub2RlLCA3LCBwb2ludCk7XG4gIH07XG4gIHJldHVybiBzaGFwZVN2Zztcbn0sIFwic3RhcnRcIik7XG52YXIgZm9ya0pvaW4gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChwYXJlbnQsIG5vZGUsIGRpcikgPT4ge1xuICBjb25zdCBzaGFwZVN2ZyA9IHBhcmVudC5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBcIm5vZGUgZGVmYXVsdFwiKS5hdHRyKFwiaWRcIiwgbm9kZS5kb21JZCB8fCBub2RlLmlkKTtcbiAgbGV0IHdpZHRoID0gNzA7XG4gIGxldCBoZWlnaHQgPSAxMDtcbiAgaWYgKGRpciA9PT0gXCJMUlwiKSB7XG4gICAgd2lkdGggPSAxMDtcbiAgICBoZWlnaHQgPSA3MDtcbiAgfVxuICBjb25zdCBzaGFwZSA9IHNoYXBlU3ZnLmFwcGVuZChcInJlY3RcIikuYXR0cihcInhcIiwgLTEgKiB3aWR0aCAvIDIpLmF0dHIoXCJ5XCIsIC0xICogaGVpZ2h0IC8gMikuYXR0cihcIndpZHRoXCIsIHdpZHRoKS5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCkuYXR0cihcImNsYXNzXCIsIFwiZm9yay1qb2luXCIpO1xuICB1cGRhdGVOb2RlQm91bmRzKG5vZGUsIHNoYXBlKTtcbiAgbm9kZS5oZWlnaHQgPSBub2RlLmhlaWdodCArIG5vZGUucGFkZGluZyAvIDI7XG4gIG5vZGUud2lkdGggPSBub2RlLndpZHRoICsgbm9kZS5wYWRkaW5nIC8gMjtcbiAgbm9kZS5pbnRlcnNlY3QgPSBmdW5jdGlvbihwb2ludCkge1xuICAgIHJldHVybiBpbnRlcnNlY3RfZGVmYXVsdC5yZWN0KG5vZGUsIHBvaW50KTtcbiAgfTtcbiAgcmV0dXJuIHNoYXBlU3ZnO1xufSwgXCJmb3JrSm9pblwiKTtcbnZhciBlbmQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChwYXJlbnQsIG5vZGUpID0+IHtcbiAgY29uc3Qgc2hhcGVTdmcgPSBwYXJlbnQuaW5zZXJ0KFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJub2RlIGRlZmF1bHRcIikuYXR0cihcImlkXCIsIG5vZGUuZG9tSWQgfHwgbm9kZS5pZCk7XG4gIGNvbnN0IGlubmVyQ2lyY2xlID0gc2hhcGVTdmcuaW5zZXJ0KFwiY2lyY2xlXCIsIFwiOmZpcnN0LWNoaWxkXCIpO1xuICBjb25zdCBjaXJjbGUyID0gc2hhcGVTdmcuaW5zZXJ0KFwiY2lyY2xlXCIsIFwiOmZpcnN0LWNoaWxkXCIpO1xuICBjaXJjbGUyLmF0dHIoXCJjbGFzc1wiLCBcInN0YXRlLXN0YXJ0XCIpLmF0dHIoXCJyXCIsIDcpLmF0dHIoXCJ3aWR0aFwiLCAxNCkuYXR0cihcImhlaWdodFwiLCAxNCk7XG4gIGlubmVyQ2lyY2xlLmF0dHIoXCJjbGFzc1wiLCBcInN0YXRlLWVuZFwiKS5hdHRyKFwiclwiLCA1KS5hdHRyKFwid2lkdGhcIiwgMTApLmF0dHIoXCJoZWlnaHRcIiwgMTApO1xuICB1cGRhdGVOb2RlQm91bmRzKG5vZGUsIGNpcmNsZTIpO1xuICBub2RlLmludGVyc2VjdCA9IGZ1bmN0aW9uKHBvaW50KSB7XG4gICAgcmV0dXJuIGludGVyc2VjdF9kZWZhdWx0LmNpcmNsZShub2RlLCA3LCBwb2ludCk7XG4gIH07XG4gIHJldHVybiBzaGFwZVN2Zztcbn0sIFwiZW5kXCIpO1xudmFyIGNsYXNzX2JveCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmVudCwgbm9kZSkgPT4ge1xuICBjb25zdCBoYWxmUGFkZGluZyA9IG5vZGUucGFkZGluZyAvIDI7XG4gIGNvbnN0IHJvd1BhZGRpbmcgPSA0O1xuICBjb25zdCBsaW5lSGVpZ2h0ID0gODtcbiAgbGV0IGNsYXNzZXM7XG4gIGlmICghbm9kZS5jbGFzc2VzKSB7XG4gICAgY2xhc3NlcyA9IFwibm9kZSBkZWZhdWx0XCI7XG4gIH0gZWxzZSB7XG4gICAgY2xhc3NlcyA9IFwibm9kZSBcIiArIG5vZGUuY2xhc3NlcztcbiAgfVxuICBjb25zdCBzaGFwZVN2ZyA9IHBhcmVudC5pbnNlcnQoXCJnXCIpLmF0dHIoXCJjbGFzc1wiLCBjbGFzc2VzKS5hdHRyKFwiaWRcIiwgbm9kZS5kb21JZCB8fCBub2RlLmlkKTtcbiAgY29uc3QgcmVjdDIgPSBzaGFwZVN2Zy5pbnNlcnQoXCJyZWN0XCIsIFwiOmZpcnN0LWNoaWxkXCIpO1xuICBjb25zdCB0b3BMaW5lID0gc2hhcGVTdmcuaW5zZXJ0KFwibGluZVwiKTtcbiAgY29uc3QgYm90dG9tTGluZSA9IHNoYXBlU3ZnLmluc2VydChcImxpbmVcIik7XG4gIGxldCBtYXhXaWR0aCA9IDA7XG4gIGxldCBtYXhIZWlnaHQgPSByb3dQYWRkaW5nO1xuICBjb25zdCBsYWJlbENvbnRhaW5lciA9IHNoYXBlU3ZnLmluc2VydChcImdcIikuYXR0cihcImNsYXNzXCIsIFwibGFiZWxcIik7XG4gIGxldCB2ZXJ0aWNhbFBvcyA9IDA7XG4gIGNvbnN0IGhhc0ludGVyZmFjZSA9IG5vZGUuY2xhc3NEYXRhLmFubm90YXRpb25zPy5bMF07XG4gIGNvbnN0IGludGVyZmFjZUxhYmVsVGV4dCA9IG5vZGUuY2xhc3NEYXRhLmFubm90YXRpb25zWzBdID8gXCJcXHhBQlwiICsgbm9kZS5jbGFzc0RhdGEuYW5ub3RhdGlvbnNbMF0gKyBcIlxceEJCXCIgOiBcIlwiO1xuICBjb25zdCBpbnRlcmZhY2VMYWJlbCA9IGxhYmVsQ29udGFpbmVyLm5vZGUoKS5hcHBlbmRDaGlsZChjcmVhdGVMYWJlbF9kZWZhdWx0KGludGVyZmFjZUxhYmVsVGV4dCwgbm9kZS5sYWJlbFN0eWxlLCB0cnVlLCB0cnVlKSk7XG4gIGxldCBpbnRlcmZhY2VCQm94ID0gaW50ZXJmYWNlTGFiZWwuZ2V0QkJveCgpO1xuICBpZiAoZXZhbHVhdGUoZ2V0Q29uZmlnKCkuZmxvd2NoYXJ0Lmh0bWxMYWJlbHMpKSB7XG4gICAgY29uc3QgZGl2ID0gaW50ZXJmYWNlTGFiZWwuY2hpbGRyZW5bMF07XG4gICAgY29uc3QgZHYgPSBzZWxlY3QzKGludGVyZmFjZUxhYmVsKTtcbiAgICBpbnRlcmZhY2VCQm94ID0gZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIGR2LmF0dHIoXCJ3aWR0aFwiLCBpbnRlcmZhY2VCQm94LndpZHRoKTtcbiAgICBkdi5hdHRyKFwiaGVpZ2h0XCIsIGludGVyZmFjZUJCb3guaGVpZ2h0KTtcbiAgfVxuICBpZiAobm9kZS5jbGFzc0RhdGEuYW5ub3RhdGlvbnNbMF0pIHtcbiAgICBtYXhIZWlnaHQgKz0gaW50ZXJmYWNlQkJveC5oZWlnaHQgKyByb3dQYWRkaW5nO1xuICAgIG1heFdpZHRoICs9IGludGVyZmFjZUJCb3gud2lkdGg7XG4gIH1cbiAgbGV0IGNsYXNzVGl0bGVTdHJpbmcgPSBub2RlLmNsYXNzRGF0YS5sYWJlbDtcbiAgaWYgKG5vZGUuY2xhc3NEYXRhLnR5cGUgIT09IHZvaWQgMCAmJiBub2RlLmNsYXNzRGF0YS50eXBlICE9PSBcIlwiKSB7XG4gICAgaWYgKGdldENvbmZpZygpLmZsb3djaGFydC5odG1sTGFiZWxzKSB7XG4gICAgICBjbGFzc1RpdGxlU3RyaW5nICs9IFwiJmx0O1wiICsgbm9kZS5jbGFzc0RhdGEudHlwZSArIFwiJmd0O1wiO1xuICAgIH0gZWxzZSB7XG4gICAgICBjbGFzc1RpdGxlU3RyaW5nICs9IFwiPFwiICsgbm9kZS5jbGFzc0RhdGEudHlwZSArIFwiPlwiO1xuICAgIH1cbiAgfVxuICBjb25zdCBjbGFzc1RpdGxlTGFiZWwgPSBsYWJlbENvbnRhaW5lci5ub2RlKCkuYXBwZW5kQ2hpbGQoY3JlYXRlTGFiZWxfZGVmYXVsdChjbGFzc1RpdGxlU3RyaW5nLCBub2RlLmxhYmVsU3R5bGUsIHRydWUsIHRydWUpKTtcbiAgc2VsZWN0MyhjbGFzc1RpdGxlTGFiZWwpLmF0dHIoXCJjbGFzc1wiLCBcImNsYXNzVGl0bGVcIik7XG4gIGxldCBjbGFzc1RpdGxlQkJveCA9IGNsYXNzVGl0bGVMYWJlbC5nZXRCQm94KCk7XG4gIGlmIChldmFsdWF0ZShnZXRDb25maWcoKS5mbG93Y2hhcnQuaHRtbExhYmVscykpIHtcbiAgICBjb25zdCBkaXYgPSBjbGFzc1RpdGxlTGFiZWwuY2hpbGRyZW5bMF07XG4gICAgY29uc3QgZHYgPSBzZWxlY3QzKGNsYXNzVGl0bGVMYWJlbCk7XG4gICAgY2xhc3NUaXRsZUJCb3ggPSBkaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgZHYuYXR0cihcIndpZHRoXCIsIGNsYXNzVGl0bGVCQm94LndpZHRoKTtcbiAgICBkdi5hdHRyKFwiaGVpZ2h0XCIsIGNsYXNzVGl0bGVCQm94LmhlaWdodCk7XG4gIH1cbiAgbWF4SGVpZ2h0ICs9IGNsYXNzVGl0bGVCQm94LmhlaWdodCArIHJvd1BhZGRpbmc7XG4gIGlmIChjbGFzc1RpdGxlQkJveC53aWR0aCA+IG1heFdpZHRoKSB7XG4gICAgbWF4V2lkdGggPSBjbGFzc1RpdGxlQkJveC53aWR0aDtcbiAgfVxuICBjb25zdCBjbGFzc0F0dHJpYnV0ZXMgPSBbXTtcbiAgbm9kZS5jbGFzc0RhdGEubWVtYmVycy5mb3JFYWNoKChtZW1iZXIpID0+IHtcbiAgICBjb25zdCBwYXJzZWRJbmZvID0gbWVtYmVyLmdldERpc3BsYXlEZXRhaWxzKCk7XG4gICAgbGV0IHBhcnNlZFRleHQgPSBwYXJzZWRJbmZvLmRpc3BsYXlUZXh0O1xuICAgIGlmIChnZXRDb25maWcoKS5mbG93Y2hhcnQuaHRtbExhYmVscykge1xuICAgICAgcGFyc2VkVGV4dCA9IHBhcnNlZFRleHQucmVwbGFjZSgvPC9nLCBcIiZsdDtcIikucmVwbGFjZSgvPi9nLCBcIiZndDtcIik7XG4gICAgfVxuICAgIGNvbnN0IGxibCA9IGxhYmVsQ29udGFpbmVyLm5vZGUoKS5hcHBlbmRDaGlsZChcbiAgICAgIGNyZWF0ZUxhYmVsX2RlZmF1bHQoXG4gICAgICAgIHBhcnNlZFRleHQsXG4gICAgICAgIHBhcnNlZEluZm8uY3NzU3R5bGUgPyBwYXJzZWRJbmZvLmNzc1N0eWxlIDogbm9kZS5sYWJlbFN0eWxlLFxuICAgICAgICB0cnVlLFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgKTtcbiAgICBsZXQgYmJveCA9IGxibC5nZXRCQm94KCk7XG4gICAgaWYgKGV2YWx1YXRlKGdldENvbmZpZygpLmZsb3djaGFydC5odG1sTGFiZWxzKSkge1xuICAgICAgY29uc3QgZGl2ID0gbGJsLmNoaWxkcmVuWzBdO1xuICAgICAgY29uc3QgZHYgPSBzZWxlY3QzKGxibCk7XG4gICAgICBiYm94ID0gZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgZHYuYXR0cihcIndpZHRoXCIsIGJib3gud2lkdGgpO1xuICAgICAgZHYuYXR0cihcImhlaWdodFwiLCBiYm94LmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChiYm94LndpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgIG1heFdpZHRoID0gYmJveC53aWR0aDtcbiAgICB9XG4gICAgbWF4SGVpZ2h0ICs9IGJib3guaGVpZ2h0ICsgcm93UGFkZGluZztcbiAgICBjbGFzc0F0dHJpYnV0ZXMucHVzaChsYmwpO1xuICB9KTtcbiAgbWF4SGVpZ2h0ICs9IGxpbmVIZWlnaHQ7XG4gIGNvbnN0IGNsYXNzTWV0aG9kcyA9IFtdO1xuICBub2RlLmNsYXNzRGF0YS5tZXRob2RzLmZvckVhY2goKG1lbWJlcikgPT4ge1xuICAgIGNvbnN0IHBhcnNlZEluZm8gPSBtZW1iZXIuZ2V0RGlzcGxheURldGFpbHMoKTtcbiAgICBsZXQgZGlzcGxheVRleHQgPSBwYXJzZWRJbmZvLmRpc3BsYXlUZXh0O1xuICAgIGlmIChnZXRDb25maWcoKS5mbG93Y2hhcnQuaHRtbExhYmVscykge1xuICAgICAgZGlzcGxheVRleHQgPSBkaXNwbGF5VGV4dC5yZXBsYWNlKC88L2csIFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKTtcbiAgICB9XG4gICAgY29uc3QgbGJsID0gbGFiZWxDb250YWluZXIubm9kZSgpLmFwcGVuZENoaWxkKFxuICAgICAgY3JlYXRlTGFiZWxfZGVmYXVsdChcbiAgICAgICAgZGlzcGxheVRleHQsXG4gICAgICAgIHBhcnNlZEluZm8uY3NzU3R5bGUgPyBwYXJzZWRJbmZvLmNzc1N0eWxlIDogbm9kZS5sYWJlbFN0eWxlLFxuICAgICAgICB0cnVlLFxuICAgICAgICB0cnVlXG4gICAgICApXG4gICAgKTtcbiAgICBsZXQgYmJveCA9IGxibC5nZXRCQm94KCk7XG4gICAgaWYgKGV2YWx1YXRlKGdldENvbmZpZygpLmZsb3djaGFydC5odG1sTGFiZWxzKSkge1xuICAgICAgY29uc3QgZGl2ID0gbGJsLmNoaWxkcmVuWzBdO1xuICAgICAgY29uc3QgZHYgPSBzZWxlY3QzKGxibCk7XG4gICAgICBiYm94ID0gZGl2LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgZHYuYXR0cihcIndpZHRoXCIsIGJib3gud2lkdGgpO1xuICAgICAgZHYuYXR0cihcImhlaWdodFwiLCBiYm94LmhlaWdodCk7XG4gICAgfVxuICAgIGlmIChiYm94LndpZHRoID4gbWF4V2lkdGgpIHtcbiAgICAgIG1heFdpZHRoID0gYmJveC53aWR0aDtcbiAgICB9XG4gICAgbWF4SGVpZ2h0ICs9IGJib3guaGVpZ2h0ICsgcm93UGFkZGluZztcbiAgICBjbGFzc01ldGhvZHMucHVzaChsYmwpO1xuICB9KTtcbiAgbWF4SGVpZ2h0ICs9IGxpbmVIZWlnaHQ7XG4gIGlmIChoYXNJbnRlcmZhY2UpIHtcbiAgICBsZXQgZGlmZlgyID0gKG1heFdpZHRoIC0gaW50ZXJmYWNlQkJveC53aWR0aCkgLyAyO1xuICAgIHNlbGVjdDMoaW50ZXJmYWNlTGFiZWwpLmF0dHIoXG4gICAgICBcInRyYW5zZm9ybVwiLFxuICAgICAgXCJ0cmFuc2xhdGUoIFwiICsgKC0xICogbWF4V2lkdGggLyAyICsgZGlmZlgyKSArIFwiLCBcIiArIC0xICogbWF4SGVpZ2h0IC8gMiArIFwiKVwiXG4gICAgKTtcbiAgICB2ZXJ0aWNhbFBvcyA9IGludGVyZmFjZUJCb3guaGVpZ2h0ICsgcm93UGFkZGluZztcbiAgfVxuICBsZXQgZGlmZlggPSAobWF4V2lkdGggLSBjbGFzc1RpdGxlQkJveC53aWR0aCkgLyAyO1xuICBzZWxlY3QzKGNsYXNzVGl0bGVMYWJlbCkuYXR0cihcbiAgICBcInRyYW5zZm9ybVwiLFxuICAgIFwidHJhbnNsYXRlKCBcIiArICgtMSAqIG1heFdpZHRoIC8gMiArIGRpZmZYKSArIFwiLCBcIiArICgtMSAqIG1heEhlaWdodCAvIDIgKyB2ZXJ0aWNhbFBvcykgKyBcIilcIlxuICApO1xuICB2ZXJ0aWNhbFBvcyArPSBjbGFzc1RpdGxlQkJveC5oZWlnaHQgKyByb3dQYWRkaW5nO1xuICB0b3BMaW5lLmF0dHIoXCJjbGFzc1wiLCBcImRpdmlkZXJcIikuYXR0cihcIngxXCIsIC1tYXhXaWR0aCAvIDIgLSBoYWxmUGFkZGluZykuYXR0cihcIngyXCIsIG1heFdpZHRoIC8gMiArIGhhbGZQYWRkaW5nKS5hdHRyKFwieTFcIiwgLW1heEhlaWdodCAvIDIgLSBoYWxmUGFkZGluZyArIGxpbmVIZWlnaHQgKyB2ZXJ0aWNhbFBvcykuYXR0cihcInkyXCIsIC1tYXhIZWlnaHQgLyAyIC0gaGFsZlBhZGRpbmcgKyBsaW5lSGVpZ2h0ICsgdmVydGljYWxQb3MpO1xuICB2ZXJ0aWNhbFBvcyArPSBsaW5lSGVpZ2h0O1xuICBjbGFzc0F0dHJpYnV0ZXMuZm9yRWFjaCgobGJsKSA9PiB7XG4gICAgc2VsZWN0MyhsYmwpLmF0dHIoXG4gICAgICBcInRyYW5zZm9ybVwiLFxuICAgICAgXCJ0cmFuc2xhdGUoIFwiICsgLW1heFdpZHRoIC8gMiArIFwiLCBcIiArICgtMSAqIG1heEhlaWdodCAvIDIgKyB2ZXJ0aWNhbFBvcyArIGxpbmVIZWlnaHQgLyAyKSArIFwiKVwiXG4gICAgKTtcbiAgICBjb25zdCBtZW1iZXJCQm94ID0gbGJsPy5nZXRCQm94KCk7XG4gICAgdmVydGljYWxQb3MgKz0gKG1lbWJlckJCb3g/LmhlaWdodCA/PyAwKSArIHJvd1BhZGRpbmc7XG4gIH0pO1xuICB2ZXJ0aWNhbFBvcyArPSBsaW5lSGVpZ2h0O1xuICBib3R0b21MaW5lLmF0dHIoXCJjbGFzc1wiLCBcImRpdmlkZXJcIikuYXR0cihcIngxXCIsIC1tYXhXaWR0aCAvIDIgLSBoYWxmUGFkZGluZykuYXR0cihcIngyXCIsIG1heFdpZHRoIC8gMiArIGhhbGZQYWRkaW5nKS5hdHRyKFwieTFcIiwgLW1heEhlaWdodCAvIDIgLSBoYWxmUGFkZGluZyArIGxpbmVIZWlnaHQgKyB2ZXJ0aWNhbFBvcykuYXR0cihcInkyXCIsIC1tYXhIZWlnaHQgLyAyIC0gaGFsZlBhZGRpbmcgKyBsaW5lSGVpZ2h0ICsgdmVydGljYWxQb3MpO1xuICB2ZXJ0aWNhbFBvcyArPSBsaW5lSGVpZ2h0O1xuICBjbGFzc01ldGhvZHMuZm9yRWFjaCgobGJsKSA9PiB7XG4gICAgc2VsZWN0MyhsYmwpLmF0dHIoXG4gICAgICBcInRyYW5zZm9ybVwiLFxuICAgICAgXCJ0cmFuc2xhdGUoIFwiICsgLW1heFdpZHRoIC8gMiArIFwiLCBcIiArICgtMSAqIG1heEhlaWdodCAvIDIgKyB2ZXJ0aWNhbFBvcykgKyBcIilcIlxuICAgICk7XG4gICAgY29uc3QgbWVtYmVyQkJveCA9IGxibD8uZ2V0QkJveCgpO1xuICAgIHZlcnRpY2FsUG9zICs9IChtZW1iZXJCQm94Py5oZWlnaHQgPz8gMCkgKyByb3dQYWRkaW5nO1xuICB9KTtcbiAgcmVjdDIuYXR0cihcInN0eWxlXCIsIG5vZGUuc3R5bGUpLmF0dHIoXCJjbGFzc1wiLCBcIm91dGVyIHRpdGxlLXN0YXRlXCIpLmF0dHIoXCJ4XCIsIC1tYXhXaWR0aCAvIDIgLSBoYWxmUGFkZGluZykuYXR0cihcInlcIiwgLShtYXhIZWlnaHQgLyAyKSAtIGhhbGZQYWRkaW5nKS5hdHRyKFwid2lkdGhcIiwgbWF4V2lkdGggKyBub2RlLnBhZGRpbmcpLmF0dHIoXCJoZWlnaHRcIiwgbWF4SGVpZ2h0ICsgbm9kZS5wYWRkaW5nKTtcbiAgdXBkYXRlTm9kZUJvdW5kcyhub2RlLCByZWN0Mik7XG4gIG5vZGUuaW50ZXJzZWN0ID0gZnVuY3Rpb24ocG9pbnQpIHtcbiAgICByZXR1cm4gaW50ZXJzZWN0X2RlZmF1bHQucmVjdChub2RlLCBwb2ludCk7XG4gIH07XG4gIHJldHVybiBzaGFwZVN2Zztcbn0sIFwiY2xhc3NfYm94XCIpO1xudmFyIHNoYXBlcyA9IHtcbiAgcmhvbWJ1czogcXVlc3Rpb24sXG4gIGNvbXBvc2l0ZSxcbiAgcXVlc3Rpb24sXG4gIHJlY3QsXG4gIGxhYmVsUmVjdCxcbiAgcmVjdFdpdGhUaXRsZSxcbiAgY2hvaWNlLFxuICBjaXJjbGUsXG4gIGRvdWJsZWNpcmNsZSxcbiAgc3RhZGl1bSxcbiAgaGV4YWdvbixcbiAgYmxvY2tfYXJyb3csXG4gIHJlY3RfbGVmdF9pbnZfYXJyb3csXG4gIGxlYW5fcmlnaHQsXG4gIGxlYW5fbGVmdCxcbiAgdHJhcGV6b2lkLFxuICBpbnZfdHJhcGV6b2lkLFxuICByZWN0X3JpZ2h0X2ludl9hcnJvdyxcbiAgY3lsaW5kZXIsXG4gIHN0YXJ0LFxuICBlbmQsXG4gIG5vdGU6IG5vdGVfZGVmYXVsdCxcbiAgc3Vicm91dGluZSxcbiAgZm9yazogZm9ya0pvaW4sXG4gIGpvaW46IGZvcmtKb2luLFxuICBjbGFzc19ib3hcbn07XG52YXIgbm9kZUVsZW1zID0ge307XG52YXIgaW5zZXJ0Tm9kZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoYXN5bmMgKGVsZW0sIG5vZGUsIGRpcikgPT4ge1xuICBsZXQgbmV3RWw7XG4gIGxldCBlbDtcbiAgaWYgKG5vZGUubGluaykge1xuICAgIGxldCB0YXJnZXQ7XG4gICAgaWYgKGdldENvbmZpZygpLnNlY3VyaXR5TGV2ZWwgPT09IFwic2FuZGJveFwiKSB7XG4gICAgICB0YXJnZXQgPSBcIl90b3BcIjtcbiAgICB9IGVsc2UgaWYgKG5vZGUubGlua1RhcmdldCkge1xuICAgICAgdGFyZ2V0ID0gbm9kZS5saW5rVGFyZ2V0IHx8IFwiX2JsYW5rXCI7XG4gICAgfVxuICAgIG5ld0VsID0gZWxlbS5pbnNlcnQoXCJzdmc6YVwiKS5hdHRyKFwieGxpbms6aHJlZlwiLCBub2RlLmxpbmspLmF0dHIoXCJ0YXJnZXRcIiwgdGFyZ2V0KTtcbiAgICBlbCA9IGF3YWl0IHNoYXBlc1tub2RlLnNoYXBlXShuZXdFbCwgbm9kZSwgZGlyKTtcbiAgfSBlbHNlIHtcbiAgICBlbCA9IGF3YWl0IHNoYXBlc1tub2RlLnNoYXBlXShlbGVtLCBub2RlLCBkaXIpO1xuICAgIG5ld0VsID0gZWw7XG4gIH1cbiAgaWYgKG5vZGUudG9vbHRpcCkge1xuICAgIGVsLmF0dHIoXCJ0aXRsZVwiLCBub2RlLnRvb2x0aXApO1xuICB9XG4gIGlmIChub2RlLmNsYXNzKSB7XG4gICAgZWwuYXR0cihcImNsYXNzXCIsIFwibm9kZSBkZWZhdWx0IFwiICsgbm9kZS5jbGFzcyk7XG4gIH1cbiAgbm9kZUVsZW1zW25vZGUuaWRdID0gbmV3RWw7XG4gIGlmIChub2RlLmhhdmVDYWxsYmFjaykge1xuICAgIG5vZGVFbGVtc1tub2RlLmlkXS5hdHRyKFwiY2xhc3NcIiwgbm9kZUVsZW1zW25vZGUuaWRdLmF0dHIoXCJjbGFzc1wiKSArIFwiIGNsaWNrYWJsZVwiKTtcbiAgfVxuICByZXR1cm4gbmV3RWw7XG59LCBcImluc2VydE5vZGVcIik7XG52YXIgc2V0Tm9kZUVsZW0gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChlbGVtLCBub2RlKSA9PiB7XG4gIG5vZGVFbGVtc1tub2RlLmlkXSA9IGVsZW07XG59LCBcInNldE5vZGVFbGVtXCIpO1xudmFyIGNsZWFyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoKSA9PiB7XG4gIG5vZGVFbGVtcyA9IHt9O1xufSwgXCJjbGVhclwiKTtcbnZhciBwb3NpdGlvbk5vZGUgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChub2RlKSA9PiB7XG4gIGNvbnN0IGVsID0gbm9kZUVsZW1zW25vZGUuaWRdO1xuICBsb2cudHJhY2UoXG4gICAgXCJUcmFuc2Zvcm1pbmcgbm9kZVwiLFxuICAgIG5vZGUuZGlmZixcbiAgICBub2RlLFxuICAgIFwidHJhbnNsYXRlKFwiICsgKG5vZGUueCAtIG5vZGUud2lkdGggLyAyIC0gNSkgKyBcIiwgXCIgKyBub2RlLndpZHRoIC8gMiArIFwiKVwiXG4gICk7XG4gIGNvbnN0IHBhZGRpbmcgPSA4O1xuICBjb25zdCBkaWZmID0gbm9kZS5kaWZmIHx8IDA7XG4gIGlmIChub2RlLmNsdXN0ZXJOb2RlKSB7XG4gICAgZWwuYXR0cihcbiAgICAgIFwidHJhbnNmb3JtXCIsXG4gICAgICBcInRyYW5zbGF0ZShcIiArIChub2RlLnggKyBkaWZmIC0gbm9kZS53aWR0aCAvIDIpICsgXCIsIFwiICsgKG5vZGUueSAtIG5vZGUuaGVpZ2h0IC8gMiAtIHBhZGRpbmcpICsgXCIpXCJcbiAgICApO1xuICB9IGVsc2Uge1xuICAgIGVsLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBub2RlLnggKyBcIiwgXCIgKyBub2RlLnkgKyBcIilcIik7XG4gIH1cbiAgcmV0dXJuIGRpZmY7XG59LCBcInBvc2l0aW9uTm9kZVwiKTtcblxuZXhwb3J0IHtcbiAgY3JlYXRlTGFiZWxfZGVmYXVsdCxcbiAgaW50ZXJzZWN0X3JlY3RfZGVmYXVsdCxcbiAgdXBkYXRlTm9kZUJvdW5kcyxcbiAgaW5zZXJ0Tm9kZSxcbiAgc2V0Tm9kZUVsZW0sXG4gIGNsZWFyLFxuICBwb3NpdGlvbk5vZGVcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DGPT5PPI.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DUMQOTYW.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DUMQOTYW.mjs ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDiagramElement: function() { return /* binding */ getDiagramElement; },\n/* harmony export */   setupViewPortForSVG: function() { return /* binding */ setupViewPortForSVG; }\n/* harmony export */ });\n/* harmony import */ var _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-IIKMQLIC.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-IIKMQLIC.mjs\");\n/* harmony import */ var d3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! d3 */ \"(app-pages-browser)/./node_modules/d3/src/index.js\");\n\n\n// src/rendering-util/insertElementsForSize.js\n\nvar getDiagramElement = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((id, securityLevel) => {\n  let sandboxElement;\n  if (securityLevel === \"sandbox\") {\n    sandboxElement = (0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(\"#i\" + id);\n  }\n  const root = securityLevel === \"sandbox\" ? (0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(sandboxElement.nodes()[0].contentDocument.body) : (0,d3__WEBPACK_IMPORTED_MODULE_1__.select)(\"body\");\n  const svg = root.select(`[id=\"${id}\"]`);\n  return svg;\n}, \"getDiagramElement\");\n\n// src/rendering-util/setupViewPortForSVG.ts\nvar setupViewPortForSVG = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((svg, padding, cssDiagram, useMaxWidth) => {\n  svg.attr(\"class\", cssDiagram);\n  const { width, height, x, y } = calculateDimensionsWithPadding(svg, padding);\n  (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_0__.configureSvgSize)(svg, height, width, useMaxWidth);\n  const viewBox = createViewBox(x, y, width, height, padding);\n  svg.attr(\"viewBox\", viewBox);\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_0__.log.debug(`viewBox configured: ${viewBox} with padding: ${padding}`);\n}, \"setupViewPortForSVG\");\nvar calculateDimensionsWithPadding = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((svg, padding) => {\n  const bounds = svg.node()?.getBBox() || { width: 0, height: 0, x: 0, y: 0 };\n  return {\n    width: bounds.width + padding * 2,\n    height: bounds.height + padding * 2,\n    x: bounds.x,\n    y: bounds.y\n  };\n}, \"calculateDimensionsWithPadding\");\nvar createViewBox = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_0__.__name)((x, y, width, height, padding) => {\n  return `${x - padding} ${y - padding} ${width} ${height}`;\n}, \"createViewBox\");\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tZXJtYWlkL2Rpc3QvY2h1bmtzL21lcm1haWQuY29yZS9jaHVuay1EVU1RT1RZVy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUk4Qjs7QUFFOUI7QUFDNEI7QUFDNUIsd0NBQXdDLDJEQUFNO0FBQzlDO0FBQ0E7QUFDQSxxQkFBcUIsMENBQU07QUFDM0I7QUFDQSw2Q0FBNkMsMENBQU0sbURBQW1ELDBDQUFNO0FBQzVHLGtDQUFrQyxHQUFHO0FBQ3JDO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBLDBDQUEwQywyREFBTTtBQUNoRDtBQUNBLFVBQVUsc0JBQXNCO0FBQ2hDLEVBQUUscUVBQWdCO0FBQ2xCO0FBQ0E7QUFDQSxFQUFFLG9EQUFHLDhCQUE4QixTQUFTLGdCQUFnQixRQUFRO0FBQ3BFLENBQUM7QUFDRCxxREFBcUQsMkRBQU07QUFDM0QsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxvQ0FBb0MsMkRBQU07QUFDMUMsWUFBWSxhQUFhLEVBQUUsYUFBYSxFQUFFLE9BQU8sRUFBRSxPQUFPO0FBQzFELENBQUM7O0FBS0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21lcm1haWQvZGlzdC9jaHVua3MvbWVybWFpZC5jb3JlL2NodW5rLURVTVFPVFlXLm1qcz8wOWFlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIF9fbmFtZSxcbiAgY29uZmlndXJlU3ZnU2l6ZSxcbiAgbG9nXG59IGZyb20gXCIuL2NodW5rLUlJS01RTElDLm1qc1wiO1xuXG4vLyBzcmMvcmVuZGVyaW5nLXV0aWwvaW5zZXJ0RWxlbWVudHNGb3JTaXplLmpzXG5pbXBvcnQgeyBzZWxlY3QgfSBmcm9tIFwiZDNcIjtcbnZhciBnZXREaWFncmFtRWxlbWVudCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKGlkLCBzZWN1cml0eUxldmVsKSA9PiB7XG4gIGxldCBzYW5kYm94RWxlbWVudDtcbiAgaWYgKHNlY3VyaXR5TGV2ZWwgPT09IFwic2FuZGJveFwiKSB7XG4gICAgc2FuZGJveEVsZW1lbnQgPSBzZWxlY3QoXCIjaVwiICsgaWQpO1xuICB9XG4gIGNvbnN0IHJvb3QgPSBzZWN1cml0eUxldmVsID09PSBcInNhbmRib3hcIiA/IHNlbGVjdChzYW5kYm94RWxlbWVudC5ub2RlcygpWzBdLmNvbnRlbnREb2N1bWVudC5ib2R5KSA6IHNlbGVjdChcImJvZHlcIik7XG4gIGNvbnN0IHN2ZyA9IHJvb3Quc2VsZWN0KGBbaWQ9XCIke2lkfVwiXWApO1xuICByZXR1cm4gc3ZnO1xufSwgXCJnZXREaWFncmFtRWxlbWVudFwiKTtcblxuLy8gc3JjL3JlbmRlcmluZy11dGlsL3NldHVwVmlld1BvcnRGb3JTVkcudHNcbnZhciBzZXR1cFZpZXdQb3J0Rm9yU1ZHID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3ZnLCBwYWRkaW5nLCBjc3NEaWFncmFtLCB1c2VNYXhXaWR0aCkgPT4ge1xuICBzdmcuYXR0cihcImNsYXNzXCIsIGNzc0RpYWdyYW0pO1xuICBjb25zdCB7IHdpZHRoLCBoZWlnaHQsIHgsIHkgfSA9IGNhbGN1bGF0ZURpbWVuc2lvbnNXaXRoUGFkZGluZyhzdmcsIHBhZGRpbmcpO1xuICBjb25maWd1cmVTdmdTaXplKHN2ZywgaGVpZ2h0LCB3aWR0aCwgdXNlTWF4V2lkdGgpO1xuICBjb25zdCB2aWV3Qm94ID0gY3JlYXRlVmlld0JveCh4LCB5LCB3aWR0aCwgaGVpZ2h0LCBwYWRkaW5nKTtcbiAgc3ZnLmF0dHIoXCJ2aWV3Qm94XCIsIHZpZXdCb3gpO1xuICBsb2cuZGVidWcoYHZpZXdCb3ggY29uZmlndXJlZDogJHt2aWV3Qm94fSB3aXRoIHBhZGRpbmc6ICR7cGFkZGluZ31gKTtcbn0sIFwic2V0dXBWaWV3UG9ydEZvclNWR1wiKTtcbnZhciBjYWxjdWxhdGVEaW1lbnNpb25zV2l0aFBhZGRpbmcgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChzdmcsIHBhZGRpbmcpID0+IHtcbiAgY29uc3QgYm91bmRzID0gc3ZnLm5vZGUoKT8uZ2V0QkJveCgpIHx8IHsgd2lkdGg6IDAsIGhlaWdodDogMCwgeDogMCwgeTogMCB9O1xuICByZXR1cm4ge1xuICAgIHdpZHRoOiBib3VuZHMud2lkdGggKyBwYWRkaW5nICogMixcbiAgICBoZWlnaHQ6IGJvdW5kcy5oZWlnaHQgKyBwYWRkaW5nICogMixcbiAgICB4OiBib3VuZHMueCxcbiAgICB5OiBib3VuZHMueVxuICB9O1xufSwgXCJjYWxjdWxhdGVEaW1lbnNpb25zV2l0aFBhZGRpbmdcIik7XG52YXIgY3JlYXRlVmlld0JveCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHgsIHksIHdpZHRoLCBoZWlnaHQsIHBhZGRpbmcpID0+IHtcbiAgcmV0dXJuIGAke3ggLSBwYWRkaW5nfSAke3kgLSBwYWRkaW5nfSAke3dpZHRofSAke2hlaWdodH1gO1xufSwgXCJjcmVhdGVWaWV3Qm94XCIpO1xuXG5leHBvcnQge1xuICBnZXREaWFncmFtRWxlbWVudCxcbiAgc2V0dXBWaWV3UG9ydEZvclNWR1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DUMQOTYW.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-RFNHIAZX.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/mermaid/dist/chunks/mermaid.core/chunk-RFNHIAZX.mjs ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   stateDb_default: function() { return /* binding */ stateDb_default; },\n/* harmony export */   stateDiagram_default: function() { return /* binding */ stateDiagram_default; },\n/* harmony export */   stateRenderer_v3_unified_default: function() { return /* binding */ stateRenderer_v3_unified_default; },\n/* harmony export */   styles_default: function() { return /* binding */ styles_default; }\n/* harmony export */ });\n/* harmony import */ var _chunk_DUMQOTYW_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-DUMQOTYW.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DUMQOTYW.mjs\");\n/* harmony import */ var _chunk_YCAQCADR_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-YCAQCADR.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-YCAQCADR.mjs\");\n/* harmony import */ var _chunk_2EDTWDYI_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-2EDTWDYI.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-2EDTWDYI.mjs\");\n/* harmony import */ var _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-IIKMQLIC.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-IIKMQLIC.mjs\");\n\n\n\n\n\n// src/diagrams/state/parser/stateDiagram.jison\nvar parser = function() {\n  var o = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v) ;\n    return o2;\n  }, \"o\"), $V0 = [1, 2], $V1 = [1, 3], $V2 = [1, 4], $V3 = [2, 4], $V4 = [1, 9], $V5 = [1, 11], $V6 = [1, 16], $V7 = [1, 17], $V8 = [1, 18], $V9 = [1, 19], $Va = [1, 32], $Vb = [1, 20], $Vc = [1, 21], $Vd = [1, 22], $Ve = [1, 23], $Vf = [1, 24], $Vg = [1, 26], $Vh = [1, 27], $Vi = [1, 28], $Vj = [1, 29], $Vk = [1, 30], $Vl = [1, 31], $Vm = [1, 34], $Vn = [1, 35], $Vo = [1, 36], $Vp = [1, 37], $Vq = [1, 33], $Vr = [1, 4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], $Vs = [1, 4, 5, 14, 15, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], $Vt = [4, 5, 16, 17, 19, 21, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54];\n  var parser2 = {\n    trace: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function trace() {\n    }, \"trace\"),\n    yy: {},\n    symbols_: { \"error\": 2, \"start\": 3, \"SPACE\": 4, \"NL\": 5, \"SD\": 6, \"document\": 7, \"line\": 8, \"statement\": 9, \"classDefStatement\": 10, \"styleStatement\": 11, \"cssClassStatement\": 12, \"idStatement\": 13, \"DESCR\": 14, \"-->\": 15, \"HIDE_EMPTY\": 16, \"scale\": 17, \"WIDTH\": 18, \"COMPOSIT_STATE\": 19, \"STRUCT_START\": 20, \"STRUCT_STOP\": 21, \"STATE_DESCR\": 22, \"AS\": 23, \"ID\": 24, \"FORK\": 25, \"JOIN\": 26, \"CHOICE\": 27, \"CONCURRENT\": 28, \"note\": 29, \"notePosition\": 30, \"NOTE_TEXT\": 31, \"direction\": 32, \"acc_title\": 33, \"acc_title_value\": 34, \"acc_descr\": 35, \"acc_descr_value\": 36, \"acc_descr_multiline_value\": 37, \"classDef\": 38, \"CLASSDEF_ID\": 39, \"CLASSDEF_STYLEOPTS\": 40, \"DEFAULT\": 41, \"style\": 42, \"STYLE_IDS\": 43, \"STYLEDEF_STYLEOPTS\": 44, \"class\": 45, \"CLASSENTITY_IDS\": 46, \"STYLECLASS\": 47, \"direction_tb\": 48, \"direction_bt\": 49, \"direction_rl\": 50, \"direction_lr\": 51, \"eol\": 52, \";\": 53, \"EDGE_STATE\": 54, \"STYLE_SEPARATOR\": 55, \"left_of\": 56, \"right_of\": 57, \"$accept\": 0, \"$end\": 1 },\n    terminals_: { 2: \"error\", 4: \"SPACE\", 5: \"NL\", 6: \"SD\", 14: \"DESCR\", 15: \"-->\", 16: \"HIDE_EMPTY\", 17: \"scale\", 18: \"WIDTH\", 19: \"COMPOSIT_STATE\", 20: \"STRUCT_START\", 21: \"STRUCT_STOP\", 22: \"STATE_DESCR\", 23: \"AS\", 24: \"ID\", 25: \"FORK\", 26: \"JOIN\", 27: \"CHOICE\", 28: \"CONCURRENT\", 29: \"note\", 31: \"NOTE_TEXT\", 33: \"acc_title\", 34: \"acc_title_value\", 35: \"acc_descr\", 36: \"acc_descr_value\", 37: \"acc_descr_multiline_value\", 38: \"classDef\", 39: \"CLASSDEF_ID\", 40: \"CLASSDEF_STYLEOPTS\", 41: \"DEFAULT\", 42: \"style\", 43: \"STYLE_IDS\", 44: \"STYLEDEF_STYLEOPTS\", 45: \"class\", 46: \"CLASSENTITY_IDS\", 47: \"STYLECLASS\", 48: \"direction_tb\", 49: \"direction_bt\", 50: \"direction_rl\", 51: \"direction_lr\", 53: \";\", 54: \"EDGE_STATE\", 55: \"STYLE_SEPARATOR\", 56: \"left_of\", 57: \"right_of\" },\n    productions_: [0, [3, 2], [3, 2], [3, 2], [7, 0], [7, 2], [8, 2], [8, 1], [8, 1], [9, 1], [9, 1], [9, 1], [9, 1], [9, 2], [9, 3], [9, 4], [9, 1], [9, 2], [9, 1], [9, 4], [9, 3], [9, 6], [9, 1], [9, 1], [9, 1], [9, 1], [9, 4], [9, 4], [9, 1], [9, 2], [9, 2], [9, 1], [10, 3], [10, 3], [11, 3], [12, 3], [32, 1], [32, 1], [32, 1], [32, 1], [52, 1], [52, 1], [13, 1], [13, 1], [13, 3], [13, 3], [30, 1], [30, 1]],\n    performAction: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 3:\n          yy.setRootDoc($$[$0]);\n          return $$[$0];\n          break;\n        case 4:\n          this.$ = [];\n          break;\n        case 5:\n          if ($$[$0] != \"nl\") {\n            $$[$0 - 1].push($$[$0]);\n            this.$ = $$[$0 - 1];\n          }\n          break;\n        case 6:\n        case 7:\n          this.$ = $$[$0];\n          break;\n        case 8:\n          this.$ = \"nl\";\n          break;\n        case 12:\n          this.$ = $$[$0];\n          break;\n        case 13:\n          const stateStmt = $$[$0 - 1];\n          stateStmt.description = yy.trimColon($$[$0]);\n          this.$ = stateStmt;\n          break;\n        case 14:\n          this.$ = { stmt: \"relation\", state1: $$[$0 - 2], state2: $$[$0] };\n          break;\n        case 15:\n          const relDescription = yy.trimColon($$[$0]);\n          this.$ = { stmt: \"relation\", state1: $$[$0 - 3], state2: $$[$0 - 1], description: relDescription };\n          break;\n        case 19:\n          this.$ = { stmt: \"state\", id: $$[$0 - 3], type: \"default\", description: \"\", doc: $$[$0 - 1] };\n          break;\n        case 20:\n          var id = $$[$0];\n          var description = $$[$0 - 2].trim();\n          if ($$[$0].match(\":\")) {\n            var parts = $$[$0].split(\":\");\n            id = parts[0];\n            description = [description, parts[1]];\n          }\n          this.$ = { stmt: \"state\", id, type: \"default\", description };\n          break;\n        case 21:\n          this.$ = { stmt: \"state\", id: $$[$0 - 3], type: \"default\", description: $$[$0 - 5], doc: $$[$0 - 1] };\n          break;\n        case 22:\n          this.$ = { stmt: \"state\", id: $$[$0], type: \"fork\" };\n          break;\n        case 23:\n          this.$ = { stmt: \"state\", id: $$[$0], type: \"join\" };\n          break;\n        case 24:\n          this.$ = { stmt: \"state\", id: $$[$0], type: \"choice\" };\n          break;\n        case 25:\n          this.$ = { stmt: \"state\", id: yy.getDividerId(), type: \"divider\" };\n          break;\n        case 26:\n          this.$ = { stmt: \"state\", id: $$[$0 - 1].trim(), note: { position: $$[$0 - 2].trim(), text: $$[$0].trim() } };\n          break;\n        case 29:\n          this.$ = $$[$0].trim();\n          yy.setAccTitle(this.$);\n          break;\n        case 30:\n        case 31:\n          this.$ = $$[$0].trim();\n          yy.setAccDescription(this.$);\n          break;\n        case 32:\n        case 33:\n          this.$ = { stmt: \"classDef\", id: $$[$0 - 1].trim(), classes: $$[$0].trim() };\n          break;\n        case 34:\n          this.$ = { stmt: \"style\", id: $$[$0 - 1].trim(), styleClass: $$[$0].trim() };\n          break;\n        case 35:\n          this.$ = { stmt: \"applyClass\", id: $$[$0 - 1].trim(), styleClass: $$[$0].trim() };\n          break;\n        case 36:\n          yy.setDirection(\"TB\");\n          this.$ = { stmt: \"dir\", value: \"TB\" };\n          break;\n        case 37:\n          yy.setDirection(\"BT\");\n          this.$ = { stmt: \"dir\", value: \"BT\" };\n          break;\n        case 38:\n          yy.setDirection(\"RL\");\n          this.$ = { stmt: \"dir\", value: \"RL\" };\n          break;\n        case 39:\n          yy.setDirection(\"LR\");\n          this.$ = { stmt: \"dir\", value: \"LR\" };\n          break;\n        case 42:\n        case 43:\n          this.$ = { stmt: \"state\", id: $$[$0].trim(), type: \"default\", description: \"\" };\n          break;\n        case 44:\n          this.$ = { stmt: \"state\", id: $$[$0 - 2].trim(), classes: [$$[$0].trim()], type: \"default\", description: \"\" };\n          break;\n        case 45:\n          this.$ = { stmt: \"state\", id: $$[$0 - 2].trim(), classes: [$$[$0].trim()], type: \"default\", description: \"\" };\n          break;\n      }\n    }, \"anonymous\"),\n    table: [{ 3: 1, 4: $V0, 5: $V1, 6: $V2 }, { 1: [3] }, { 3: 5, 4: $V0, 5: $V1, 6: $V2 }, { 3: 6, 4: $V0, 5: $V1, 6: $V2 }, o([1, 4, 5, 16, 17, 19, 22, 24, 25, 26, 27, 28, 29, 33, 35, 37, 38, 42, 45, 48, 49, 50, 51, 54], $V3, { 7: 7 }), { 1: [2, 1] }, { 1: [2, 2] }, { 1: [2, 3], 4: $V4, 5: $V5, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 42: $Vk, 45: $Vl, 48: $Vm, 49: $Vn, 50: $Vo, 51: $Vp, 54: $Vq }, o($Vr, [2, 5]), { 9: 38, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 42: $Vk, 45: $Vl, 48: $Vm, 49: $Vn, 50: $Vo, 51: $Vp, 54: $Vq }, o($Vr, [2, 7]), o($Vr, [2, 8]), o($Vr, [2, 9]), o($Vr, [2, 10]), o($Vr, [2, 11]), o($Vr, [2, 12], { 14: [1, 39], 15: [1, 40] }), o($Vr, [2, 16]), { 18: [1, 41] }, o($Vr, [2, 18], { 20: [1, 42] }), { 23: [1, 43] }, o($Vr, [2, 22]), o($Vr, [2, 23]), o($Vr, [2, 24]), o($Vr, [2, 25]), { 30: 44, 31: [1, 45], 56: [1, 46], 57: [1, 47] }, o($Vr, [2, 28]), { 34: [1, 48] }, { 36: [1, 49] }, o($Vr, [2, 31]), { 39: [1, 50], 41: [1, 51] }, { 43: [1, 52] }, { 46: [1, 53] }, o($Vs, [2, 42], { 55: [1, 54] }), o($Vs, [2, 43], { 55: [1, 55] }), o($Vr, [2, 36]), o($Vr, [2, 37]), o($Vr, [2, 38]), o($Vr, [2, 39]), o($Vr, [2, 6]), o($Vr, [2, 13]), { 13: 56, 24: $Va, 54: $Vq }, o($Vr, [2, 17]), o($Vt, $V3, { 7: 57 }), { 24: [1, 58] }, { 24: [1, 59] }, { 23: [1, 60] }, { 24: [2, 46] }, { 24: [2, 47] }, o($Vr, [2, 29]), o($Vr, [2, 30]), { 40: [1, 61] }, { 40: [1, 62] }, { 44: [1, 63] }, { 47: [1, 64] }, { 24: [1, 65] }, { 24: [1, 66] }, o($Vr, [2, 14], { 14: [1, 67] }), { 4: $V4, 5: $V5, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 21: [1, 68], 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 42: $Vk, 45: $Vl, 48: $Vm, 49: $Vn, 50: $Vo, 51: $Vp, 54: $Vq }, o($Vr, [2, 20], { 20: [1, 69] }), { 31: [1, 70] }, { 24: [1, 71] }, o($Vr, [2, 32]), o($Vr, [2, 33]), o($Vr, [2, 34]), o($Vr, [2, 35]), o($Vs, [2, 44]), o($Vs, [2, 45]), o($Vr, [2, 15]), o($Vr, [2, 19]), o($Vt, $V3, { 7: 72 }), o($Vr, [2, 26]), o($Vr, [2, 27]), { 4: $V4, 5: $V5, 8: 8, 9: 10, 10: 12, 11: 13, 12: 14, 13: 15, 16: $V6, 17: $V7, 19: $V8, 21: [1, 73], 22: $V9, 24: $Va, 25: $Vb, 26: $Vc, 27: $Vd, 28: $Ve, 29: $Vf, 32: 25, 33: $Vg, 35: $Vh, 37: $Vi, 38: $Vj, 42: $Vk, 45: $Vl, 48: $Vm, 49: $Vn, 50: $Vo, 51: $Vp, 54: $Vq }, o($Vr, [2, 21])],\n    defaultActions: { 5: [2, 1], 6: [2, 2], 46: [2, 46], 47: [2, 47] },\n    parseError: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function parseError(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    }, \"parseError\"),\n    parse: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == \"undefined\") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === \"function\") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n      }\n      (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(popStack, \"popStack\");\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== \"number\") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(lex, \"lex\");\n      var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == \"undefined\") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === \"undefined\" || !action.length || !action[0]) {\n          var errStr = \"\";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push(\"'\" + this.terminals_[p] + \"'\");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + lexer2.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n          } else {\n            errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == EOF ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n              if (recovering > 0) {\n                recovering--;\n              }\n            } else {\n              symbol = preErrorSymbol;\n              preErrorSymbol = null;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== \"undefined\") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }, \"parse\")\n  };\n  var lexer = /* @__PURE__ */ function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function parseError(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      }, \"parseError\"),\n      // resets the lexer, sets new input\n      setInput: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = \"\";\n        this.conditionStack = [\"INITIAL\"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      }, \"setInput\"),\n      // consumes and returns one char from the input\n      input: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      }, \"input\"),\n      // unshifts one char (or a string) into the input\n      unput: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      }, \"unput\"),\n      // When called from action, caches matched text and appends it on next action\n      more: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        this._more = true;\n        return this;\n      }, \"more\"),\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n\" + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      }, \"reject\"),\n      // retain first n characters of the match\n      less: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(n) {\n        this.unput(this.match.slice(n));\n      }, \"less\"),\n      // displays already matched input, i.e. for error messages\n      pastInput: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? \"...\" : \"\") + past.substr(-20).replace(/\\n/g, \"\");\n      }, \"pastInput\"),\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? \"...\" : \"\")).replace(/\\n/g, \"\");\n      }, \"upcomingInput\"),\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n      }, \"showPosition\"),\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      }, \"test_match\"),\n      // return next match in input\n      next: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = \"\";\n          this.match = \"\";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === \"\") {\n          return this.EOF;\n        } else {\n          return this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". Unrecognized text.\\n\" + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      }, \"next\"),\n      // return next match that has a token\n      lex: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      }, \"lex\"),\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function begin(condition) {\n        this.conditionStack.push(condition);\n      }, \"begin\"),\n      // pop the previously active lexer condition state off the condition stack\n      popState: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      }, \"popState\"),\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions[\"INITIAL\"].rules;\n        }\n      }, \"_currentRules\"),\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return \"INITIAL\";\n        }\n      }, \"topState\"),\n      // alias for begin(condition)\n      pushState: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function pushState(condition) {\n        this.begin(condition);\n      }, \"pushState\"),\n      // return the number of states currently on the stack\n      stateStackSize: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function stateStackSize() {\n        return this.conditionStack.length;\n      }, \"stateStackSize\"),\n      options: { \"case-insensitive\": true },\n      performAction: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        var YYSTATE = YY_START;\n        switch ($avoiding_name_collisions) {\n          case 0:\n            return 41;\n            break;\n          case 1:\n            return 48;\n            break;\n          case 2:\n            return 49;\n            break;\n          case 3:\n            return 50;\n            break;\n          case 4:\n            return 51;\n            break;\n          case 5:\n            break;\n          case 6:\n            {\n            }\n            break;\n          case 7:\n            return 5;\n            break;\n          case 8:\n            break;\n          case 9:\n            break;\n          case 10:\n            break;\n          case 11:\n            break;\n          case 12:\n            this.pushState(\"SCALE\");\n            return 17;\n            break;\n          case 13:\n            return 18;\n            break;\n          case 14:\n            this.popState();\n            break;\n          case 15:\n            this.begin(\"acc_title\");\n            return 33;\n            break;\n          case 16:\n            this.popState();\n            return \"acc_title_value\";\n            break;\n          case 17:\n            this.begin(\"acc_descr\");\n            return 35;\n            break;\n          case 18:\n            this.popState();\n            return \"acc_descr_value\";\n            break;\n          case 19:\n            this.begin(\"acc_descr_multiline\");\n            break;\n          case 20:\n            this.popState();\n            break;\n          case 21:\n            return \"acc_descr_multiline_value\";\n            break;\n          case 22:\n            this.pushState(\"CLASSDEF\");\n            return 38;\n            break;\n          case 23:\n            this.popState();\n            this.pushState(\"CLASSDEFID\");\n            return \"DEFAULT_CLASSDEF_ID\";\n            break;\n          case 24:\n            this.popState();\n            this.pushState(\"CLASSDEFID\");\n            return 39;\n            break;\n          case 25:\n            this.popState();\n            return 40;\n            break;\n          case 26:\n            this.pushState(\"CLASS\");\n            return 45;\n            break;\n          case 27:\n            this.popState();\n            this.pushState(\"CLASS_STYLE\");\n            return 46;\n            break;\n          case 28:\n            this.popState();\n            return 47;\n            break;\n          case 29:\n            this.pushState(\"STYLE\");\n            return 42;\n            break;\n          case 30:\n            this.popState();\n            this.pushState(\"STYLEDEF_STYLES\");\n            return 43;\n            break;\n          case 31:\n            this.popState();\n            return 44;\n            break;\n          case 32:\n            this.pushState(\"SCALE\");\n            return 17;\n            break;\n          case 33:\n            return 18;\n            break;\n          case 34:\n            this.popState();\n            break;\n          case 35:\n            this.pushState(\"STATE\");\n            break;\n          case 36:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 25;\n            break;\n          case 37:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 26;\n            break;\n          case 38:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -10).trim();\n            return 27;\n            break;\n          case 39:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 25;\n            break;\n          case 40:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 26;\n            break;\n          case 41:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -10).trim();\n            return 27;\n            break;\n          case 42:\n            return 48;\n            break;\n          case 43:\n            return 49;\n            break;\n          case 44:\n            return 50;\n            break;\n          case 45:\n            return 51;\n            break;\n          case 46:\n            this.pushState(\"STATE_STRING\");\n            break;\n          case 47:\n            this.pushState(\"STATE_ID\");\n            return \"AS\";\n            break;\n          case 48:\n            this.popState();\n            return \"ID\";\n            break;\n          case 49:\n            this.popState();\n            break;\n          case 50:\n            return \"STATE_DESCR\";\n            break;\n          case 51:\n            return 19;\n            break;\n          case 52:\n            this.popState();\n            break;\n          case 53:\n            this.popState();\n            this.pushState(\"struct\");\n            return 20;\n            break;\n          case 54:\n            break;\n          case 55:\n            this.popState();\n            return 21;\n            break;\n          case 56:\n            break;\n          case 57:\n            this.begin(\"NOTE\");\n            return 29;\n            break;\n          case 58:\n            this.popState();\n            this.pushState(\"NOTE_ID\");\n            return 56;\n            break;\n          case 59:\n            this.popState();\n            this.pushState(\"NOTE_ID\");\n            return 57;\n            break;\n          case 60:\n            this.popState();\n            this.pushState(\"FLOATING_NOTE\");\n            break;\n          case 61:\n            this.popState();\n            this.pushState(\"FLOATING_NOTE_ID\");\n            return \"AS\";\n            break;\n          case 62:\n            break;\n          case 63:\n            return \"NOTE_TEXT\";\n            break;\n          case 64:\n            this.popState();\n            return \"ID\";\n            break;\n          case 65:\n            this.popState();\n            this.pushState(\"NOTE_TEXT\");\n            return 24;\n            break;\n          case 66:\n            this.popState();\n            yy_.yytext = yy_.yytext.substr(2).trim();\n            return 31;\n            break;\n          case 67:\n            this.popState();\n            yy_.yytext = yy_.yytext.slice(0, -8).trim();\n            return 31;\n            break;\n          case 68:\n            return 6;\n            break;\n          case 69:\n            return 6;\n            break;\n          case 70:\n            return 16;\n            break;\n          case 71:\n            return 54;\n            break;\n          case 72:\n            return 24;\n            break;\n          case 73:\n            yy_.yytext = yy_.yytext.trim();\n            return 14;\n            break;\n          case 74:\n            return 15;\n            break;\n          case 75:\n            return 28;\n            break;\n          case 76:\n            return 55;\n            break;\n          case 77:\n            return 5;\n            break;\n          case 78:\n            return \"INVALID\";\n            break;\n        }\n      }, \"anonymous\"),\n      rules: [/^(?:default\\b)/i, /^(?:.*direction\\s+TB[^\\n]*)/i, /^(?:.*direction\\s+BT[^\\n]*)/i, /^(?:.*direction\\s+RL[^\\n]*)/i, /^(?:.*direction\\s+LR[^\\n]*)/i, /^(?:%%(?!\\{)[^\\n]*)/i, /^(?:[^\\}]%%[^\\n]*)/i, /^(?:[\\n]+)/i, /^(?:[\\s]+)/i, /^(?:((?!\\n)\\s)+)/i, /^(?:#[^\\n]*)/i, /^(?:%[^\\n]*)/i, /^(?:scale\\s+)/i, /^(?:\\d+)/i, /^(?:\\s+width\\b)/i, /^(?:accTitle\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*:\\s*)/i, /^(?:(?!\\n||)*[^\\n]*)/i, /^(?:accDescr\\s*\\{\\s*)/i, /^(?:[\\}])/i, /^(?:[^\\}]*)/i, /^(?:classDef\\s+)/i, /^(?:DEFAULT\\s+)/i, /^(?:\\w+\\s+)/i, /^(?:[^\\n]*)/i, /^(?:class\\s+)/i, /^(?:(\\w+)+((,\\s*\\w+)*))/i, /^(?:[^\\n]*)/i, /^(?:style\\s+)/i, /^(?:[\\w,]+\\s+)/i, /^(?:[^\\n]*)/i, /^(?:scale\\s+)/i, /^(?:\\d+)/i, /^(?:\\s+width\\b)/i, /^(?:state\\s+)/i, /^(?:.*<<fork>>)/i, /^(?:.*<<join>>)/i, /^(?:.*<<choice>>)/i, /^(?:.*\\[\\[fork\\]\\])/i, /^(?:.*\\[\\[join\\]\\])/i, /^(?:.*\\[\\[choice\\]\\])/i, /^(?:.*direction\\s+TB[^\\n]*)/i, /^(?:.*direction\\s+BT[^\\n]*)/i, /^(?:.*direction\\s+RL[^\\n]*)/i, /^(?:.*direction\\s+LR[^\\n]*)/i, /^(?:[\"])/i, /^(?:\\s*as\\s+)/i, /^(?:[^\\n\\{]*)/i, /^(?:[\"])/i, /^(?:[^\"]*)/i, /^(?:[^\\n\\s\\{]+)/i, /^(?:\\n)/i, /^(?:\\{)/i, /^(?:%%(?!\\{)[^\\n]*)/i, /^(?:\\})/i, /^(?:[\\n])/i, /^(?:note\\s+)/i, /^(?:left of\\b)/i, /^(?:right of\\b)/i, /^(?:\")/i, /^(?:\\s*as\\s*)/i, /^(?:[\"])/i, /^(?:[^\"]*)/i, /^(?:[^\\n]*)/i, /^(?:\\s*[^:\\n\\s\\-]+)/i, /^(?:\\s*:[^:\\n;]+)/i, /^(?:[\\s\\S]*?end note\\b)/i, /^(?:stateDiagram\\s+)/i, /^(?:stateDiagram-v2\\s+)/i, /^(?:hide empty description\\b)/i, /^(?:\\[\\*\\])/i, /^(?:[^:\\n\\s\\-\\{]+)/i, /^(?:\\s*:[^:\\n;]+)/i, /^(?:-->)/i, /^(?:--)/i, /^(?::::)/i, /^(?:$)/i, /^(?:.)/i],\n      conditions: { \"LINE\": { \"rules\": [9, 10], \"inclusive\": false }, \"struct\": { \"rules\": [9, 10, 22, 26, 29, 35, 42, 43, 44, 45, 54, 55, 56, 57, 71, 72, 73, 74, 75], \"inclusive\": false }, \"FLOATING_NOTE_ID\": { \"rules\": [64], \"inclusive\": false }, \"FLOATING_NOTE\": { \"rules\": [61, 62, 63], \"inclusive\": false }, \"NOTE_TEXT\": { \"rules\": [66, 67], \"inclusive\": false }, \"NOTE_ID\": { \"rules\": [65], \"inclusive\": false }, \"NOTE\": { \"rules\": [58, 59, 60], \"inclusive\": false }, \"STYLEDEF_STYLEOPTS\": { \"rules\": [], \"inclusive\": false }, \"STYLEDEF_STYLES\": { \"rules\": [31], \"inclusive\": false }, \"STYLE_IDS\": { \"rules\": [], \"inclusive\": false }, \"STYLE\": { \"rules\": [30], \"inclusive\": false }, \"CLASS_STYLE\": { \"rules\": [28], \"inclusive\": false }, \"CLASS\": { \"rules\": [27], \"inclusive\": false }, \"CLASSDEFID\": { \"rules\": [25], \"inclusive\": false }, \"CLASSDEF\": { \"rules\": [23, 24], \"inclusive\": false }, \"acc_descr_multiline\": { \"rules\": [20, 21], \"inclusive\": false }, \"acc_descr\": { \"rules\": [18], \"inclusive\": false }, \"acc_title\": { \"rules\": [16], \"inclusive\": false }, \"SCALE\": { \"rules\": [13, 14, 33, 34], \"inclusive\": false }, \"ALIAS\": { \"rules\": [], \"inclusive\": false }, \"STATE_ID\": { \"rules\": [48], \"inclusive\": false }, \"STATE_STRING\": { \"rules\": [49, 50], \"inclusive\": false }, \"FORK_STATE\": { \"rules\": [], \"inclusive\": false }, \"STATE\": { \"rules\": [9, 10, 36, 37, 38, 39, 40, 41, 46, 47, 51, 52, 53], \"inclusive\": false }, \"ID\": { \"rules\": [9, 10], \"inclusive\": false }, \"INITIAL\": { \"rules\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 15, 17, 19, 22, 26, 29, 32, 35, 53, 57, 68, 69, 70, 71, 72, 73, 74, 76, 77, 78], \"inclusive\": true } }\n    };\n    return lexer2;\n  }();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(Parser, \"Parser\");\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n}();\nparser.parser = parser;\nvar stateDiagram_default = parser;\n\n// src/diagrams/state/stateCommon.ts\nvar DEFAULT_DIAGRAM_DIRECTION = \"LR\";\nvar DEFAULT_NESTED_DOC_DIR = \"TB\";\nvar STMT_STATE = \"state\";\nvar STMT_RELATION = \"relation\";\nvar STMT_CLASSDEF = \"classDef\";\nvar STMT_STYLEDEF = \"style\";\nvar STMT_APPLYCLASS = \"applyClass\";\nvar DEFAULT_STATE_TYPE = \"default\";\nvar DIVIDER_TYPE = \"divider\";\nvar G_EDGE_STYLE = \"fill:none\";\nvar G_EDGE_ARROWHEADSTYLE = \"fill: #333\";\nvar G_EDGE_LABELPOS = \"c\";\nvar G_EDGE_LABELTYPE = \"text\";\nvar G_EDGE_THICKNESS = \"normal\";\nvar SHAPE_STATE = \"rect\";\nvar SHAPE_STATE_WITH_DESC = \"rectWithTitle\";\nvar SHAPE_START = \"stateStart\";\nvar SHAPE_END = \"stateEnd\";\nvar SHAPE_DIVIDER = \"divider\";\nvar SHAPE_GROUP = \"roundedWithTitle\";\nvar SHAPE_NOTE = \"note\";\nvar SHAPE_NOTEGROUP = \"noteGroup\";\nvar CSS_DIAGRAM = \"statediagram\";\nvar CSS_STATE = \"state\";\nvar CSS_DIAGRAM_STATE = `${CSS_DIAGRAM}-${CSS_STATE}`;\nvar CSS_EDGE = \"transition\";\nvar CSS_NOTE = \"note\";\nvar CSS_NOTE_EDGE = \"note-edge\";\nvar CSS_EDGE_NOTE_EDGE = `${CSS_EDGE} ${CSS_NOTE_EDGE}`;\nvar CSS_DIAGRAM_NOTE = `${CSS_DIAGRAM}-${CSS_NOTE}`;\nvar CSS_CLUSTER = \"cluster\";\nvar CSS_DIAGRAM_CLUSTER = `${CSS_DIAGRAM}-${CSS_CLUSTER}`;\nvar CSS_CLUSTER_ALT = \"cluster-alt\";\nvar CSS_DIAGRAM_CLUSTER_ALT = `${CSS_DIAGRAM}-${CSS_CLUSTER_ALT}`;\nvar PARENT = \"parent\";\nvar NOTE = \"note\";\nvar DOMID_STATE = \"state\";\nvar DOMID_TYPE_SPACER = \"----\";\nvar NOTE_ID = `${DOMID_TYPE_SPACER}${NOTE}`;\nvar PARENT_ID = `${DOMID_TYPE_SPACER}${PARENT}`;\n\n// src/diagrams/state/stateRenderer-v3-unified.ts\nvar getDir = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((parsedItem, defaultDir = DEFAULT_NESTED_DOC_DIR) => {\n  if (!parsedItem.doc) {\n    return defaultDir;\n  }\n  let dir = defaultDir;\n  for (const parsedItemDoc of parsedItem.doc) {\n    if (parsedItemDoc.stmt === \"dir\") {\n      dir = parsedItemDoc.value;\n    }\n  }\n  return dir;\n}, \"getDir\");\nvar getClasses = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(text, diagramObj) {\n  diagramObj.db.extract(diagramObj.db.getRootDocV2());\n  return diagramObj.db.getClasses();\n}, \"getClasses\");\nvar draw = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(async function(text, id, _version, diag) {\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"REF0:\");\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Drawing state diagram (v2)\", id);\n  const { securityLevel, state: conf, layout } = (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)();\n  diag.db.extract(diag.db.getRootDocV2());\n  const data4Layout = diag.db.getData();\n  const svg = (0,_chunk_DUMQOTYW_mjs__WEBPACK_IMPORTED_MODULE_0__.getDiagramElement)(id, securityLevel);\n  data4Layout.type = diag.type;\n  data4Layout.layoutAlgorithm = layout;\n  data4Layout.nodeSpacing = conf?.nodeSpacing || 50;\n  data4Layout.rankSpacing = conf?.rankSpacing || 50;\n  data4Layout.markers = [\"barb\"];\n  data4Layout.diagramId = id;\n  await (0,_chunk_YCAQCADR_mjs__WEBPACK_IMPORTED_MODULE_1__.render)(data4Layout, svg);\n  const padding = 8;\n  _chunk_2EDTWDYI_mjs__WEBPACK_IMPORTED_MODULE_2__.utils_default.insertTitle(\n    svg,\n    \"statediagramTitleText\",\n    conf?.titleTopMargin ?? 25,\n    diag.db.getDiagramTitle()\n  );\n  (0,_chunk_DUMQOTYW_mjs__WEBPACK_IMPORTED_MODULE_0__.setupViewPortForSVG)(svg, padding, CSS_DIAGRAM, conf?.useMaxWidth ?? true);\n}, \"draw\");\nvar stateRenderer_v3_unified_default = {\n  getClasses,\n  draw,\n  getDir\n};\n\n// src/diagrams/state/dataFetcher.js\nvar nodeDb = /* @__PURE__ */ new Map();\nvar graphItemCount = 0;\nfunction stateDomId(itemId = \"\", counter = 0, type = \"\", typeSpacer = DOMID_TYPE_SPACER) {\n  const typeStr = type !== null && type.length > 0 ? `${typeSpacer}${type}` : \"\";\n  return `${DOMID_STATE}-${itemId}${typeStr}-${counter}`;\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(stateDomId, \"stateDomId\");\nvar setupDoc = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((parentParsedItem, doc, diagramStates, nodes2, edges2, altFlag, look, classes2) => {\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.trace(\"items\", doc);\n  doc.forEach((item) => {\n    switch (item.stmt) {\n      case STMT_STATE:\n        dataFetcher(parentParsedItem, item, diagramStates, nodes2, edges2, altFlag, look, classes2);\n        break;\n      case DEFAULT_STATE_TYPE:\n        dataFetcher(parentParsedItem, item, diagramStates, nodes2, edges2, altFlag, look, classes2);\n        break;\n      case STMT_RELATION:\n        {\n          dataFetcher(\n            parentParsedItem,\n            item.state1,\n            diagramStates,\n            nodes2,\n            edges2,\n            altFlag,\n            look,\n            classes2\n          );\n          dataFetcher(\n            parentParsedItem,\n            item.state2,\n            diagramStates,\n            nodes2,\n            edges2,\n            altFlag,\n            look,\n            classes2\n          );\n          const edgeData = {\n            id: \"edge\" + graphItemCount,\n            start: item.state1.id,\n            end: item.state2.id,\n            arrowhead: \"normal\",\n            arrowTypeEnd: \"arrow_barb\",\n            style: G_EDGE_STYLE,\n            labelStyle: \"\",\n            label: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(item.description, (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)()),\n            arrowheadStyle: G_EDGE_ARROWHEADSTYLE,\n            labelpos: G_EDGE_LABELPOS,\n            labelType: G_EDGE_LABELTYPE,\n            thickness: G_EDGE_THICKNESS,\n            classes: CSS_EDGE,\n            look\n          };\n          edges2.push(edgeData);\n          graphItemCount++;\n        }\n        break;\n    }\n  });\n}, \"setupDoc\");\nvar getDir2 = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((parsedItem, defaultDir = DEFAULT_NESTED_DOC_DIR) => {\n  let dir = defaultDir;\n  if (parsedItem.doc) {\n    for (const parsedItemDoc of parsedItem.doc) {\n      if (parsedItemDoc.stmt === \"dir\") {\n        dir = parsedItemDoc.value;\n      }\n    }\n  }\n  return dir;\n}, \"getDir\");\nfunction insertOrUpdateNode(nodes2, nodeData, classes2) {\n  if (!nodeData.id || nodeData.id === \"</join></fork>\" || nodeData.id === \"</choice>\") {\n    return;\n  }\n  if (nodeData.cssClasses) {\n    if (!Array.isArray(nodeData.cssCompiledStyles)) {\n      nodeData.cssCompiledStyles = [];\n    }\n    nodeData.cssClasses.split(\" \").forEach((cssClass) => {\n      if (classes2.get(cssClass)) {\n        const classDef = classes2.get(cssClass);\n        nodeData.cssCompiledStyles = [...nodeData.cssCompiledStyles, ...classDef.styles];\n      }\n    });\n  }\n  const existingNodeData = nodes2.find((node) => node.id === nodeData.id);\n  if (existingNodeData) {\n    Object.assign(existingNodeData, nodeData);\n  } else {\n    nodes2.push(nodeData);\n  }\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(insertOrUpdateNode, \"insertOrUpdateNode\");\nfunction getClassesFromDbInfo(dbInfoItem) {\n  return dbInfoItem?.classes?.join(\" \") ?? \"\";\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(getClassesFromDbInfo, \"getClassesFromDbInfo\");\nfunction getStylesFromDbInfo(dbInfoItem) {\n  return dbInfoItem?.styles ?? [];\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(getStylesFromDbInfo, \"getStylesFromDbInfo\");\nvar dataFetcher = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((parent, parsedItem, diagramStates, nodes2, edges2, altFlag, look, classes2) => {\n  const itemId = parsedItem.id;\n  const dbState = diagramStates.get(itemId);\n  const classStr = getClassesFromDbInfo(dbState);\n  const style = getStylesFromDbInfo(dbState);\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"dataFetcher parsedItem\", parsedItem, dbState, style);\n  if (itemId !== \"root\") {\n    let shape = SHAPE_STATE;\n    if (parsedItem.start === true) {\n      shape = SHAPE_START;\n    } else if (parsedItem.start === false) {\n      shape = SHAPE_END;\n    }\n    if (parsedItem.type !== DEFAULT_STATE_TYPE) {\n      shape = parsedItem.type;\n    }\n    if (!nodeDb.get(itemId)) {\n      nodeDb.set(itemId, {\n        id: itemId,\n        shape,\n        description: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(itemId, (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)()),\n        cssClasses: `${classStr} ${CSS_DIAGRAM_STATE}`,\n        cssStyles: style\n      });\n    }\n    const newNode = nodeDb.get(itemId);\n    if (parsedItem.description) {\n      if (Array.isArray(newNode.description)) {\n        newNode.shape = SHAPE_STATE_WITH_DESC;\n        newNode.description.push(parsedItem.description);\n      } else {\n        if (newNode.description?.length > 0) {\n          newNode.shape = SHAPE_STATE_WITH_DESC;\n          if (newNode.description === itemId) {\n            newNode.description = [parsedItem.description];\n          } else {\n            newNode.description = [newNode.description, parsedItem.description];\n          }\n        } else {\n          newNode.shape = SHAPE_STATE;\n          newNode.description = parsedItem.description;\n        }\n      }\n      newNode.description = _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeTextOrArray(newNode.description, (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)());\n    }\n    if (newNode.description?.length === 1 && newNode.shape === SHAPE_STATE_WITH_DESC) {\n      if (newNode.type === \"group\") {\n        newNode.shape = SHAPE_GROUP;\n      } else {\n        newNode.shape = SHAPE_STATE;\n      }\n    }\n    if (!newNode.type && parsedItem.doc) {\n      _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Setting cluster for XCX\", itemId, getDir2(parsedItem));\n      newNode.type = \"group\";\n      newNode.isGroup = true;\n      newNode.dir = getDir2(parsedItem);\n      newNode.shape = parsedItem.type === DIVIDER_TYPE ? SHAPE_DIVIDER : SHAPE_GROUP;\n      newNode.cssClasses = `${newNode.cssClasses} ${CSS_DIAGRAM_CLUSTER} ${altFlag ? CSS_DIAGRAM_CLUSTER_ALT : \"\"}`;\n    }\n    const nodeData = {\n      labelStyle: \"\",\n      shape: newNode.shape,\n      label: newNode.description,\n      cssClasses: newNode.cssClasses,\n      cssCompiledStyles: [],\n      cssStyles: newNode.cssStyles,\n      id: itemId,\n      dir: newNode.dir,\n      domId: stateDomId(itemId, graphItemCount),\n      type: newNode.type,\n      isGroup: newNode.type === \"group\",\n      padding: 8,\n      rx: 10,\n      ry: 10,\n      look\n    };\n    if (nodeData.shape === SHAPE_DIVIDER) {\n      nodeData.label = \"\";\n    }\n    if (parent && parent.id !== \"root\") {\n      _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.trace(\"Setting node \", itemId, \" to be child of its parent \", parent.id);\n      nodeData.parentId = parent.id;\n    }\n    nodeData.centerLabel = true;\n    if (parsedItem.note) {\n      const noteData = {\n        labelStyle: \"\",\n        shape: SHAPE_NOTE,\n        label: parsedItem.note.text,\n        cssClasses: CSS_DIAGRAM_NOTE,\n        // useHtmlLabels: false,\n        cssStyles: [],\n        cssCompilesStyles: [],\n        id: itemId + NOTE_ID + \"-\" + graphItemCount,\n        domId: stateDomId(itemId, graphItemCount, NOTE),\n        type: newNode.type,\n        isGroup: newNode.type === \"group\",\n        padding: (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)().flowchart.padding,\n        look,\n        position: parsedItem.note.position\n      };\n      const parentNodeId = itemId + PARENT_ID;\n      const groupData = {\n        labelStyle: \"\",\n        shape: SHAPE_NOTEGROUP,\n        label: parsedItem.note.text,\n        cssClasses: newNode.cssClasses,\n        cssStyles: [],\n        id: itemId + PARENT_ID,\n        domId: stateDomId(itemId, graphItemCount, PARENT),\n        type: \"group\",\n        isGroup: true,\n        padding: 16,\n        //getConfig().flowchart.padding\n        look,\n        position: parsedItem.note.position\n      };\n      graphItemCount++;\n      groupData.id = parentNodeId;\n      noteData.parentId = parentNodeId;\n      insertOrUpdateNode(nodes2, groupData, classes2);\n      insertOrUpdateNode(nodes2, noteData, classes2);\n      insertOrUpdateNode(nodes2, nodeData, classes2);\n      let from = itemId;\n      let to = noteData.id;\n      if (parsedItem.note.position === \"left of\") {\n        from = noteData.id;\n        to = itemId;\n      }\n      edges2.push({\n        id: from + \"-\" + to,\n        start: from,\n        end: to,\n        arrowhead: \"none\",\n        arrowTypeEnd: \"\",\n        style: G_EDGE_STYLE,\n        labelStyle: \"\",\n        classes: CSS_EDGE_NOTE_EDGE,\n        arrowheadStyle: G_EDGE_ARROWHEADSTYLE,\n        labelpos: G_EDGE_LABELPOS,\n        labelType: G_EDGE_LABELTYPE,\n        thickness: G_EDGE_THICKNESS,\n        look\n      });\n    } else {\n      insertOrUpdateNode(nodes2, nodeData, classes2);\n    }\n  }\n  if (parsedItem.doc) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.trace(\"Adding nodes children \");\n    setupDoc(parsedItem, parsedItem.doc, diagramStates, nodes2, edges2, !altFlag, look, classes2);\n  }\n}, \"dataFetcher\");\nvar reset = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => {\n  nodeDb.clear();\n  graphItemCount = 0;\n}, \"reset\");\n\n// src/diagrams/state/stateDb.js\nvar START_NODE = \"[*]\";\nvar START_TYPE = \"start\";\nvar END_NODE = START_NODE;\nvar END_TYPE = \"end\";\nvar COLOR_KEYWORD = \"color\";\nvar FILL_KEYWORD = \"fill\";\nvar BG_FILL = \"bgFill\";\nvar STYLECLASS_SEP = \",\";\nfunction newClassesList() {\n  return /* @__PURE__ */ new Map();\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(newClassesList, \"newClassesList\");\nvar nodes = [];\nvar edges = [];\nvar direction = DEFAULT_DIAGRAM_DIRECTION;\nvar rootDoc = [];\nvar classes = newClassesList();\nvar newDoc = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => {\n  return {\n    /** @type {{ id1: string, id2: string, relationTitle: string }[]} */\n    relations: [],\n    states: /* @__PURE__ */ new Map(),\n    documents: {}\n  };\n}, \"newDoc\");\nvar documents = {\n  root: newDoc()\n};\nvar currentDocument = documents.root;\nvar startEndCount = 0;\nvar dividerCnt = 0;\nvar lineType = {\n  LINE: 0,\n  DOTTED_LINE: 1\n};\nvar relationType = {\n  AGGREGATION: 0,\n  EXTENSION: 1,\n  COMPOSITION: 2,\n  DEPENDENCY: 3\n};\nvar clone = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((o) => JSON.parse(JSON.stringify(o)), \"clone\");\nvar setRootDoc = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((o) => {\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Setting root doc\", o);\n  rootDoc = o;\n}, \"setRootDoc\");\nvar getRootDoc = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => rootDoc, \"getRootDoc\");\nvar docTranslator = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((parent, node, first) => {\n  if (node.stmt === STMT_RELATION) {\n    docTranslator(parent, node.state1, true);\n    docTranslator(parent, node.state2, false);\n  } else {\n    if (node.stmt === STMT_STATE) {\n      if (node.id === \"[*]\") {\n        node.id = first ? parent.id + \"_start\" : parent.id + \"_end\";\n        node.start = first;\n      } else {\n        node.id = node.id.trim();\n      }\n    }\n    if (node.doc) {\n      const doc = [];\n      let currentDoc = [];\n      let i;\n      for (i = 0; i < node.doc.length; i++) {\n        if (node.doc[i].type === DIVIDER_TYPE) {\n          const newNode = clone(node.doc[i]);\n          newNode.doc = clone(currentDoc);\n          doc.push(newNode);\n          currentDoc = [];\n        } else {\n          currentDoc.push(node.doc[i]);\n        }\n      }\n      if (doc.length > 0 && currentDoc.length > 0) {\n        const newNode = {\n          stmt: STMT_STATE,\n          id: (0,_chunk_2EDTWDYI_mjs__WEBPACK_IMPORTED_MODULE_2__.generateId)(),\n          type: \"divider\",\n          doc: clone(currentDoc)\n        };\n        doc.push(clone(newNode));\n        node.doc = doc;\n      }\n      node.doc.forEach((docNode) => docTranslator(node, docNode, true));\n    }\n  }\n}, \"docTranslator\");\nvar getRootDocV2 = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => {\n  docTranslator({ id: \"root\" }, { id: \"root\", doc: rootDoc }, true);\n  return { id: \"root\", doc: rootDoc };\n}, \"getRootDocV2\");\nvar extract = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((_doc) => {\n  let doc;\n  if (_doc.doc) {\n    doc = _doc.doc;\n  } else {\n    doc = _doc;\n  }\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(doc);\n  clear2(true);\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Extract initial document:\", doc);\n  doc.forEach((item) => {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.warn(\"Statement\", item.stmt);\n    switch (item.stmt) {\n      case STMT_STATE:\n        addState(\n          item.id.trim(),\n          item.type,\n          item.doc,\n          item.description,\n          item.note,\n          item.classes,\n          item.styles,\n          item.textStyles\n        );\n        break;\n      case STMT_RELATION:\n        addRelation(item.state1, item.state2, item.description);\n        break;\n      case STMT_CLASSDEF:\n        addStyleClass(item.id.trim(), item.classes);\n        break;\n      case STMT_STYLEDEF:\n        {\n          const ids = item.id.trim().split(\",\");\n          const styles = item.styleClass.split(\",\");\n          ids.forEach((id) => {\n            let foundState = getState(id);\n            if (foundState === void 0) {\n              const trimmedId = id.trim();\n              addState(trimmedId);\n              foundState = getState(trimmedId);\n            }\n            foundState.styles = styles.map((s) => s.replace(/;/g, \"\")?.trim());\n          });\n        }\n        break;\n      case STMT_APPLYCLASS:\n        setCssClass(item.id.trim(), item.styleClass);\n        break;\n    }\n  });\n  const diagramStates = getStates();\n  const config = (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)();\n  const look = config.look;\n  reset();\n  dataFetcher(void 0, getRootDocV2(), diagramStates, nodes, edges, true, look, classes);\n  nodes.forEach((node) => {\n    if (Array.isArray(node.label)) {\n      node.description = node.label.slice(1);\n      if (node.isGroup && node.description.length > 0) {\n        throw new Error(\n          \"Group nodes can only have label. Remove the additional description for node [\" + node.id + \"]\"\n        );\n      }\n      node.label = node.label[0];\n    }\n  });\n}, \"extract\");\nvar addState = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(id, type = DEFAULT_STATE_TYPE, doc = null, descr = null, note = null, classes2 = null, styles = null, textStyles = null) {\n  const trimmedId = id?.trim();\n  if (!currentDocument.states.has(trimmedId)) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Adding state \", trimmedId, descr);\n    currentDocument.states.set(trimmedId, {\n      id: trimmedId,\n      descriptions: [],\n      type,\n      doc,\n      note,\n      classes: [],\n      styles: [],\n      textStyles: []\n    });\n  } else {\n    if (!currentDocument.states.get(trimmedId).doc) {\n      currentDocument.states.get(trimmedId).doc = doc;\n    }\n    if (!currentDocument.states.get(trimmedId).type) {\n      currentDocument.states.get(trimmedId).type = type;\n    }\n  }\n  if (descr) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Setting state description\", trimmedId, descr);\n    if (typeof descr === \"string\") {\n      addDescription(trimmedId, descr.trim());\n    }\n    if (typeof descr === \"object\") {\n      descr.forEach((des) => addDescription(trimmedId, des.trim()));\n    }\n  }\n  if (note) {\n    const doc2 = currentDocument.states.get(trimmedId);\n    doc2.note = note;\n    doc2.note.text = _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(doc2.note.text, (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)());\n  }\n  if (classes2) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Setting state classes\", trimmedId, classes2);\n    const classesList = typeof classes2 === \"string\" ? [classes2] : classes2;\n    classesList.forEach((cssClass) => setCssClass(trimmedId, cssClass.trim()));\n  }\n  if (styles) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Setting state styles\", trimmedId, styles);\n    const stylesList = typeof styles === \"string\" ? [styles] : styles;\n    stylesList.forEach((style) => setStyle(trimmedId, style.trim()));\n  }\n  if (textStyles) {\n    _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Setting state styles\", trimmedId, styles);\n    const textStylesList = typeof textStyles === \"string\" ? [textStyles] : textStyles;\n    textStylesList.forEach((textStyle) => setTextStyle(trimmedId, textStyle.trim()));\n  }\n}, \"addState\");\nvar clear2 = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(saveCommon) {\n  nodes = [];\n  edges = [];\n  documents = {\n    root: newDoc()\n  };\n  currentDocument = documents.root;\n  startEndCount = 0;\n  classes = newClassesList();\n  if (!saveCommon) {\n    (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.clear)();\n  }\n}, \"clear\");\nvar getState = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(id) {\n  return currentDocument.states.get(id);\n}, \"getState\");\nvar getStates = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return currentDocument.states;\n}, \"getStates\");\nvar logDocuments = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.log.info(\"Documents = \", documents);\n}, \"logDocuments\");\nvar getRelations = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return currentDocument.relations;\n}, \"getRelations\");\nfunction startIdIfNeeded(id = \"\") {\n  let fixedId = id;\n  if (id === START_NODE) {\n    startEndCount++;\n    fixedId = `${START_TYPE}${startEndCount}`;\n  }\n  return fixedId;\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(startIdIfNeeded, \"startIdIfNeeded\");\nfunction startTypeIfNeeded(id = \"\", type = DEFAULT_STATE_TYPE) {\n  return id === START_NODE ? START_TYPE : type;\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(startTypeIfNeeded, \"startTypeIfNeeded\");\nfunction endIdIfNeeded(id = \"\") {\n  let fixedId = id;\n  if (id === END_NODE) {\n    startEndCount++;\n    fixedId = `${END_TYPE}${startEndCount}`;\n  }\n  return fixedId;\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(endIdIfNeeded, \"endIdIfNeeded\");\nfunction endTypeIfNeeded(id = \"\", type = DEFAULT_STATE_TYPE) {\n  return id === END_NODE ? END_TYPE : type;\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(endTypeIfNeeded, \"endTypeIfNeeded\");\nfunction addRelationObjs(item1, item2, relationTitle) {\n  let id1 = startIdIfNeeded(item1.id.trim());\n  let type1 = startTypeIfNeeded(item1.id.trim(), item1.type);\n  let id2 = startIdIfNeeded(item2.id.trim());\n  let type2 = startTypeIfNeeded(item2.id.trim(), item2.type);\n  addState(\n    id1,\n    type1,\n    item1.doc,\n    item1.description,\n    item1.note,\n    item1.classes,\n    item1.styles,\n    item1.textStyles\n  );\n  addState(\n    id2,\n    type2,\n    item2.doc,\n    item2.description,\n    item2.note,\n    item2.classes,\n    item2.styles,\n    item2.textStyles\n  );\n  currentDocument.relations.push({\n    id1,\n    id2,\n    relationTitle: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(relationTitle, (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)())\n  });\n}\n(0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(addRelationObjs, \"addRelationObjs\");\nvar addRelation = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(item1, item2, title) {\n  if (typeof item1 === \"object\") {\n    addRelationObjs(item1, item2, title);\n  } else {\n    const id1 = startIdIfNeeded(item1.trim());\n    const type1 = startTypeIfNeeded(item1);\n    const id2 = endIdIfNeeded(item2.trim());\n    const type2 = endTypeIfNeeded(item2);\n    addState(id1, type1);\n    addState(id2, type2);\n    currentDocument.relations.push({\n      id1,\n      id2,\n      title: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(title, (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)())\n    });\n  }\n}, \"addRelation\");\nvar addDescription = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(id, descr) {\n  const theState = currentDocument.states.get(id);\n  const _descr = descr.startsWith(\":\") ? descr.replace(\":\", \"\").trim() : descr;\n  theState.descriptions.push(_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.common_default.sanitizeText(_descr, (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)()));\n}, \"addDescription\");\nvar cleanupLabel = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(label) {\n  if (label.substring(0, 1) === \":\") {\n    return label.substr(2).trim();\n  } else {\n    return label.trim();\n  }\n}, \"cleanupLabel\");\nvar getDividerId = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => {\n  dividerCnt++;\n  return \"divider-id-\" + dividerCnt;\n}, \"getDividerId\");\nvar addStyleClass = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(id, styleAttributes = \"\") {\n  if (!classes.has(id)) {\n    classes.set(id, { id, styles: [], textStyles: [] });\n  }\n  const foundClass = classes.get(id);\n  if (styleAttributes !== void 0 && styleAttributes !== null) {\n    styleAttributes.split(STYLECLASS_SEP).forEach((attrib) => {\n      const fixedAttrib = attrib.replace(/([^;]*);/, \"$1\").trim();\n      if (RegExp(COLOR_KEYWORD).exec(attrib)) {\n        const newStyle1 = fixedAttrib.replace(FILL_KEYWORD, BG_FILL);\n        const newStyle2 = newStyle1.replace(COLOR_KEYWORD, FILL_KEYWORD);\n        foundClass.textStyles.push(newStyle2);\n      }\n      foundClass.styles.push(fixedAttrib);\n    });\n  }\n}, \"addStyleClass\");\nvar getClasses2 = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function() {\n  return classes;\n}, \"getClasses\");\nvar setCssClass = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(itemIds, cssClassName) {\n  itemIds.split(\",\").forEach(function(id) {\n    let foundState = getState(id);\n    if (foundState === void 0) {\n      const trimmedId = id.trim();\n      addState(trimmedId);\n      foundState = getState(trimmedId);\n    }\n    foundState.classes.push(cssClassName);\n  });\n}, \"setCssClass\");\nvar setStyle = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(itemId, styleText) {\n  const item = getState(itemId);\n  if (item !== void 0) {\n    item.styles.push(styleText);\n  }\n}, \"setStyle\");\nvar setTextStyle = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(function(itemId, cssClassName) {\n  const item = getState(itemId);\n  if (item !== void 0) {\n    item.textStyles.push(cssClassName);\n  }\n}, \"setTextStyle\");\nvar getDirection = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => direction, \"getDirection\");\nvar setDirection = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((dir) => {\n  direction = dir;\n}, \"setDirection\");\nvar trimColon = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((str) => str && str[0] === \":\" ? str.substr(1).trim() : str.trim(), \"trimColon\");\nvar getData = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => {\n  const config = (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)();\n  return { nodes, edges, other: {}, config, direction: getDir(getRootDocV2()) };\n}, \"getData\");\nvar stateDb_default = {\n  getConfig: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)(() => (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getConfig2)().state, \"getConfig\"),\n  getData,\n  addState,\n  clear: clear2,\n  getState,\n  getStates,\n  getRelations,\n  getClasses: getClasses2,\n  getDirection,\n  addRelation,\n  getDividerId,\n  setDirection,\n  cleanupLabel,\n  lineType,\n  relationType,\n  logDocuments,\n  getRootDoc,\n  setRootDoc,\n  getRootDocV2,\n  extract,\n  trimColon,\n  getAccTitle: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccTitle,\n  setAccTitle: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccTitle,\n  getAccDescription: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getAccDescription,\n  setAccDescription: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.setAccDescription,\n  addStyleClass,\n  setCssClass,\n  addDescription,\n  setDiagramTitle: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.setDiagramTitle,\n  getDiagramTitle: _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.getDiagramTitle\n};\n\n// src/diagrams/state/styles.js\nvar getStyles = /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_3__.__name)((options) => `\ndefs #statediagram-barbEnd {\n    fill: ${options.transitionColor};\n    stroke: ${options.transitionColor};\n  }\ng.stateGroup text {\n  fill: ${options.nodeBorder};\n  stroke: none;\n  font-size: 10px;\n}\ng.stateGroup text {\n  fill: ${options.textColor};\n  stroke: none;\n  font-size: 10px;\n\n}\ng.stateGroup .state-title {\n  font-weight: bolder;\n  fill: ${options.stateLabelColor};\n}\n\ng.stateGroup rect {\n  fill: ${options.mainBkg};\n  stroke: ${options.nodeBorder};\n}\n\ng.stateGroup line {\n  stroke: ${options.lineColor};\n  stroke-width: 1;\n}\n\n.transition {\n  stroke: ${options.transitionColor};\n  stroke-width: 1;\n  fill: none;\n}\n\n.stateGroup .composit {\n  fill: ${options.background};\n  border-bottom: 1px\n}\n\n.stateGroup .alt-composit {\n  fill: #e0e0e0;\n  border-bottom: 1px\n}\n\n.state-note {\n  stroke: ${options.noteBorderColor};\n  fill: ${options.noteBkgColor};\n\n  text {\n    fill: ${options.noteTextColor};\n    stroke: none;\n    font-size: 10px;\n  }\n}\n\n.stateLabel .box {\n  stroke: none;\n  stroke-width: 0;\n  fill: ${options.mainBkg};\n  opacity: 0.5;\n}\n\n.edgeLabel .label rect {\n  fill: ${options.labelBackgroundColor};\n  opacity: 0.5;\n}\n.edgeLabel {\n  background-color: ${options.edgeLabelBackground};\n  p {\n    background-color: ${options.edgeLabelBackground};\n  }\n  rect {\n    opacity: 0.5;\n    background-color: ${options.edgeLabelBackground};\n    fill: ${options.edgeLabelBackground};\n  }\n  text-align: center;\n}\n.edgeLabel .label text {\n  fill: ${options.transitionLabelColor || options.tertiaryTextColor};\n}\n.label div .edgeLabel {\n  color: ${options.transitionLabelColor || options.tertiaryTextColor};\n}\n\n.stateLabel text {\n  fill: ${options.stateLabelColor};\n  font-size: 10px;\n  font-weight: bold;\n}\n\n.node circle.state-start {\n  fill: ${options.specialStateColor};\n  stroke: ${options.specialStateColor};\n}\n\n.node .fork-join {\n  fill: ${options.specialStateColor};\n  stroke: ${options.specialStateColor};\n}\n\n.node circle.state-end {\n  fill: ${options.innerEndBackground};\n  stroke: ${options.background};\n  stroke-width: 1.5\n}\n.end-state-inner {\n  fill: ${options.compositeBackground || options.background};\n  // stroke: ${options.background};\n  stroke-width: 1.5\n}\n\n.node rect {\n  fill: ${options.stateBkg || options.mainBkg};\n  stroke: ${options.stateBorder || options.nodeBorder};\n  stroke-width: 1px;\n}\n.node polygon {\n  fill: ${options.mainBkg};\n  stroke: ${options.stateBorder || options.nodeBorder};;\n  stroke-width: 1px;\n}\n#statediagram-barbEnd {\n  fill: ${options.lineColor};\n}\n\n.statediagram-cluster rect {\n  fill: ${options.compositeTitleBackground};\n  stroke: ${options.stateBorder || options.nodeBorder};\n  stroke-width: 1px;\n}\n\n.cluster-label, .nodeLabel {\n  color: ${options.stateLabelColor};\n  // line-height: 1;\n}\n\n.statediagram-cluster rect.outer {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state .divider {\n  stroke: ${options.stateBorder || options.nodeBorder};\n}\n\n.statediagram-state .title-state {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-cluster.statediagram-cluster .inner {\n  fill: ${options.compositeBackground || options.background};\n}\n.statediagram-cluster.statediagram-cluster-alt .inner {\n  fill: ${options.altBackground ? options.altBackground : \"#efefef\"};\n}\n\n.statediagram-cluster .inner {\n  rx:0;\n  ry:0;\n}\n\n.statediagram-state rect.basic {\n  rx: 5px;\n  ry: 5px;\n}\n.statediagram-state rect.divider {\n  stroke-dasharray: 10,10;\n  fill: ${options.altBackground ? options.altBackground : \"#efefef\"};\n}\n\n.note-edge {\n  stroke-dasharray: 5;\n}\n\n.statediagram-note rect {\n  fill: ${options.noteBkgColor};\n  stroke: ${options.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n.statediagram-note rect {\n  fill: ${options.noteBkgColor};\n  stroke: ${options.noteBorderColor};\n  stroke-width: 1px;\n  rx: 0;\n  ry: 0;\n}\n\n.statediagram-note text {\n  fill: ${options.noteTextColor};\n}\n\n.statediagram-note .nodeLabel {\n  color: ${options.noteTextColor};\n}\n.statediagram .edgeLabel {\n  color: red; // ${options.noteTextColor};\n}\n\n#dependencyStart, #dependencyEnd {\n  fill: ${options.lineColor};\n  stroke: ${options.lineColor};\n  stroke-width: 1;\n}\n\n.statediagramTitleText {\n  text-anchor: middle;\n  font-size: 18px;\n  fill: ${options.textColor};\n}\n`, \"getStyles\");\nvar styles_default = getStyles;\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tZXJtYWlkL2Rpc3QvY2h1bmtzL21lcm1haWQuY29yZS9jaHVuay1SRk5ISUFaWC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFHOEI7QUFHQTtBQUlBO0FBYUE7O0FBRTlCO0FBQ0E7QUFDQSwwQkFBMEIsMkRBQU07QUFDaEMsc0JBQXNCLGdCQUFnQixLQUFLO0FBQzNDO0FBQ0EsR0FBRztBQUNIO0FBQ0EsMkJBQTJCLDJEQUFNO0FBQ2pDLEtBQUs7QUFDTCxVQUFVO0FBQ1YsZ0JBQWdCLHEyQkFBcTJCLHdHQUF3RztBQUM3OUIsa0JBQWtCLHdxQkFBd3FCLDJFQUEyRTtBQUNyd0I7QUFDQSxtQ0FBbUMsMkRBQU07QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCLDhDQUE4QztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FB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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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OztBQUVBO0FBQ0EsVUFBVTtBQUNWLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1YsZUFBZTtBQUNmO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1YsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0EsVUFBVTtBQUNWLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFVBQVU7QUFDVixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVixZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxVQUFVO0FBQ1Y7O0FBRUE7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLGNBQWMsS0FBSztBQUNuQjs7QUFFQTtBQUNBLFVBQVU7QUFDVixZQUFZO0FBQ1o7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQU9FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9tZXJtYWlkL2Rpc3QvY2h1bmtzL21lcm1haWQuY29yZS9jaHVuay1SRk5ISUFaWC5tanM/OGNjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBnZXREaWFncmFtRWxlbWVudCxcbiAgc2V0dXBWaWV3UG9ydEZvclNWR1xufSBmcm9tIFwiLi9jaHVuay1EVU1RT1RZVy5tanNcIjtcbmltcG9ydCB7XG4gIHJlbmRlclxufSBmcm9tIFwiLi9jaHVuay1ZQ0FRQ0FEUi5tanNcIjtcbmltcG9ydCB7XG4gIGdlbmVyYXRlSWQsXG4gIHV0aWxzX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmstMkVEVFdEWUkubWpzXCI7XG5pbXBvcnQge1xuICBfX25hbWUsXG4gIGNsZWFyLFxuICBjb21tb25fZGVmYXVsdCxcbiAgZ2V0QWNjRGVzY3JpcHRpb24sXG4gIGdldEFjY1RpdGxlLFxuICBnZXRDb25maWcyIGFzIGdldENvbmZpZyxcbiAgZ2V0RGlhZ3JhbVRpdGxlLFxuICBsb2csXG4gIHNldEFjY0Rlc2NyaXB0aW9uLFxuICBzZXRBY2NUaXRsZSxcbiAgc2V0RGlhZ3JhbVRpdGxlXG59IGZyb20gXCIuL2NodW5rLUlJS01RTElDLm1qc1wiO1xuXG4vLyBzcmMvZGlhZ3JhbXMvc3RhdGUvcGFyc2VyL3N0YXRlRGlhZ3JhbS5qaXNvblxudmFyIHBhcnNlciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgbyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oaywgdiwgbzIsIGwpIHtcbiAgICBmb3IgKG8yID0gbzIgfHwge30sIGwgPSBrLmxlbmd0aDsgbC0tOyBvMltrW2xdXSA9IHYpIDtcbiAgICByZXR1cm4gbzI7XG4gIH0sIFwib1wiKSwgJFYwID0gWzEsIDJdLCAkVjEgPSBbMSwgM10sICRWMiA9IFsxLCA0XSwgJFYzID0gWzIsIDRdLCAkVjQgPSBbMSwgOV0sICRWNSA9IFsxLCAxMV0sICRWNiA9IFsxLCAxNl0sICRWNyA9IFsxLCAxN10sICRWOCA9IFsxLCAxOF0sICRWOSA9IFsxLCAxOV0sICRWYSA9IFsxLCAzMl0sICRWYiA9IFsxLCAyMF0sICRWYyA9IFsxLCAyMV0sICRWZCA9IFsxLCAyMl0sICRWZSA9IFsxLCAyM10sICRWZiA9IFsxLCAyNF0sICRWZyA9IFsxLCAyNl0sICRWaCA9IFsxLCAyN10sICRWaSA9IFsxLCAyOF0sICRWaiA9IFsxLCAyOV0sICRWayA9IFsxLCAzMF0sICRWbCA9IFsxLCAzMV0sICRWbSA9IFsxLCAzNF0sICRWbiA9IFsxLCAzNV0sICRWbyA9IFsxLCAzNl0sICRWcCA9IFsxLCAzN10sICRWcSA9IFsxLCAzM10sICRWciA9IFsxLCA0LCA1LCAxNiwgMTcsIDE5LCAyMSwgMjIsIDI0LCAyNSwgMjYsIDI3LCAyOCwgMjksIDMzLCAzNSwgMzcsIDM4LCA0MiwgNDUsIDQ4LCA0OSwgNTAsIDUxLCA1NF0sICRWcyA9IFsxLCA0LCA1LCAxNCwgMTUsIDE2LCAxNywgMTksIDIxLCAyMiwgMjQsIDI1LCAyNiwgMjcsIDI4LCAyOSwgMzMsIDM1LCAzNywgMzgsIDQyLCA0NSwgNDgsIDQ5LCA1MCwgNTEsIDU0XSwgJFZ0ID0gWzQsIDUsIDE2LCAxNywgMTksIDIxLCAyMiwgMjQsIDI1LCAyNiwgMjcsIDI4LCAyOSwgMzMsIDM1LCAzNywgMzgsIDQyLCA0NSwgNDgsIDQ5LCA1MCwgNTEsIDU0XTtcbiAgdmFyIHBhcnNlcjIgPSB7XG4gICAgdHJhY2U6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24gdHJhY2UoKSB7XG4gICAgfSwgXCJ0cmFjZVwiKSxcbiAgICB5eToge30sXG4gICAgc3ltYm9sc186IHsgXCJlcnJvclwiOiAyLCBcInN0YXJ0XCI6IDMsIFwiU1BBQ0VcIjogNCwgXCJOTFwiOiA1LCBcIlNEXCI6IDYsIFwiZG9jdW1lbnRcIjogNywgXCJsaW5lXCI6IDgsIFwic3RhdGVtZW50XCI6IDksIFwiY2xhc3NEZWZTdGF0ZW1lbnRcIjogMTAsIFwic3R5bGVTdGF0ZW1lbnRcIjogMTEsIFwiY3NzQ2xhc3NTdGF0ZW1lbnRcIjogMTIsIFwiaWRTdGF0ZW1lbnRcIjogMTMsIFwiREVTQ1JcIjogMTQsIFwiLS0+XCI6IDE1LCBcIkhJREVfRU1QVFlcIjogMTYsIFwic2NhbGVcIjogMTcsIFwiV0lEVEhcIjogMTgsIFwiQ09NUE9TSVRfU1RBVEVcIjogMTksIFwiU1RSVUNUX1NUQVJUXCI6IDIwLCBcIlNUUlVDVF9TVE9QXCI6IDIxLCBcIlNUQVRFX0RFU0NSXCI6IDIyLCBcIkFTXCI6IDIzLCBcIklEXCI6IDI0LCBcIkZPUktcIjogMjUsIFwiSk9JTlwiOiAyNiwgXCJDSE9JQ0VcIjogMjcsIFwiQ09OQ1VSUkVOVFwiOiAyOCwgXCJub3RlXCI6IDI5LCBcIm5vdGVQb3NpdGlvblwiOiAzMCwgXCJOT1RFX1RFWFRcIjogMzEsIFwiZGlyZWN0aW9uXCI6IDMyLCBcImFjY190aXRsZVwiOiAzMywgXCJhY2NfdGl0bGVfdmFsdWVcIjogMzQsIFwiYWNjX2Rlc2NyXCI6IDM1LCBcImFjY19kZXNjcl92YWx1ZVwiOiAzNiwgXCJhY2NfZGVzY3JfbXVsdGlsaW5lX3ZhbHVlXCI6IDM3LCBcImNsYXNzRGVmXCI6IDM4LCBcIkNMQVNTREVGX0lEXCI6IDM5LCBcIkNMQVNTREVGX1NUWUxFT1BUU1wiOiA0MCwgXCJERUZBVUxUXCI6IDQxLCBcInN0eWxlXCI6IDQyLCBcIlNUWUxFX0lEU1wiOiA0MywgXCJTVFlMRURFRl9TVFlMRU9QVFNcIjogNDQsIFwiY2xhc3NcIjogNDUsIFwiQ0xBU1NFTlRJVFlfSURTXCI6IDQ2LCBcIlNUWUxFQ0xBU1NcIjogNDcsIFwiZGlyZWN0aW9uX3RiXCI6IDQ4LCBcImRpcmVjdGlvbl9idFwiOiA0OSwgXCJkaXJlY3Rpb25fcmxcIjogNTAsIFwiZGlyZWN0aW9uX2xyXCI6IDUxLCBcImVvbFwiOiA1MiwgXCI7XCI6IDUzLCBcIkVER0VfU1RBVEVcIjogNTQsIFwiU1RZTEVfU0VQQVJBVE9SXCI6IDU1LCBcImxlZnRfb2ZcIjogNTYsIFwicmlnaHRfb2ZcIjogNTcsIFwiJGFjY2VwdFwiOiAwLCBcIiRlbmRcIjogMSB9LFxuICAgIHRlcm1pbmFsc186IHsgMjogXCJlcnJvclwiLCA0OiBcIlNQQUNFXCIsIDU6IFwiTkxcIiwgNjogXCJTRFwiLCAxNDogXCJERVNDUlwiLCAxNTogXCItLT5cIiwgMTY6IFwiSElERV9FTVBUWVwiLCAxNzogXCJzY2FsZVwiLCAxODogXCJXSURUSFwiLCAxOTogXCJDT01QT1NJVF9TVEFURVwiLCAyMDogXCJTVFJVQ1RfU1RBUlRcIiwgMjE6IFwiU1RSVUNUX1NUT1BcIiwgMjI6IFwiU1RBVEVfREVTQ1JcIiwgMjM6IFwiQVNcIiwgMjQ6IFwiSURcIiwgMjU6IFwiRk9SS1wiLCAyNjogXCJKT0lOXCIsIDI3OiBcIkNIT0lDRVwiLCAyODogXCJDT05DVVJSRU5UXCIsIDI5OiBcIm5vdGVcIiwgMzE6IFwiTk9URV9URVhUXCIsIDMzOiBcImFjY190aXRsZVwiLCAzNDogXCJhY2NfdGl0bGVfdmFsdWVcIiwgMzU6IFwiYWNjX2Rlc2NyXCIsIDM2OiBcImFjY19kZXNjcl92YWx1ZVwiLCAzNzogXCJhY2NfZGVzY3JfbXVsdGlsaW5lX3ZhbHVlXCIsIDM4OiBcImNsYXNzRGVmXCIsIDM5OiBcIkNMQVNTREVGX0lEXCIsIDQwOiBcIkNMQVNTREVGX1NUWUxFT1BUU1wiLCA0MTogXCJERUZBVUxUXCIsIDQyOiBcInN0eWxlXCIsIDQzOiBcIlNUWUxFX0lEU1wiLCA0NDogXCJTVFlMRURFRl9TVFlMRU9QVFNcIiwgNDU6IFwiY2xhc3NcIiwgNDY6IFwiQ0xBU1NFTlRJVFlfSURTXCIsIDQ3OiBcIlNUWUxFQ0xBU1NcIiwgNDg6IFwiZGlyZWN0aW9uX3RiXCIsIDQ5OiBcImRpcmVjdGlvbl9idFwiLCA1MDogXCJkaXJlY3Rpb25fcmxcIiwgNTE6IFwiZGlyZWN0aW9uX2xyXCIsIDUzOiBcIjtcIiwgNTQ6IFwiRURHRV9TVEFURVwiLCA1NTogXCJTVFlMRV9TRVBBUkFUT1JcIiwgNTY6IFwibGVmdF9vZlwiLCA1NzogXCJyaWdodF9vZlwiIH0sXG4gICAgcHJvZHVjdGlvbnNfOiBbMCwgWzMsIDJdLCBbMywgMl0sIFszLCAyXSwgWzcsIDBdLCBbNywgMl0sIFs4LCAyXSwgWzgsIDFdLCBbOCwgMV0sIFs5LCAxXSwgWzksIDFdLCBbOSwgMV0sIFs5LCAxXSwgWzksIDJdLCBbOSwgM10sIFs5LCA0XSwgWzksIDFdLCBbOSwgMl0sIFs5LCAxXSwgWzksIDRdLCBbOSwgM10sIFs5LCA2XSwgWzksIDFdLCBbOSwgMV0sIFs5LCAxXSwgWzksIDFdLCBbOSwgNF0sIFs5LCA0XSwgWzksIDFdLCBbOSwgMl0sIFs5LCAyXSwgWzksIDFdLCBbMTAsIDNdLCBbMTAsIDNdLCBbMTEsIDNdLCBbMTIsIDNdLCBbMzIsIDFdLCBbMzIsIDFdLCBbMzIsIDFdLCBbMzIsIDFdLCBbNTIsIDFdLCBbNTIsIDFdLCBbMTMsIDFdLCBbMTMsIDFdLCBbMTMsIDNdLCBbMTMsIDNdLCBbMzAsIDFdLCBbMzAsIDFdXSxcbiAgICBwZXJmb3JtQWN0aW9uOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uIGFub255bW91cyh5eXRleHQsIHl5bGVuZywgeXlsaW5lbm8sIHl5LCB5eXN0YXRlLCAkJCwgXyQpIHtcbiAgICAgIHZhciAkMCA9ICQkLmxlbmd0aCAtIDE7XG4gICAgICBzd2l0Y2ggKHl5c3RhdGUpIHtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgIHl5LnNldFJvb3REb2MoJCRbJDBdKTtcbiAgICAgICAgICByZXR1cm4gJCRbJDBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgdGhpcy4kID0gW107XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNTpcbiAgICAgICAgICBpZiAoJCRbJDBdICE9IFwibmxcIikge1xuICAgICAgICAgICAgJCRbJDAgLSAxXS5wdXNoKCQkWyQwXSk7XG4gICAgICAgICAgICB0aGlzLiQgPSAkJFskMCAtIDFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA2OlxuICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgdGhpcy4kID0gJCRbJDBdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgdGhpcy4kID0gXCJubFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgIHRoaXMuJCA9ICQkWyQwXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICBjb25zdCBzdGF0ZVN0bXQgPSAkJFskMCAtIDFdO1xuICAgICAgICAgIHN0YXRlU3RtdC5kZXNjcmlwdGlvbiA9IHl5LnRyaW1Db2xvbigkJFskMF0pO1xuICAgICAgICAgIHRoaXMuJCA9IHN0YXRlU3RtdDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxNDpcbiAgICAgICAgICB0aGlzLiQgPSB7IHN0bXQ6IFwicmVsYXRpb25cIiwgc3RhdGUxOiAkJFskMCAtIDJdLCBzdGF0ZTI6ICQkWyQwXSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgIGNvbnN0IHJlbERlc2NyaXB0aW9uID0geXkudHJpbUNvbG9uKCQkWyQwXSk7XG4gICAgICAgICAgdGhpcy4kID0geyBzdG10OiBcInJlbGF0aW9uXCIsIHN0YXRlMTogJCRbJDAgLSAzXSwgc3RhdGUyOiAkJFskMCAtIDFdLCBkZXNjcmlwdGlvbjogcmVsRGVzY3JpcHRpb24gfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICB0aGlzLiQgPSB7IHN0bXQ6IFwic3RhdGVcIiwgaWQ6ICQkWyQwIC0gM10sIHR5cGU6IFwiZGVmYXVsdFwiLCBkZXNjcmlwdGlvbjogXCJcIiwgZG9jOiAkJFskMCAtIDFdIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjA6XG4gICAgICAgICAgdmFyIGlkID0gJCRbJDBdO1xuICAgICAgICAgIHZhciBkZXNjcmlwdGlvbiA9ICQkWyQwIC0gMl0udHJpbSgpO1xuICAgICAgICAgIGlmICgkJFskMF0ubWF0Y2goXCI6XCIpKSB7XG4gICAgICAgICAgICB2YXIgcGFydHMgPSAkJFskMF0uc3BsaXQoXCI6XCIpO1xuICAgICAgICAgICAgaWQgPSBwYXJ0c1swXTtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gW2Rlc2NyaXB0aW9uLCBwYXJ0c1sxXV07XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJzdGF0ZVwiLCBpZCwgdHlwZTogXCJkZWZhdWx0XCIsIGRlc2NyaXB0aW9uIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgdGhpcy4kID0geyBzdG10OiBcInN0YXRlXCIsIGlkOiAkJFskMCAtIDNdLCB0eXBlOiBcImRlZmF1bHRcIiwgZGVzY3JpcHRpb246ICQkWyQwIC0gNV0sIGRvYzogJCRbJDAgLSAxXSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJzdGF0ZVwiLCBpZDogJCRbJDBdLCB0eXBlOiBcImZvcmtcIiB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDIzOlxuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJzdGF0ZVwiLCBpZDogJCRbJDBdLCB0eXBlOiBcImpvaW5cIiB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJzdGF0ZVwiLCBpZDogJCRbJDBdLCB0eXBlOiBcImNob2ljZVwiIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjU6XG4gICAgICAgICAgdGhpcy4kID0geyBzdG10OiBcInN0YXRlXCIsIGlkOiB5eS5nZXREaXZpZGVySWQoKSwgdHlwZTogXCJkaXZpZGVyXCIgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyNjpcbiAgICAgICAgICB0aGlzLiQgPSB7IHN0bXQ6IFwic3RhdGVcIiwgaWQ6ICQkWyQwIC0gMV0udHJpbSgpLCBub3RlOiB7IHBvc2l0aW9uOiAkJFskMCAtIDJdLnRyaW0oKSwgdGV4dDogJCRbJDBdLnRyaW0oKSB9IH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjk6XG4gICAgICAgICAgdGhpcy4kID0gJCRbJDBdLnRyaW0oKTtcbiAgICAgICAgICB5eS5zZXRBY2NUaXRsZSh0aGlzLiQpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDMwOlxuICAgICAgICBjYXNlIDMxOlxuICAgICAgICAgIHRoaXMuJCA9ICQkWyQwXS50cmltKCk7XG4gICAgICAgICAgeXkuc2V0QWNjRGVzY3JpcHRpb24odGhpcy4kKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgY2FzZSAzMzpcbiAgICAgICAgICB0aGlzLiQgPSB7IHN0bXQ6IFwiY2xhc3NEZWZcIiwgaWQ6ICQkWyQwIC0gMV0udHJpbSgpLCBjbGFzc2VzOiAkJFskMF0udHJpbSgpIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMzQ6XG4gICAgICAgICAgdGhpcy4kID0geyBzdG10OiBcInN0eWxlXCIsIGlkOiAkJFskMCAtIDFdLnRyaW0oKSwgc3R5bGVDbGFzczogJCRbJDBdLnRyaW0oKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM1OlxuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJhcHBseUNsYXNzXCIsIGlkOiAkJFskMCAtIDFdLnRyaW0oKSwgc3R5bGVDbGFzczogJCRbJDBdLnRyaW0oKSB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM2OlxuICAgICAgICAgIHl5LnNldERpcmVjdGlvbihcIlRCXCIpO1xuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJkaXJcIiwgdmFsdWU6IFwiVEJcIiB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgIHl5LnNldERpcmVjdGlvbihcIkJUXCIpO1xuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJkaXJcIiwgdmFsdWU6IFwiQlRcIiB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM4OlxuICAgICAgICAgIHl5LnNldERpcmVjdGlvbihcIlJMXCIpO1xuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJkaXJcIiwgdmFsdWU6IFwiUkxcIiB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgIHl5LnNldERpcmVjdGlvbihcIkxSXCIpO1xuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJkaXJcIiwgdmFsdWU6IFwiTFJcIiB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDQyOlxuICAgICAgICBjYXNlIDQzOlxuICAgICAgICAgIHRoaXMuJCA9IHsgc3RtdDogXCJzdGF0ZVwiLCBpZDogJCRbJDBdLnRyaW0oKSwgdHlwZTogXCJkZWZhdWx0XCIsIGRlc2NyaXB0aW9uOiBcIlwiIH07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgdGhpcy4kID0geyBzdG10OiBcInN0YXRlXCIsIGlkOiAkJFskMCAtIDJdLnRyaW0oKSwgY2xhc3NlczogWyQkWyQwXS50cmltKCldLCB0eXBlOiBcImRlZmF1bHRcIiwgZGVzY3JpcHRpb246IFwiXCIgfTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSA0NTpcbiAgICAgICAgICB0aGlzLiQgPSB7IHN0bXQ6IFwic3RhdGVcIiwgaWQ6ICQkWyQwIC0gMl0udHJpbSgpLCBjbGFzc2VzOiBbJCRbJDBdLnRyaW0oKV0sIHR5cGU6IFwiZGVmYXVsdFwiLCBkZXNjcmlwdGlvbjogXCJcIiB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH0sIFwiYW5vbnltb3VzXCIpLFxuICAgIHRhYmxlOiBbeyAzOiAxLCA0OiAkVjAsIDU6ICRWMSwgNjogJFYyIH0sIHsgMTogWzNdIH0sIHsgMzogNSwgNDogJFYwLCA1OiAkVjEsIDY6ICRWMiB9LCB7IDM6IDYsIDQ6ICRWMCwgNTogJFYxLCA2OiAkVjIgfSwgbyhbMSwgNCwgNSwgMTYsIDE3LCAxOSwgMjIsIDI0LCAyNSwgMjYsIDI3LCAyOCwgMjksIDMzLCAzNSwgMzcsIDM4LCA0MiwgNDUsIDQ4LCA0OSwgNTAsIDUxLCA1NF0sICRWMywgeyA3OiA3IH0pLCB7IDE6IFsyLCAxXSB9LCB7IDE6IFsyLCAyXSB9LCB7IDE6IFsyLCAzXSwgNDogJFY0LCA1OiAkVjUsIDg6IDgsIDk6IDEwLCAxMDogMTIsIDExOiAxMywgMTI6IDE0LCAxMzogMTUsIDE2OiAkVjYsIDE3OiAkVjcsIDE5OiAkVjgsIDIyOiAkVjksIDI0OiAkVmEsIDI1OiAkVmIsIDI2OiAkVmMsIDI3OiAkVmQsIDI4OiAkVmUsIDI5OiAkVmYsIDMyOiAyNSwgMzM6ICRWZywgMzU6ICRWaCwgMzc6ICRWaSwgMzg6ICRWaiwgNDI6ICRWaywgNDU6ICRWbCwgNDg6ICRWbSwgNDk6ICRWbiwgNTA6ICRWbywgNTE6ICRWcCwgNTQ6ICRWcSB9LCBvKCRWciwgWzIsIDVdKSwgeyA5OiAzOCwgMTA6IDEyLCAxMTogMTMsIDEyOiAxNCwgMTM6IDE1LCAxNjogJFY2LCAxNzogJFY3LCAxOTogJFY4LCAyMjogJFY5LCAyNDogJFZhLCAyNTogJFZiLCAyNjogJFZjLCAyNzogJFZkLCAyODogJFZlLCAyOTogJFZmLCAzMjogMjUsIDMzOiAkVmcsIDM1OiAkVmgsIDM3OiAkVmksIDM4OiAkVmosIDQyOiAkVmssIDQ1OiAkVmwsIDQ4OiAkVm0sIDQ5OiAkVm4sIDUwOiAkVm8sIDUxOiAkVnAsIDU0OiAkVnEgfSwgbygkVnIsIFsyLCA3XSksIG8oJFZyLCBbMiwgOF0pLCBvKCRWciwgWzIsIDldKSwgbygkVnIsIFsyLCAxMF0pLCBvKCRWciwgWzIsIDExXSksIG8oJFZyLCBbMiwgMTJdLCB7IDE0OiBbMSwgMzldLCAxNTogWzEsIDQwXSB9KSwgbygkVnIsIFsyLCAxNl0pLCB7IDE4OiBbMSwgNDFdIH0sIG8oJFZyLCBbMiwgMThdLCB7IDIwOiBbMSwgNDJdIH0pLCB7IDIzOiBbMSwgNDNdIH0sIG8oJFZyLCBbMiwgMjJdKSwgbygkVnIsIFsyLCAyM10pLCBvKCRWciwgWzIsIDI0XSksIG8oJFZyLCBbMiwgMjVdKSwgeyAzMDogNDQsIDMxOiBbMSwgNDVdLCA1NjogWzEsIDQ2XSwgNTc6IFsxLCA0N10gfSwgbygkVnIsIFsyLCAyOF0pLCB7IDM0OiBbMSwgNDhdIH0sIHsgMzY6IFsxLCA0OV0gfSwgbygkVnIsIFsyLCAzMV0pLCB7IDM5OiBbMSwgNTBdLCA0MTogWzEsIDUxXSB9LCB7IDQzOiBbMSwgNTJdIH0sIHsgNDY6IFsxLCA1M10gfSwgbygkVnMsIFsyLCA0Ml0sIHsgNTU6IFsxLCA1NF0gfSksIG8oJFZzLCBbMiwgNDNdLCB7IDU1OiBbMSwgNTVdIH0pLCBvKCRWciwgWzIsIDM2XSksIG8oJFZyLCBbMiwgMzddKSwgbygkVnIsIFsyLCAzOF0pLCBvKCRWciwgWzIsIDM5XSksIG8oJFZyLCBbMiwgNl0pLCBvKCRWciwgWzIsIDEzXSksIHsgMTM6IDU2LCAyNDogJFZhLCA1NDogJFZxIH0sIG8oJFZyLCBbMiwgMTddKSwgbygkVnQsICRWMywgeyA3OiA1NyB9KSwgeyAyNDogWzEsIDU4XSB9LCB7IDI0OiBbMSwgNTldIH0sIHsgMjM6IFsxLCA2MF0gfSwgeyAyNDogWzIsIDQ2XSB9LCB7IDI0OiBbMiwgNDddIH0sIG8oJFZyLCBbMiwgMjldKSwgbygkVnIsIFsyLCAzMF0pLCB7IDQwOiBbMSwgNjFdIH0sIHsgNDA6IFsxLCA2Ml0gfSwgeyA0NDogWzEsIDYzXSB9LCB7IDQ3OiBbMSwgNjRdIH0sIHsgMjQ6IFsxLCA2NV0gfSwgeyAyNDogWzEsIDY2XSB9LCBvKCRWciwgWzIsIDE0XSwgeyAxNDogWzEsIDY3XSB9KSwgeyA0OiAkVjQsIDU6ICRWNSwgODogOCwgOTogMTAsIDEwOiAxMiwgMTE6IDEzLCAxMjogMTQsIDEzOiAxNSwgMTY6ICRWNiwgMTc6ICRWNywgMTk6ICRWOCwgMjE6IFsxLCA2OF0sIDIyOiAkVjksIDI0OiAkVmEsIDI1OiAkVmIsIDI2OiAkVmMsIDI3OiAkVmQsIDI4OiAkVmUsIDI5OiAkVmYsIDMyOiAyNSwgMzM6ICRWZywgMzU6ICRWaCwgMzc6ICRWaSwgMzg6ICRWaiwgNDI6ICRWaywgNDU6ICRWbCwgNDg6ICRWbSwgNDk6ICRWbiwgNTA6ICRWbywgNTE6ICRWcCwgNTQ6ICRWcSB9LCBvKCRWciwgWzIsIDIwXSwgeyAyMDogWzEsIDY5XSB9KSwgeyAzMTogWzEsIDcwXSB9LCB7IDI0OiBbMSwgNzFdIH0sIG8oJFZyLCBbMiwgMzJdKSwgbygkVnIsIFsyLCAzM10pLCBvKCRWciwgWzIsIDM0XSksIG8oJFZyLCBbMiwgMzVdKSwgbygkVnMsIFsyLCA0NF0pLCBvKCRWcywgWzIsIDQ1XSksIG8oJFZyLCBbMiwgMTVdKSwgbygkVnIsIFsyLCAxOV0pLCBvKCRWdCwgJFYzLCB7IDc6IDcyIH0pLCBvKCRWciwgWzIsIDI2XSksIG8oJFZyLCBbMiwgMjddKSwgeyA0OiAkVjQsIDU6ICRWNSwgODogOCwgOTogMTAsIDEwOiAxMiwgMTE6IDEzLCAxMjogMTQsIDEzOiAxNSwgMTY6ICRWNiwgMTc6ICRWNywgMTk6ICRWOCwgMjE6IFsxLCA3M10sIDIyOiAkVjksIDI0OiAkVmEsIDI1OiAkVmIsIDI2OiAkVmMsIDI3OiAkVmQsIDI4OiAkVmUsIDI5OiAkVmYsIDMyOiAyNSwgMzM6ICRWZywgMzU6ICRWaCwgMzc6ICRWaSwgMzg6ICRWaiwgNDI6ICRWaywgNDU6ICRWbCwgNDg6ICRWbSwgNDk6ICRWbiwgNTA6ICRWbywgNTE6ICRWcCwgNTQ6ICRWcSB9LCBvKCRWciwgWzIsIDIxXSldLFxuICAgIGRlZmF1bHRBY3Rpb25zOiB7IDU6IFsyLCAxXSwgNjogWzIsIDJdLCA0NjogWzIsIDQ2XSwgNDc6IFsyLCA0N10gfSxcbiAgICBwYXJzZUVycm9yOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uIHBhcnNlRXJyb3Ioc3RyLCBoYXNoKSB7XG4gICAgICBpZiAoaGFzaC5yZWNvdmVyYWJsZSkge1xuICAgICAgICB0aGlzLnRyYWNlKHN0cik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZXJyb3IgPSBuZXcgRXJyb3Ioc3RyKTtcbiAgICAgICAgZXJyb3IuaGFzaCA9IGhhc2g7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0sIFwicGFyc2VFcnJvclwiKSxcbiAgICBwYXJzZTogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbiBwYXJzZShpbnB1dCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzLCBzdGFjayA9IFswXSwgdHN0YWNrID0gW10sIHZzdGFjayA9IFtudWxsXSwgbHN0YWNrID0gW10sIHRhYmxlID0gdGhpcy50YWJsZSwgeXl0ZXh0ID0gXCJcIiwgeXlsaW5lbm8gPSAwLCB5eWxlbmcgPSAwLCByZWNvdmVyaW5nID0gMCwgVEVSUk9SID0gMiwgRU9GID0gMTtcbiAgICAgIHZhciBhcmdzID0gbHN0YWNrLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgIHZhciBsZXhlcjIgPSBPYmplY3QuY3JlYXRlKHRoaXMubGV4ZXIpO1xuICAgICAgdmFyIHNoYXJlZFN0YXRlID0geyB5eToge30gfTtcbiAgICAgIGZvciAodmFyIGsgaW4gdGhpcy55eSkge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMueXksIGspKSB7XG4gICAgICAgICAgc2hhcmVkU3RhdGUueXlba10gPSB0aGlzLnl5W2tdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsZXhlcjIuc2V0SW5wdXQoaW5wdXQsIHNoYXJlZFN0YXRlLnl5KTtcbiAgICAgIHNoYXJlZFN0YXRlLnl5LmxleGVyID0gbGV4ZXIyO1xuICAgICAgc2hhcmVkU3RhdGUueXkucGFyc2VyID0gdGhpcztcbiAgICAgIGlmICh0eXBlb2YgbGV4ZXIyLnl5bGxvYyA9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGxleGVyMi55eWxsb2MgPSB7fTtcbiAgICAgIH1cbiAgICAgIHZhciB5eWxvYyA9IGxleGVyMi55eWxsb2M7XG4gICAgICBsc3RhY2sucHVzaCh5eWxvYyk7XG4gICAgICB2YXIgcmFuZ2VzID0gbGV4ZXIyLm9wdGlvbnMgJiYgbGV4ZXIyLm9wdGlvbnMucmFuZ2VzO1xuICAgICAgaWYgKHR5cGVvZiBzaGFyZWRTdGF0ZS55eS5wYXJzZUVycm9yID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgdGhpcy5wYXJzZUVycm9yID0gc2hhcmVkU3RhdGUueXkucGFyc2VFcnJvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMucGFyc2VFcnJvciA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5wYXJzZUVycm9yO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gcG9wU3RhY2sobikge1xuICAgICAgICBzdGFjay5sZW5ndGggPSBzdGFjay5sZW5ndGggLSAyICogbjtcbiAgICAgICAgdnN0YWNrLmxlbmd0aCA9IHZzdGFjay5sZW5ndGggLSBuO1xuICAgICAgICBsc3RhY2subGVuZ3RoID0gbHN0YWNrLmxlbmd0aCAtIG47XG4gICAgICB9XG4gICAgICBfX25hbWUocG9wU3RhY2ssIFwicG9wU3RhY2tcIik7XG4gICAgICBmdW5jdGlvbiBsZXgoKSB7XG4gICAgICAgIHZhciB0b2tlbjtcbiAgICAgICAgdG9rZW4gPSB0c3RhY2sucG9wKCkgfHwgbGV4ZXIyLmxleCgpIHx8IEVPRjtcbiAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiAhPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIGlmICh0b2tlbiBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICB0c3RhY2sgPSB0b2tlbjtcbiAgICAgICAgICAgIHRva2VuID0gdHN0YWNrLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0b2tlbiA9IHNlbGYuc3ltYm9sc19bdG9rZW5dIHx8IHRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgIH1cbiAgICAgIF9fbmFtZShsZXgsIFwibGV4XCIpO1xuICAgICAgdmFyIHN5bWJvbCwgcHJlRXJyb3JTeW1ib2wsIHN0YXRlLCBhY3Rpb24sIGEsIHIsIHl5dmFsID0ge30sIHAsIGxlbiwgbmV3U3RhdGUsIGV4cGVjdGVkO1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgc3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKHRoaXMuZGVmYXVsdEFjdGlvbnNbc3RhdGVdKSB7XG4gICAgICAgICAgYWN0aW9uID0gdGhpcy5kZWZhdWx0QWN0aW9uc1tzdGF0ZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHN5bWJvbCA9PT0gbnVsbCB8fCB0eXBlb2Ygc3ltYm9sID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgIHN5bWJvbCA9IGxleCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhY3Rpb24gPSB0YWJsZVtzdGF0ZV0gJiYgdGFibGVbc3RhdGVdW3N5bWJvbF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24gPT09IFwidW5kZWZpbmVkXCIgfHwgIWFjdGlvbi5sZW5ndGggfHwgIWFjdGlvblswXSkge1xuICAgICAgICAgIHZhciBlcnJTdHIgPSBcIlwiO1xuICAgICAgICAgIGV4cGVjdGVkID0gW107XG4gICAgICAgICAgZm9yIChwIGluIHRhYmxlW3N0YXRlXSkge1xuICAgICAgICAgICAgaWYgKHRoaXMudGVybWluYWxzX1twXSAmJiBwID4gVEVSUk9SKSB7XG4gICAgICAgICAgICAgIGV4cGVjdGVkLnB1c2goXCInXCIgKyB0aGlzLnRlcm1pbmFsc19bcF0gKyBcIidcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChsZXhlcjIuc2hvd1Bvc2l0aW9uKSB7XG4gICAgICAgICAgICBlcnJTdHIgPSBcIlBhcnNlIGVycm9yIG9uIGxpbmUgXCIgKyAoeXlsaW5lbm8gKyAxKSArIFwiOlxcblwiICsgbGV4ZXIyLnNob3dQb3NpdGlvbigpICsgXCJcXG5FeHBlY3RpbmcgXCIgKyBleHBlY3RlZC5qb2luKFwiLCBcIikgKyBcIiwgZ290ICdcIiArICh0aGlzLnRlcm1pbmFsc19bc3ltYm9sXSB8fCBzeW1ib2wpICsgXCInXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVyclN0ciA9IFwiUGFyc2UgZXJyb3Igb24gbGluZSBcIiArICh5eWxpbmVubyArIDEpICsgXCI6IFVuZXhwZWN0ZWQgXCIgKyAoc3ltYm9sID09IEVPRiA/IFwiZW5kIG9mIGlucHV0XCIgOiBcIidcIiArICh0aGlzLnRlcm1pbmFsc19bc3ltYm9sXSB8fCBzeW1ib2wpICsgXCInXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB0aGlzLnBhcnNlRXJyb3IoZXJyU3RyLCB7XG4gICAgICAgICAgICB0ZXh0OiBsZXhlcjIubWF0Y2gsXG4gICAgICAgICAgICB0b2tlbjogdGhpcy50ZXJtaW5hbHNfW3N5bWJvbF0gfHwgc3ltYm9sLFxuICAgICAgICAgICAgbGluZTogbGV4ZXIyLnl5bGluZW5vLFxuICAgICAgICAgICAgbG9jOiB5eWxvYyxcbiAgICAgICAgICAgIGV4cGVjdGVkXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGFjdGlvblswXSBpbnN0YW5jZW9mIEFycmF5ICYmIGFjdGlvbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFyc2UgRXJyb3I6IG11bHRpcGxlIGFjdGlvbnMgcG9zc2libGUgYXQgc3RhdGU6IFwiICsgc3RhdGUgKyBcIiwgdG9rZW46IFwiICsgc3ltYm9sKTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKGFjdGlvblswXSkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHN0YWNrLnB1c2goc3ltYm9sKTtcbiAgICAgICAgICAgIHZzdGFjay5wdXNoKGxleGVyMi55eXRleHQpO1xuICAgICAgICAgICAgbHN0YWNrLnB1c2gobGV4ZXIyLnl5bGxvYyk7XG4gICAgICAgICAgICBzdGFjay5wdXNoKGFjdGlvblsxXSk7XG4gICAgICAgICAgICBzeW1ib2wgPSBudWxsO1xuICAgICAgICAgICAgaWYgKCFwcmVFcnJvclN5bWJvbCkge1xuICAgICAgICAgICAgICB5eWxlbmcgPSBsZXhlcjIueXlsZW5nO1xuICAgICAgICAgICAgICB5eXRleHQgPSBsZXhlcjIueXl0ZXh0O1xuICAgICAgICAgICAgICB5eWxpbmVubyA9IGxleGVyMi55eWxpbmVubztcbiAgICAgICAgICAgICAgeXlsb2MgPSBsZXhlcjIueXlsbG9jO1xuICAgICAgICAgICAgICBpZiAocmVjb3ZlcmluZyA+IDApIHtcbiAgICAgICAgICAgICAgICByZWNvdmVyaW5nLS07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN5bWJvbCA9IHByZUVycm9yU3ltYm9sO1xuICAgICAgICAgICAgICBwcmVFcnJvclN5bWJvbCA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICBsZW4gPSB0aGlzLnByb2R1Y3Rpb25zX1thY3Rpb25bMV1dWzFdO1xuICAgICAgICAgICAgeXl2YWwuJCA9IHZzdGFja1t2c3RhY2subGVuZ3RoIC0gbGVuXTtcbiAgICAgICAgICAgIHl5dmFsLl8kID0ge1xuICAgICAgICAgICAgICBmaXJzdF9saW5lOiBsc3RhY2tbbHN0YWNrLmxlbmd0aCAtIChsZW4gfHwgMSldLmZpcnN0X2xpbmUsXG4gICAgICAgICAgICAgIGxhc3RfbGluZTogbHN0YWNrW2xzdGFjay5sZW5ndGggLSAxXS5sYXN0X2xpbmUsXG4gICAgICAgICAgICAgIGZpcnN0X2NvbHVtbjogbHN0YWNrW2xzdGFjay5sZW5ndGggLSAobGVuIHx8IDEpXS5maXJzdF9jb2x1bW4sXG4gICAgICAgICAgICAgIGxhc3RfY29sdW1uOiBsc3RhY2tbbHN0YWNrLmxlbmd0aCAtIDFdLmxhc3RfY29sdW1uXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHJhbmdlcykge1xuICAgICAgICAgICAgICB5eXZhbC5fJC5yYW5nZSA9IFtcbiAgICAgICAgICAgICAgICBsc3RhY2tbbHN0YWNrLmxlbmd0aCAtIChsZW4gfHwgMSldLnJhbmdlWzBdLFxuICAgICAgICAgICAgICAgIGxzdGFja1tsc3RhY2subGVuZ3RoIC0gMV0ucmFuZ2VbMV1cbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHIgPSB0aGlzLnBlcmZvcm1BY3Rpb24uYXBwbHkoeXl2YWwsIFtcbiAgICAgICAgICAgICAgeXl0ZXh0LFxuICAgICAgICAgICAgICB5eWxlbmcsXG4gICAgICAgICAgICAgIHl5bGluZW5vLFxuICAgICAgICAgICAgICBzaGFyZWRTdGF0ZS55eSxcbiAgICAgICAgICAgICAgYWN0aW9uWzFdLFxuICAgICAgICAgICAgICB2c3RhY2ssXG4gICAgICAgICAgICAgIGxzdGFja1xuICAgICAgICAgICAgXS5jb25jYXQoYXJncykpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxlbikge1xuICAgICAgICAgICAgICBzdGFjayA9IHN0YWNrLnNsaWNlKDAsIC0xICogbGVuICogMik7XG4gICAgICAgICAgICAgIHZzdGFjayA9IHZzdGFjay5zbGljZSgwLCAtMSAqIGxlbik7XG4gICAgICAgICAgICAgIGxzdGFjayA9IGxzdGFjay5zbGljZSgwLCAtMSAqIGxlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGFjay5wdXNoKHRoaXMucHJvZHVjdGlvbnNfW2FjdGlvblsxXV1bMF0pO1xuICAgICAgICAgICAgdnN0YWNrLnB1c2goeXl2YWwuJCk7XG4gICAgICAgICAgICBsc3RhY2sucHVzaCh5eXZhbC5fJCk7XG4gICAgICAgICAgICBuZXdTdGF0ZSA9IHRhYmxlW3N0YWNrW3N0YWNrLmxlbmd0aCAtIDJdXVtzdGFja1tzdGFjay5sZW5ndGggLSAxXV07XG4gICAgICAgICAgICBzdGFjay5wdXNoKG5ld1N0YXRlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9LCBcInBhcnNlXCIpXG4gIH07XG4gIHZhciBsZXhlciA9IC8qIEBfX1BVUkVfXyAqLyBmdW5jdGlvbigpIHtcbiAgICB2YXIgbGV4ZXIyID0ge1xuICAgICAgRU9GOiAxLFxuICAgICAgcGFyc2VFcnJvcjogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbiBwYXJzZUVycm9yKHN0ciwgaGFzaCkge1xuICAgICAgICBpZiAodGhpcy55eS5wYXJzZXIpIHtcbiAgICAgICAgICB0aGlzLnl5LnBhcnNlci5wYXJzZUVycm9yKHN0ciwgaGFzaCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cik7XG4gICAgICAgIH1cbiAgICAgIH0sIFwicGFyc2VFcnJvclwiKSxcbiAgICAgIC8vIHJlc2V0cyB0aGUgbGV4ZXIsIHNldHMgbmV3IGlucHV0XG4gICAgICBzZXRJbnB1dDogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbihpbnB1dCwgeXkpIHtcbiAgICAgICAgdGhpcy55eSA9IHl5IHx8IHRoaXMueXkgfHwge307XG4gICAgICAgIHRoaXMuX2lucHV0ID0gaW5wdXQ7XG4gICAgICAgIHRoaXMuX21vcmUgPSB0aGlzLl9iYWNrdHJhY2sgPSB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy55eWxpbmVubyA9IHRoaXMueXlsZW5nID0gMDtcbiAgICAgICAgdGhpcy55eXRleHQgPSB0aGlzLm1hdGNoZWQgPSB0aGlzLm1hdGNoID0gXCJcIjtcbiAgICAgICAgdGhpcy5jb25kaXRpb25TdGFjayA9IFtcIklOSVRJQUxcIl07XG4gICAgICAgIHRoaXMueXlsbG9jID0ge1xuICAgICAgICAgIGZpcnN0X2xpbmU6IDEsXG4gICAgICAgICAgZmlyc3RfY29sdW1uOiAwLFxuICAgICAgICAgIGxhc3RfbGluZTogMSxcbiAgICAgICAgICBsYXN0X2NvbHVtbjogMFxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJhbmdlcykge1xuICAgICAgICAgIHRoaXMueXlsbG9jLnJhbmdlID0gWzAsIDBdO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9LCBcInNldElucHV0XCIpLFxuICAgICAgLy8gY29uc3VtZXMgYW5kIHJldHVybnMgb25lIGNoYXIgZnJvbSB0aGUgaW5wdXRcbiAgICAgIGlucHV0OiAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgY2ggPSB0aGlzLl9pbnB1dFswXTtcbiAgICAgICAgdGhpcy55eXRleHQgKz0gY2g7XG4gICAgICAgIHRoaXMueXlsZW5nKys7XG4gICAgICAgIHRoaXMub2Zmc2V0Kys7XG4gICAgICAgIHRoaXMubWF0Y2ggKz0gY2g7XG4gICAgICAgIHRoaXMubWF0Y2hlZCArPSBjaDtcbiAgICAgICAgdmFyIGxpbmVzID0gY2gubWF0Y2goLyg/Olxcclxcbj98XFxuKS4qL2cpO1xuICAgICAgICBpZiAobGluZXMpIHtcbiAgICAgICAgICB0aGlzLnl5bGluZW5vKys7XG4gICAgICAgICAgdGhpcy55eWxsb2MubGFzdF9saW5lKys7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy55eWxsb2MubGFzdF9jb2x1bW4rKztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJhbmdlcykge1xuICAgICAgICAgIHRoaXMueXlsbG9jLnJhbmdlWzFdKys7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5wdXQgPSB0aGlzLl9pbnB1dC5zbGljZSgxKTtcbiAgICAgICAgcmV0dXJuIGNoO1xuICAgICAgfSwgXCJpbnB1dFwiKSxcbiAgICAgIC8vIHVuc2hpZnRzIG9uZSBjaGFyIChvciBhIHN0cmluZykgaW50byB0aGUgaW5wdXRcbiAgICAgIHVucHV0OiAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKGNoKSB7XG4gICAgICAgIHZhciBsZW4gPSBjaC5sZW5ndGg7XG4gICAgICAgIHZhciBsaW5lcyA9IGNoLnNwbGl0KC8oPzpcXHJcXG4/fFxcbikvZyk7XG4gICAgICAgIHRoaXMuX2lucHV0ID0gY2ggKyB0aGlzLl9pbnB1dDtcbiAgICAgICAgdGhpcy55eXRleHQgPSB0aGlzLnl5dGV4dC5zdWJzdHIoMCwgdGhpcy55eXRleHQubGVuZ3RoIC0gbGVuKTtcbiAgICAgICAgdGhpcy5vZmZzZXQgLT0gbGVuO1xuICAgICAgICB2YXIgb2xkTGluZXMgPSB0aGlzLm1hdGNoLnNwbGl0KC8oPzpcXHJcXG4/fFxcbikvZyk7XG4gICAgICAgIHRoaXMubWF0Y2ggPSB0aGlzLm1hdGNoLnN1YnN0cigwLCB0aGlzLm1hdGNoLmxlbmd0aCAtIDEpO1xuICAgICAgICB0aGlzLm1hdGNoZWQgPSB0aGlzLm1hdGNoZWQuc3Vic3RyKDAsIHRoaXMubWF0Y2hlZC5sZW5ndGggLSAxKTtcbiAgICAgICAgaWYgKGxpbmVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICB0aGlzLnl5bGluZW5vIC09IGxpbmVzLmxlbmd0aCAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIgPSB0aGlzLnl5bGxvYy5yYW5nZTtcbiAgICAgICAgdGhpcy55eWxsb2MgPSB7XG4gICAgICAgICAgZmlyc3RfbGluZTogdGhpcy55eWxsb2MuZmlyc3RfbGluZSxcbiAgICAgICAgICBsYXN0X2xpbmU6IHRoaXMueXlsaW5lbm8gKyAxLFxuICAgICAgICAgIGZpcnN0X2NvbHVtbjogdGhpcy55eWxsb2MuZmlyc3RfY29sdW1uLFxuICAgICAgICAgIGxhc3RfY29sdW1uOiBsaW5lcyA/IChsaW5lcy5sZW5ndGggPT09IG9sZExpbmVzLmxlbmd0aCA/IHRoaXMueXlsbG9jLmZpcnN0X2NvbHVtbiA6IDApICsgb2xkTGluZXNbb2xkTGluZXMubGVuZ3RoIC0gbGluZXMubGVuZ3RoXS5sZW5ndGggLSBsaW5lc1swXS5sZW5ndGggOiB0aGlzLnl5bGxvYy5maXJzdF9jb2x1bW4gLSBsZW5cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yYW5nZXMpIHtcbiAgICAgICAgICB0aGlzLnl5bGxvYy5yYW5nZSA9IFtyWzBdLCByWzBdICsgdGhpcy55eWxlbmcgLSBsZW5dO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMueXlsZW5nID0gdGhpcy55eXRleHQubGVuZ3RoO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sIFwidW5wdXRcIiksXG4gICAgICAvLyBXaGVuIGNhbGxlZCBmcm9tIGFjdGlvbiwgY2FjaGVzIG1hdGNoZWQgdGV4dCBhbmQgYXBwZW5kcyBpdCBvbiBuZXh0IGFjdGlvblxuICAgICAgbW9yZTogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fbW9yZSA9IHRydWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfSwgXCJtb3JlXCIpLFxuICAgICAgLy8gV2hlbiBjYWxsZWQgZnJvbSBhY3Rpb24sIHNpZ25hbHMgdGhlIGxleGVyIHRoYXQgdGhpcyBydWxlIGZhaWxzIHRvIG1hdGNoIHRoZSBpbnB1dCwgc28gdGhlIG5leHQgbWF0Y2hpbmcgcnVsZSAocmVnZXgpIHNob3VsZCBiZSB0ZXN0ZWQgaW5zdGVhZC5cbiAgICAgIHJlamVjdDogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5iYWNrdHJhY2tfbGV4ZXIpIHtcbiAgICAgICAgICB0aGlzLl9iYWNrdHJhY2sgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlRXJyb3IoXCJMZXhpY2FsIGVycm9yIG9uIGxpbmUgXCIgKyAodGhpcy55eWxpbmVubyArIDEpICsgXCIuIFlvdSBjYW4gb25seSBpbnZva2UgcmVqZWN0KCkgaW4gdGhlIGxleGVyIHdoZW4gdGhlIGxleGVyIGlzIG9mIHRoZSBiYWNrdHJhY2tpbmcgcGVyc3Vhc2lvbiAob3B0aW9ucy5iYWNrdHJhY2tfbGV4ZXIgPSB0cnVlKS5cXG5cIiArIHRoaXMuc2hvd1Bvc2l0aW9uKCksIHtcbiAgICAgICAgICAgIHRleHQ6IFwiXCIsXG4gICAgICAgICAgICB0b2tlbjogbnVsbCxcbiAgICAgICAgICAgIGxpbmU6IHRoaXMueXlsaW5lbm9cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH0sIFwicmVqZWN0XCIpLFxuICAgICAgLy8gcmV0YWluIGZpcnN0IG4gY2hhcmFjdGVycyBvZiB0aGUgbWF0Y2hcbiAgICAgIGxlc3M6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24obikge1xuICAgICAgICB0aGlzLnVucHV0KHRoaXMubWF0Y2guc2xpY2UobikpO1xuICAgICAgfSwgXCJsZXNzXCIpLFxuICAgICAgLy8gZGlzcGxheXMgYWxyZWFkeSBtYXRjaGVkIGlucHV0LCBpLmUuIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgcGFzdElucHV0OiAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGFzdCA9IHRoaXMubWF0Y2hlZC5zdWJzdHIoMCwgdGhpcy5tYXRjaGVkLmxlbmd0aCAtIHRoaXMubWF0Y2gubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIChwYXN0Lmxlbmd0aCA+IDIwID8gXCIuLi5cIiA6IFwiXCIpICsgcGFzdC5zdWJzdHIoLTIwKS5yZXBsYWNlKC9cXG4vZywgXCJcIik7XG4gICAgICB9LCBcInBhc3RJbnB1dFwiKSxcbiAgICAgIC8vIGRpc3BsYXlzIHVwY29taW5nIGlucHV0LCBpLmUuIGZvciBlcnJvciBtZXNzYWdlc1xuICAgICAgdXBjb21pbmdJbnB1dDogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG5leHQgPSB0aGlzLm1hdGNoO1xuICAgICAgICBpZiAobmV4dC5sZW5ndGggPCAyMCkge1xuICAgICAgICAgIG5leHQgKz0gdGhpcy5faW5wdXQuc3Vic3RyKDAsIDIwIC0gbmV4dC5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAobmV4dC5zdWJzdHIoMCwgMjApICsgKG5leHQubGVuZ3RoID4gMjAgPyBcIi4uLlwiIDogXCJcIikpLnJlcGxhY2UoL1xcbi9nLCBcIlwiKTtcbiAgICAgIH0sIFwidXBjb21pbmdJbnB1dFwiKSxcbiAgICAgIC8vIGRpc3BsYXlzIHRoZSBjaGFyYWN0ZXIgcG9zaXRpb24gd2hlcmUgdGhlIGxleGluZyBlcnJvciBvY2N1cnJlZCwgaS5lLiBmb3IgZXJyb3IgbWVzc2FnZXNcbiAgICAgIHNob3dQb3NpdGlvbjogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHByZSA9IHRoaXMucGFzdElucHV0KCk7XG4gICAgICAgIHZhciBjID0gbmV3IEFycmF5KHByZS5sZW5ndGggKyAxKS5qb2luKFwiLVwiKTtcbiAgICAgICAgcmV0dXJuIHByZSArIHRoaXMudXBjb21pbmdJbnB1dCgpICsgXCJcXG5cIiArIGMgKyBcIl5cIjtcbiAgICAgIH0sIFwic2hvd1Bvc2l0aW9uXCIpLFxuICAgICAgLy8gdGVzdCB0aGUgbGV4ZWQgdG9rZW46IHJldHVybiBGQUxTRSB3aGVuIG5vdCBhIG1hdGNoLCBvdGhlcndpc2UgcmV0dXJuIHRva2VuXG4gICAgICB0ZXN0X21hdGNoOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKG1hdGNoLCBpbmRleGVkX3J1bGUpIHtcbiAgICAgICAgdmFyIHRva2VuLCBsaW5lcywgYmFja3VwO1xuICAgICAgICBpZiAodGhpcy5vcHRpb25zLmJhY2t0cmFja19sZXhlcikge1xuICAgICAgICAgIGJhY2t1cCA9IHtcbiAgICAgICAgICAgIHl5bGluZW5vOiB0aGlzLnl5bGluZW5vLFxuICAgICAgICAgICAgeXlsbG9jOiB7XG4gICAgICAgICAgICAgIGZpcnN0X2xpbmU6IHRoaXMueXlsbG9jLmZpcnN0X2xpbmUsXG4gICAgICAgICAgICAgIGxhc3RfbGluZTogdGhpcy5sYXN0X2xpbmUsXG4gICAgICAgICAgICAgIGZpcnN0X2NvbHVtbjogdGhpcy55eWxsb2MuZmlyc3RfY29sdW1uLFxuICAgICAgICAgICAgICBsYXN0X2NvbHVtbjogdGhpcy55eWxsb2MubGFzdF9jb2x1bW5cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB5eXRleHQ6IHRoaXMueXl0ZXh0LFxuICAgICAgICAgICAgbWF0Y2g6IHRoaXMubWF0Y2gsXG4gICAgICAgICAgICBtYXRjaGVzOiB0aGlzLm1hdGNoZXMsXG4gICAgICAgICAgICBtYXRjaGVkOiB0aGlzLm1hdGNoZWQsXG4gICAgICAgICAgICB5eWxlbmc6IHRoaXMueXlsZW5nLFxuICAgICAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCxcbiAgICAgICAgICAgIF9tb3JlOiB0aGlzLl9tb3JlLFxuICAgICAgICAgICAgX2lucHV0OiB0aGlzLl9pbnB1dCxcbiAgICAgICAgICAgIHl5OiB0aGlzLnl5LFxuICAgICAgICAgICAgY29uZGl0aW9uU3RhY2s6IHRoaXMuY29uZGl0aW9uU3RhY2suc2xpY2UoMCksXG4gICAgICAgICAgICBkb25lOiB0aGlzLmRvbmVcbiAgICAgICAgICB9O1xuICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmFuZ2VzKSB7XG4gICAgICAgICAgICBiYWNrdXAueXlsbG9jLnJhbmdlID0gdGhpcy55eWxsb2MucmFuZ2Uuc2xpY2UoMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxpbmVzID0gbWF0Y2hbMF0ubWF0Y2goLyg/Olxcclxcbj98XFxuKS4qL2cpO1xuICAgICAgICBpZiAobGluZXMpIHtcbiAgICAgICAgICB0aGlzLnl5bGluZW5vICs9IGxpbmVzLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnl5bGxvYyA9IHtcbiAgICAgICAgICBmaXJzdF9saW5lOiB0aGlzLnl5bGxvYy5sYXN0X2xpbmUsXG4gICAgICAgICAgbGFzdF9saW5lOiB0aGlzLnl5bGluZW5vICsgMSxcbiAgICAgICAgICBmaXJzdF9jb2x1bW46IHRoaXMueXlsbG9jLmxhc3RfY29sdW1uLFxuICAgICAgICAgIGxhc3RfY29sdW1uOiBsaW5lcyA/IGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aCAtIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLm1hdGNoKC9cXHI/XFxuPy8pWzBdLmxlbmd0aCA6IHRoaXMueXlsbG9jLmxhc3RfY29sdW1uICsgbWF0Y2hbMF0ubGVuZ3RoXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMueXl0ZXh0ICs9IG1hdGNoWzBdO1xuICAgICAgICB0aGlzLm1hdGNoICs9IG1hdGNoWzBdO1xuICAgICAgICB0aGlzLm1hdGNoZXMgPSBtYXRjaDtcbiAgICAgICAgdGhpcy55eWxlbmcgPSB0aGlzLnl5dGV4dC5sZW5ndGg7XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmFuZ2VzKSB7XG4gICAgICAgICAgdGhpcy55eWxsb2MucmFuZ2UgPSBbdGhpcy5vZmZzZXQsIHRoaXMub2Zmc2V0ICs9IHRoaXMueXlsZW5nXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9tb3JlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2JhY2t0cmFjayA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9pbnB1dCA9IHRoaXMuX2lucHV0LnNsaWNlKG1hdGNoWzBdLmxlbmd0aCk7XG4gICAgICAgIHRoaXMubWF0Y2hlZCArPSBtYXRjaFswXTtcbiAgICAgICAgdG9rZW4gPSB0aGlzLnBlcmZvcm1BY3Rpb24uY2FsbCh0aGlzLCB0aGlzLnl5LCB0aGlzLCBpbmRleGVkX3J1bGUsIHRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGggLSAxXSk7XG4gICAgICAgIGlmICh0aGlzLmRvbmUgJiYgdGhpcy5faW5wdXQpIHtcbiAgICAgICAgICB0aGlzLmRvbmUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5fYmFja3RyYWNrKSB7XG4gICAgICAgICAgZm9yICh2YXIgayBpbiBiYWNrdXApIHtcbiAgICAgICAgICAgIHRoaXNba10gPSBiYWNrdXBba107XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9LCBcInRlc3RfbWF0Y2hcIiksXG4gICAgICAvLyByZXR1cm4gbmV4dCBtYXRjaCBpbiBpbnB1dFxuICAgICAgbmV4dDogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZG9uZSkge1xuICAgICAgICAgIHJldHVybiB0aGlzLkVPRjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2lucHV0KSB7XG4gICAgICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdG9rZW4sIG1hdGNoLCB0ZW1wTWF0Y2gsIGluZGV4O1xuICAgICAgICBpZiAoIXRoaXMuX21vcmUpIHtcbiAgICAgICAgICB0aGlzLnl5dGV4dCA9IFwiXCI7XG4gICAgICAgICAgdGhpcy5tYXRjaCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHJ1bGVzID0gdGhpcy5fY3VycmVudFJ1bGVzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB0ZW1wTWF0Y2ggPSB0aGlzLl9pbnB1dC5tYXRjaCh0aGlzLnJ1bGVzW3J1bGVzW2ldXSk7XG4gICAgICAgICAgaWYgKHRlbXBNYXRjaCAmJiAoIW1hdGNoIHx8IHRlbXBNYXRjaFswXS5sZW5ndGggPiBtYXRjaFswXS5sZW5ndGgpKSB7XG4gICAgICAgICAgICBtYXRjaCA9IHRlbXBNYXRjaDtcbiAgICAgICAgICAgIGluZGV4ID0gaTtcbiAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYmFja3RyYWNrX2xleGVyKSB7XG4gICAgICAgICAgICAgIHRva2VuID0gdGhpcy50ZXN0X21hdGNoKHRlbXBNYXRjaCwgcnVsZXNbaV0pO1xuICAgICAgICAgICAgICBpZiAodG9rZW4gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuX2JhY2t0cmFjaykge1xuICAgICAgICAgICAgICAgIG1hdGNoID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLm9wdGlvbnMuZmxleCkge1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1hdGNoKSB7XG4gICAgICAgICAgdG9rZW4gPSB0aGlzLnRlc3RfbWF0Y2gobWF0Y2gsIHJ1bGVzW2luZGV4XSk7XG4gICAgICAgICAgaWYgKHRva2VuICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2lucHV0ID09PSBcIlwiKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuRU9GO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlRXJyb3IoXCJMZXhpY2FsIGVycm9yIG9uIGxpbmUgXCIgKyAodGhpcy55eWxpbmVubyArIDEpICsgXCIuIFVucmVjb2duaXplZCB0ZXh0LlxcblwiICsgdGhpcy5zaG93UG9zaXRpb24oKSwge1xuICAgICAgICAgICAgdGV4dDogXCJcIixcbiAgICAgICAgICAgIHRva2VuOiBudWxsLFxuICAgICAgICAgICAgbGluZTogdGhpcy55eWxpbmVub1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCBcIm5leHRcIiksXG4gICAgICAvLyByZXR1cm4gbmV4dCBtYXRjaCB0aGF0IGhhcyBhIHRva2VuXG4gICAgICBsZXg6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24gbGV4KCkge1xuICAgICAgICB2YXIgciA9IHRoaXMubmV4dCgpO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmxleCgpO1xuICAgICAgICB9XG4gICAgICB9LCBcImxleFwiKSxcbiAgICAgIC8vIGFjdGl2YXRlcyBhIG5ldyBsZXhlciBjb25kaXRpb24gc3RhdGUgKHB1c2hlcyB0aGUgbmV3IGxleGVyIGNvbmRpdGlvbiBzdGF0ZSBvbnRvIHRoZSBjb25kaXRpb24gc3RhY2spXG4gICAgICBiZWdpbjogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbiBiZWdpbihjb25kaXRpb24pIHtcbiAgICAgICAgdGhpcy5jb25kaXRpb25TdGFjay5wdXNoKGNvbmRpdGlvbik7XG4gICAgICB9LCBcImJlZ2luXCIpLFxuICAgICAgLy8gcG9wIHRoZSBwcmV2aW91c2x5IGFjdGl2ZSBsZXhlciBjb25kaXRpb24gc3RhdGUgb2ZmIHRoZSBjb25kaXRpb24gc3RhY2tcbiAgICAgIHBvcFN0YXRlOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uIHBvcFN0YXRlKCkge1xuICAgICAgICB2YXIgbiA9IHRoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoIC0gMTtcbiAgICAgICAgaWYgKG4gPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2sucG9wKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2tbMF07XG4gICAgICAgIH1cbiAgICAgIH0sIFwicG9wU3RhdGVcIiksXG4gICAgICAvLyBwcm9kdWNlIHRoZSBsZXhlciBydWxlIHNldCB3aGljaCBpcyBhY3RpdmUgZm9yIHRoZSBjdXJyZW50bHkgYWN0aXZlIGxleGVyIGNvbmRpdGlvbiBzdGF0ZVxuICAgICAgX2N1cnJlbnRSdWxlczogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbiBfY3VycmVudFJ1bGVzKCkge1xuICAgICAgICBpZiAodGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGggJiYgdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aCAtIDFdKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uc1t0aGlzLmNvbmRpdGlvblN0YWNrW3RoaXMuY29uZGl0aW9uU3RhY2subGVuZ3RoIC0gMV1dLnJ1bGVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvbnNbXCJJTklUSUFMXCJdLnJ1bGVzO1xuICAgICAgICB9XG4gICAgICB9LCBcIl9jdXJyZW50UnVsZXNcIiksXG4gICAgICAvLyByZXR1cm4gdGhlIGN1cnJlbnRseSBhY3RpdmUgbGV4ZXIgY29uZGl0aW9uIHN0YXRlOyB3aGVuIGFuIGluZGV4IGFyZ3VtZW50IGlzIHByb3ZpZGVkIGl0IHByb2R1Y2VzIHRoZSBOLXRoIHByZXZpb3VzIGNvbmRpdGlvbiBzdGF0ZSwgaWYgYXZhaWxhYmxlXG4gICAgICB0b3BTdGF0ZTogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbiB0b3BTdGF0ZShuKSB7XG4gICAgICAgIG4gPSB0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aCAtIDEgLSBNYXRoLmFicyhuIHx8IDApO1xuICAgICAgICBpZiAobiA+PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuY29uZGl0aW9uU3RhY2tbbl07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIFwiSU5JVElBTFwiO1xuICAgICAgICB9XG4gICAgICB9LCBcInRvcFN0YXRlXCIpLFxuICAgICAgLy8gYWxpYXMgZm9yIGJlZ2luKGNvbmRpdGlvbilcbiAgICAgIHB1c2hTdGF0ZTogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbiBwdXNoU3RhdGUoY29uZGl0aW9uKSB7XG4gICAgICAgIHRoaXMuYmVnaW4oY29uZGl0aW9uKTtcbiAgICAgIH0sIFwicHVzaFN0YXRlXCIpLFxuICAgICAgLy8gcmV0dXJuIHRoZSBudW1iZXIgb2Ygc3RhdGVzIGN1cnJlbnRseSBvbiB0aGUgc3RhY2tcbiAgICAgIHN0YXRlU3RhY2tTaXplOiAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uIHN0YXRlU3RhY2tTaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGg7XG4gICAgICB9LCBcInN0YXRlU3RhY2tTaXplXCIpLFxuICAgICAgb3B0aW9uczogeyBcImNhc2UtaW5zZW5zaXRpdmVcIjogdHJ1ZSB9LFxuICAgICAgcGVyZm9ybUFjdGlvbjogLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbiBhbm9ueW1vdXMoeXksIHl5XywgJGF2b2lkaW5nX25hbWVfY29sbGlzaW9ucywgWVlfU1RBUlQpIHtcbiAgICAgICAgdmFyIFlZU1RBVEUgPSBZWV9TVEFSVDtcbiAgICAgICAgc3dpdGNoICgkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zKSB7XG4gICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgcmV0dXJuIDQxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgcmV0dXJuIDQ4O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIDQ5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIDUwO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgcmV0dXJuIDUxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA3OlxuICAgICAgICAgICAgcmV0dXJuIDU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDg6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDk6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDEwOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMTpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTI6XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShcIlNDQUxFXCIpO1xuICAgICAgICAgICAgcmV0dXJuIDE3O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxMzpcbiAgICAgICAgICAgIHJldHVybiAxODtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDE1OlxuICAgICAgICAgICAgdGhpcy5iZWdpbihcImFjY190aXRsZVwiKTtcbiAgICAgICAgICAgIHJldHVybiAzMztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTY6XG4gICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gXCJhY2NfdGl0bGVfdmFsdWVcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMTc6XG4gICAgICAgICAgICB0aGlzLmJlZ2luKFwiYWNjX2Rlc2NyXCIpO1xuICAgICAgICAgICAgcmV0dXJuIDM1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxODpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBcImFjY19kZXNjcl92YWx1ZVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAxOTpcbiAgICAgICAgICAgIHRoaXMuYmVnaW4oXCJhY2NfZGVzY3JfbXVsdGlsaW5lXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjE6XG4gICAgICAgICAgICByZXR1cm4gXCJhY2NfZGVzY3JfbXVsdGlsaW5lX3ZhbHVlXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDIyOlxuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGUoXCJDTEFTU0RFRlwiKTtcbiAgICAgICAgICAgIHJldHVybiAzODtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjM6XG4gICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShcIkNMQVNTREVGSURcIik7XG4gICAgICAgICAgICByZXR1cm4gXCJERUZBVUxUX0NMQVNTREVGX0lEXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI0OlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGUoXCJDTEFTU0RFRklEXCIpO1xuICAgICAgICAgICAgcmV0dXJuIDM5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyNTpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiA0MDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMjY6XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShcIkNMQVNTXCIpO1xuICAgICAgICAgICAgcmV0dXJuIDQ1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyNzpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKFwiQ0xBU1NfU1RZTEVcIik7XG4gICAgICAgICAgICByZXR1cm4gNDY7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDI4OlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIDQ3O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAyOTpcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKFwiU1RZTEVcIik7XG4gICAgICAgICAgICByZXR1cm4gNDI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDMwOlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGUoXCJTVFlMRURFRl9TVFlMRVNcIik7XG4gICAgICAgICAgICByZXR1cm4gNDM7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDMxOlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIDQ0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzMjpcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKFwiU0NBTEVcIik7XG4gICAgICAgICAgICByZXR1cm4gMTc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDMzOlxuICAgICAgICAgICAgcmV0dXJuIDE4O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzNDpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzU6XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShcIlNUQVRFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzNjpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIHl5Xy55eXRleHQgPSB5eV8ueXl0ZXh0LnNsaWNlKDAsIC04KS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gMjU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDM3OlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgeXlfLnl5dGV4dCA9IHl5Xy55eXRleHQuc2xpY2UoMCwgLTgpLnRyaW0oKTtcbiAgICAgICAgICAgIHJldHVybiAyNjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICB5eV8ueXl0ZXh0ID0geXlfLnl5dGV4dC5zbGljZSgwLCAtMTApLnRyaW0oKTtcbiAgICAgICAgICAgIHJldHVybiAyNztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgMzk6XG4gICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICB5eV8ueXl0ZXh0ID0geXlfLnl5dGV4dC5zbGljZSgwLCAtOCkudHJpbSgpO1xuICAgICAgICAgICAgcmV0dXJuIDI1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIHl5Xy55eXRleHQgPSB5eV8ueXl0ZXh0LnNsaWNlKDAsIC04KS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gMjY7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQxOlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgeXlfLnl5dGV4dCA9IHl5Xy55eXRleHQuc2xpY2UoMCwgLTEwKS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gMjc7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQyOlxuICAgICAgICAgICAgcmV0dXJuIDQ4O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0MzpcbiAgICAgICAgICAgIHJldHVybiA0OTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNDQ6XG4gICAgICAgICAgICByZXR1cm4gNTA7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQ1OlxuICAgICAgICAgICAgcmV0dXJuIDUxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0NjpcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKFwiU1RBVEVfU1RSSU5HXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0NzpcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKFwiU1RBVEVfSURcIik7XG4gICAgICAgICAgICByZXR1cm4gXCJBU1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA0ODpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIHJldHVybiBcIklEXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDQ5OlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA1MDpcbiAgICAgICAgICAgIHJldHVybiBcIlNUQVRFX0RFU0NSXCI7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDUxOlxuICAgICAgICAgICAgcmV0dXJuIDE5O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA1MjpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNTM6XG4gICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShcInN0cnVjdFwiKTtcbiAgICAgICAgICAgIHJldHVybiAyMDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNTQ6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDU1OlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuIDIxO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA1NjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNTc6XG4gICAgICAgICAgICB0aGlzLmJlZ2luKFwiTk9URVwiKTtcbiAgICAgICAgICAgIHJldHVybiAyOTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNTg6XG4gICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShcIk5PVEVfSURcIik7XG4gICAgICAgICAgICByZXR1cm4gNTY7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDU5OlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgdGhpcy5wdXNoU3RhdGUoXCJOT1RFX0lEXCIpO1xuICAgICAgICAgICAgcmV0dXJuIDU3O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA2MDpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKFwiRkxPQVRJTkdfTk9URVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNjE6XG4gICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICB0aGlzLnB1c2hTdGF0ZShcIkZMT0FUSU5HX05PVEVfSURcIik7XG4gICAgICAgICAgICByZXR1cm4gXCJBU1wiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA2MjpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNjM6XG4gICAgICAgICAgICByZXR1cm4gXCJOT1RFX1RFWFRcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNjQ6XG4gICAgICAgICAgICB0aGlzLnBvcFN0YXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gXCJJRFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA2NTpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIHRoaXMucHVzaFN0YXRlKFwiTk9URV9URVhUXCIpO1xuICAgICAgICAgICAgcmV0dXJuIDI0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA2NjpcbiAgICAgICAgICAgIHRoaXMucG9wU3RhdGUoKTtcbiAgICAgICAgICAgIHl5Xy55eXRleHQgPSB5eV8ueXl0ZXh0LnN1YnN0cigyKS50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gMzE7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDY3OlxuICAgICAgICAgICAgdGhpcy5wb3BTdGF0ZSgpO1xuICAgICAgICAgICAgeXlfLnl5dGV4dCA9IHl5Xy55eXRleHQuc2xpY2UoMCwgLTgpLnRyaW0oKTtcbiAgICAgICAgICAgIHJldHVybiAzMTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNjg6XG4gICAgICAgICAgICByZXR1cm4gNjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNjk6XG4gICAgICAgICAgICByZXR1cm4gNjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNzA6XG4gICAgICAgICAgICByZXR1cm4gMTY7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDcxOlxuICAgICAgICAgICAgcmV0dXJuIDU0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA3MjpcbiAgICAgICAgICAgIHJldHVybiAyNDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNzM6XG4gICAgICAgICAgICB5eV8ueXl0ZXh0ID0geXlfLnl5dGV4dC50cmltKCk7XG4gICAgICAgICAgICByZXR1cm4gMTQ7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDc0OlxuICAgICAgICAgICAgcmV0dXJuIDE1O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSA3NTpcbiAgICAgICAgICAgIHJldHVybiAyODtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgNzY6XG4gICAgICAgICAgICByZXR1cm4gNTU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDc3OlxuICAgICAgICAgICAgcmV0dXJuIDU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIDc4OlxuICAgICAgICAgICAgcmV0dXJuIFwiSU5WQUxJRFwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH0sIFwiYW5vbnltb3VzXCIpLFxuICAgICAgcnVsZXM6IFsvXig/OmRlZmF1bHRcXGIpL2ksIC9eKD86LipkaXJlY3Rpb25cXHMrVEJbXlxcbl0qKS9pLCAvXig/Oi4qZGlyZWN0aW9uXFxzK0JUW15cXG5dKikvaSwgL14oPzouKmRpcmVjdGlvblxccytSTFteXFxuXSopL2ksIC9eKD86LipkaXJlY3Rpb25cXHMrTFJbXlxcbl0qKS9pLCAvXig/OiUlKD8hXFx7KVteXFxuXSopL2ksIC9eKD86W15cXH1dJSVbXlxcbl0qKS9pLCAvXig/OltcXG5dKykvaSwgL14oPzpbXFxzXSspL2ksIC9eKD86KCg/IVxcbilcXHMpKykvaSwgL14oPzojW15cXG5dKikvaSwgL14oPzolW15cXG5dKikvaSwgL14oPzpzY2FsZVxccyspL2ksIC9eKD86XFxkKykvaSwgL14oPzpcXHMrd2lkdGhcXGIpL2ksIC9eKD86YWNjVGl0bGVcXHMqOlxccyopL2ksIC9eKD86KD8hXFxufHwpKlteXFxuXSopL2ksIC9eKD86YWNjRGVzY3JcXHMqOlxccyopL2ksIC9eKD86KD8hXFxufHwpKlteXFxuXSopL2ksIC9eKD86YWNjRGVzY3JcXHMqXFx7XFxzKikvaSwgL14oPzpbXFx9XSkvaSwgL14oPzpbXlxcfV0qKS9pLCAvXig/OmNsYXNzRGVmXFxzKykvaSwgL14oPzpERUZBVUxUXFxzKykvaSwgL14oPzpcXHcrXFxzKykvaSwgL14oPzpbXlxcbl0qKS9pLCAvXig/OmNsYXNzXFxzKykvaSwgL14oPzooXFx3KykrKCgsXFxzKlxcdyspKikpL2ksIC9eKD86W15cXG5dKikvaSwgL14oPzpzdHlsZVxccyspL2ksIC9eKD86W1xcdyxdK1xccyspL2ksIC9eKD86W15cXG5dKikvaSwgL14oPzpzY2FsZVxccyspL2ksIC9eKD86XFxkKykvaSwgL14oPzpcXHMrd2lkdGhcXGIpL2ksIC9eKD86c3RhdGVcXHMrKS9pLCAvXig/Oi4qPDxmb3JrPj4pL2ksIC9eKD86Lio8PGpvaW4+PikvaSwgL14oPzouKjw8Y2hvaWNlPj4pL2ksIC9eKD86LipcXFtcXFtmb3JrXFxdXFxdKS9pLCAvXig/Oi4qXFxbXFxbam9pblxcXVxcXSkvaSwgL14oPzouKlxcW1xcW2Nob2ljZVxcXVxcXSkvaSwgL14oPzouKmRpcmVjdGlvblxccytUQlteXFxuXSopL2ksIC9eKD86LipkaXJlY3Rpb25cXHMrQlRbXlxcbl0qKS9pLCAvXig/Oi4qZGlyZWN0aW9uXFxzK1JMW15cXG5dKikvaSwgL14oPzouKmRpcmVjdGlvblxccytMUlteXFxuXSopL2ksIC9eKD86W1wiXSkvaSwgL14oPzpcXHMqYXNcXHMrKS9pLCAvXig/OlteXFxuXFx7XSopL2ksIC9eKD86W1wiXSkvaSwgL14oPzpbXlwiXSopL2ksIC9eKD86W15cXG5cXHNcXHtdKykvaSwgL14oPzpcXG4pL2ksIC9eKD86XFx7KS9pLCAvXig/OiUlKD8hXFx7KVteXFxuXSopL2ksIC9eKD86XFx9KS9pLCAvXig/OltcXG5dKS9pLCAvXig/Om5vdGVcXHMrKS9pLCAvXig/OmxlZnQgb2ZcXGIpL2ksIC9eKD86cmlnaHQgb2ZcXGIpL2ksIC9eKD86XCIpL2ksIC9eKD86XFxzKmFzXFxzKikvaSwgL14oPzpbXCJdKS9pLCAvXig/OlteXCJdKikvaSwgL14oPzpbXlxcbl0qKS9pLCAvXig/OlxccypbXjpcXG5cXHNcXC1dKykvaSwgL14oPzpcXHMqOlteOlxcbjtdKykvaSwgL14oPzpbXFxzXFxTXSo/ZW5kIG5vdGVcXGIpL2ksIC9eKD86c3RhdGVEaWFncmFtXFxzKykvaSwgL14oPzpzdGF0ZURpYWdyYW0tdjJcXHMrKS9pLCAvXig/OmhpZGUgZW1wdHkgZGVzY3JpcHRpb25cXGIpL2ksIC9eKD86XFxbXFwqXFxdKS9pLCAvXig/OlteOlxcblxcc1xcLVxce10rKS9pLCAvXig/Olxccyo6W146XFxuO10rKS9pLCAvXig/Oi0tPikvaSwgL14oPzotLSkvaSwgL14oPzo6OjopL2ksIC9eKD86JCkvaSwgL14oPzouKS9pXSxcbiAgICAgIGNvbmRpdGlvbnM6IHsgXCJMSU5FXCI6IHsgXCJydWxlc1wiOiBbOSwgMTBdLCBcImluY2x1c2l2ZVwiOiBmYWxzZSB9LCBcInN0cnVjdFwiOiB7IFwicnVsZXNcIjogWzksIDEwLCAyMiwgMjYsIDI5LCAzNSwgNDIsIDQzLCA0NCwgNDUsIDU0LCA1NSwgNTYsIDU3LCA3MSwgNzIsIDczLCA3NCwgNzVdLCBcImluY2x1c2l2ZVwiOiBmYWxzZSB9LCBcIkZMT0FUSU5HX05PVEVfSURcIjogeyBcInJ1bGVzXCI6IFs2NF0sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiRkxPQVRJTkdfTk9URVwiOiB7IFwicnVsZXNcIjogWzYxLCA2MiwgNjNdLCBcImluY2x1c2l2ZVwiOiBmYWxzZSB9LCBcIk5PVEVfVEVYVFwiOiB7IFwicnVsZXNcIjogWzY2LCA2N10sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiTk9URV9JRFwiOiB7IFwicnVsZXNcIjogWzY1XSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJOT1RFXCI6IHsgXCJydWxlc1wiOiBbNTgsIDU5LCA2MF0sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiU1RZTEVERUZfU1RZTEVPUFRTXCI6IHsgXCJydWxlc1wiOiBbXSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJTVFlMRURFRl9TVFlMRVNcIjogeyBcInJ1bGVzXCI6IFszMV0sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiU1RZTEVfSURTXCI6IHsgXCJydWxlc1wiOiBbXSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJTVFlMRVwiOiB7IFwicnVsZXNcIjogWzMwXSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJDTEFTU19TVFlMRVwiOiB7IFwicnVsZXNcIjogWzI4XSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJDTEFTU1wiOiB7IFwicnVsZXNcIjogWzI3XSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJDTEFTU0RFRklEXCI6IHsgXCJydWxlc1wiOiBbMjVdLCBcImluY2x1c2l2ZVwiOiBmYWxzZSB9LCBcIkNMQVNTREVGXCI6IHsgXCJydWxlc1wiOiBbMjMsIDI0XSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJhY2NfZGVzY3JfbXVsdGlsaW5lXCI6IHsgXCJydWxlc1wiOiBbMjAsIDIxXSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJhY2NfZGVzY3JcIjogeyBcInJ1bGVzXCI6IFsxOF0sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiYWNjX3RpdGxlXCI6IHsgXCJydWxlc1wiOiBbMTZdLCBcImluY2x1c2l2ZVwiOiBmYWxzZSB9LCBcIlNDQUxFXCI6IHsgXCJydWxlc1wiOiBbMTMsIDE0LCAzMywgMzRdLCBcImluY2x1c2l2ZVwiOiBmYWxzZSB9LCBcIkFMSUFTXCI6IHsgXCJydWxlc1wiOiBbXSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJTVEFURV9JRFwiOiB7IFwicnVsZXNcIjogWzQ4XSwgXCJpbmNsdXNpdmVcIjogZmFsc2UgfSwgXCJTVEFURV9TVFJJTkdcIjogeyBcInJ1bGVzXCI6IFs0OSwgNTBdLCBcImluY2x1c2l2ZVwiOiBmYWxzZSB9LCBcIkZPUktfU1RBVEVcIjogeyBcInJ1bGVzXCI6IFtdLCBcImluY2x1c2l2ZVwiOiBmYWxzZSB9LCBcIlNUQVRFXCI6IHsgXCJydWxlc1wiOiBbOSwgMTAsIDM2LCAzNywgMzgsIDM5LCA0MCwgNDEsIDQ2LCA0NywgNTEsIDUyLCA1M10sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiSURcIjogeyBcInJ1bGVzXCI6IFs5LCAxMF0sIFwiaW5jbHVzaXZlXCI6IGZhbHNlIH0sIFwiSU5JVElBTFwiOiB7IFwicnVsZXNcIjogWzAsIDEsIDIsIDMsIDQsIDUsIDYsIDcsIDgsIDEwLCAxMSwgMTIsIDE1LCAxNywgMTksIDIyLCAyNiwgMjksIDMyLCAzNSwgNTMsIDU3LCA2OCwgNjksIDcwLCA3MSwgNzIsIDczLCA3NCwgNzYsIDc3LCA3OF0sIFwiaW5jbHVzaXZlXCI6IHRydWUgfSB9XG4gICAgfTtcbiAgICByZXR1cm4gbGV4ZXIyO1xuICB9KCk7XG4gIHBhcnNlcjIubGV4ZXIgPSBsZXhlcjtcbiAgZnVuY3Rpb24gUGFyc2VyKCkge1xuICAgIHRoaXMueXkgPSB7fTtcbiAgfVxuICBfX25hbWUoUGFyc2VyLCBcIlBhcnNlclwiKTtcbiAgUGFyc2VyLnByb3RvdHlwZSA9IHBhcnNlcjI7XG4gIHBhcnNlcjIuUGFyc2VyID0gUGFyc2VyO1xuICByZXR1cm4gbmV3IFBhcnNlcigpO1xufSgpO1xucGFyc2VyLnBhcnNlciA9IHBhcnNlcjtcbnZhciBzdGF0ZURpYWdyYW1fZGVmYXVsdCA9IHBhcnNlcjtcblxuLy8gc3JjL2RpYWdyYW1zL3N0YXRlL3N0YXRlQ29tbW9uLnRzXG52YXIgREVGQVVMVF9ESUFHUkFNX0RJUkVDVElPTiA9IFwiTFJcIjtcbnZhciBERUZBVUxUX05FU1RFRF9ET0NfRElSID0gXCJUQlwiO1xudmFyIFNUTVRfU1RBVEUgPSBcInN0YXRlXCI7XG52YXIgU1RNVF9SRUxBVElPTiA9IFwicmVsYXRpb25cIjtcbnZhciBTVE1UX0NMQVNTREVGID0gXCJjbGFzc0RlZlwiO1xudmFyIFNUTVRfU1RZTEVERUYgPSBcInN0eWxlXCI7XG52YXIgU1RNVF9BUFBMWUNMQVNTID0gXCJhcHBseUNsYXNzXCI7XG52YXIgREVGQVVMVF9TVEFURV9UWVBFID0gXCJkZWZhdWx0XCI7XG52YXIgRElWSURFUl9UWVBFID0gXCJkaXZpZGVyXCI7XG52YXIgR19FREdFX1NUWUxFID0gXCJmaWxsOm5vbmVcIjtcbnZhciBHX0VER0VfQVJST1dIRUFEU1RZTEUgPSBcImZpbGw6ICMzMzNcIjtcbnZhciBHX0VER0VfTEFCRUxQT1MgPSBcImNcIjtcbnZhciBHX0VER0VfTEFCRUxUWVBFID0gXCJ0ZXh0XCI7XG52YXIgR19FREdFX1RISUNLTkVTUyA9IFwibm9ybWFsXCI7XG52YXIgU0hBUEVfU1RBVEUgPSBcInJlY3RcIjtcbnZhciBTSEFQRV9TVEFURV9XSVRIX0RFU0MgPSBcInJlY3RXaXRoVGl0bGVcIjtcbnZhciBTSEFQRV9TVEFSVCA9IFwic3RhdGVTdGFydFwiO1xudmFyIFNIQVBFX0VORCA9IFwic3RhdGVFbmRcIjtcbnZhciBTSEFQRV9ESVZJREVSID0gXCJkaXZpZGVyXCI7XG52YXIgU0hBUEVfR1JPVVAgPSBcInJvdW5kZWRXaXRoVGl0bGVcIjtcbnZhciBTSEFQRV9OT1RFID0gXCJub3RlXCI7XG52YXIgU0hBUEVfTk9URUdST1VQID0gXCJub3RlR3JvdXBcIjtcbnZhciBDU1NfRElBR1JBTSA9IFwic3RhdGVkaWFncmFtXCI7XG52YXIgQ1NTX1NUQVRFID0gXCJzdGF0ZVwiO1xudmFyIENTU19ESUFHUkFNX1NUQVRFID0gYCR7Q1NTX0RJQUdSQU19LSR7Q1NTX1NUQVRFfWA7XG52YXIgQ1NTX0VER0UgPSBcInRyYW5zaXRpb25cIjtcbnZhciBDU1NfTk9URSA9IFwibm90ZVwiO1xudmFyIENTU19OT1RFX0VER0UgPSBcIm5vdGUtZWRnZVwiO1xudmFyIENTU19FREdFX05PVEVfRURHRSA9IGAke0NTU19FREdFfSAke0NTU19OT1RFX0VER0V9YDtcbnZhciBDU1NfRElBR1JBTV9OT1RFID0gYCR7Q1NTX0RJQUdSQU19LSR7Q1NTX05PVEV9YDtcbnZhciBDU1NfQ0xVU1RFUiA9IFwiY2x1c3RlclwiO1xudmFyIENTU19ESUFHUkFNX0NMVVNURVIgPSBgJHtDU1NfRElBR1JBTX0tJHtDU1NfQ0xVU1RFUn1gO1xudmFyIENTU19DTFVTVEVSX0FMVCA9IFwiY2x1c3Rlci1hbHRcIjtcbnZhciBDU1NfRElBR1JBTV9DTFVTVEVSX0FMVCA9IGAke0NTU19ESUFHUkFNfS0ke0NTU19DTFVTVEVSX0FMVH1gO1xudmFyIFBBUkVOVCA9IFwicGFyZW50XCI7XG52YXIgTk9URSA9IFwibm90ZVwiO1xudmFyIERPTUlEX1NUQVRFID0gXCJzdGF0ZVwiO1xudmFyIERPTUlEX1RZUEVfU1BBQ0VSID0gXCItLS0tXCI7XG52YXIgTk9URV9JRCA9IGAke0RPTUlEX1RZUEVfU1BBQ0VSfSR7Tk9URX1gO1xudmFyIFBBUkVOVF9JRCA9IGAke0RPTUlEX1RZUEVfU1BBQ0VSfSR7UEFSRU5UfWA7XG5cbi8vIHNyYy9kaWFncmFtcy9zdGF0ZS9zdGF0ZVJlbmRlcmVyLXYzLXVuaWZpZWQudHNcbnZhciBnZXREaXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChwYXJzZWRJdGVtLCBkZWZhdWx0RGlyID0gREVGQVVMVF9ORVNURURfRE9DX0RJUikgPT4ge1xuICBpZiAoIXBhcnNlZEl0ZW0uZG9jKSB7XG4gICAgcmV0dXJuIGRlZmF1bHREaXI7XG4gIH1cbiAgbGV0IGRpciA9IGRlZmF1bHREaXI7XG4gIGZvciAoY29uc3QgcGFyc2VkSXRlbURvYyBvZiBwYXJzZWRJdGVtLmRvYykge1xuICAgIGlmIChwYXJzZWRJdGVtRG9jLnN0bXQgPT09IFwiZGlyXCIpIHtcbiAgICAgIGRpciA9IHBhcnNlZEl0ZW1Eb2MudmFsdWU7XG4gICAgfVxuICB9XG4gIHJldHVybiBkaXI7XG59LCBcImdldERpclwiKTtcbnZhciBnZXRDbGFzc2VzID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbih0ZXh0LCBkaWFncmFtT2JqKSB7XG4gIGRpYWdyYW1PYmouZGIuZXh0cmFjdChkaWFncmFtT2JqLmRiLmdldFJvb3REb2NWMigpKTtcbiAgcmV0dXJuIGRpYWdyYW1PYmouZGIuZ2V0Q2xhc3NlcygpO1xufSwgXCJnZXRDbGFzc2VzXCIpO1xudmFyIGRyYXcgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGFzeW5jIGZ1bmN0aW9uKHRleHQsIGlkLCBfdmVyc2lvbiwgZGlhZykge1xuICBsb2cuaW5mbyhcIlJFRjA6XCIpO1xuICBsb2cuaW5mbyhcIkRyYXdpbmcgc3RhdGUgZGlhZ3JhbSAodjIpXCIsIGlkKTtcbiAgY29uc3QgeyBzZWN1cml0eUxldmVsLCBzdGF0ZTogY29uZiwgbGF5b3V0IH0gPSBnZXRDb25maWcoKTtcbiAgZGlhZy5kYi5leHRyYWN0KGRpYWcuZGIuZ2V0Um9vdERvY1YyKCkpO1xuICBjb25zdCBkYXRhNExheW91dCA9IGRpYWcuZGIuZ2V0RGF0YSgpO1xuICBjb25zdCBzdmcgPSBnZXREaWFncmFtRWxlbWVudChpZCwgc2VjdXJpdHlMZXZlbCk7XG4gIGRhdGE0TGF5b3V0LnR5cGUgPSBkaWFnLnR5cGU7XG4gIGRhdGE0TGF5b3V0LmxheW91dEFsZ29yaXRobSA9IGxheW91dDtcbiAgZGF0YTRMYXlvdXQubm9kZVNwYWNpbmcgPSBjb25mPy5ub2RlU3BhY2luZyB8fCA1MDtcbiAgZGF0YTRMYXlvdXQucmFua1NwYWNpbmcgPSBjb25mPy5yYW5rU3BhY2luZyB8fCA1MDtcbiAgZGF0YTRMYXlvdXQubWFya2VycyA9IFtcImJhcmJcIl07XG4gIGRhdGE0TGF5b3V0LmRpYWdyYW1JZCA9IGlkO1xuICBhd2FpdCByZW5kZXIoZGF0YTRMYXlvdXQsIHN2Zyk7XG4gIGNvbnN0IHBhZGRpbmcgPSA4O1xuICB1dGlsc19kZWZhdWx0Lmluc2VydFRpdGxlKFxuICAgIHN2ZyxcbiAgICBcInN0YXRlZGlhZ3JhbVRpdGxlVGV4dFwiLFxuICAgIGNvbmY/LnRpdGxlVG9wTWFyZ2luID8/IDI1LFxuICAgIGRpYWcuZGIuZ2V0RGlhZ3JhbVRpdGxlKClcbiAgKTtcbiAgc2V0dXBWaWV3UG9ydEZvclNWRyhzdmcsIHBhZGRpbmcsIENTU19ESUFHUkFNLCBjb25mPy51c2VNYXhXaWR0aCA/PyB0cnVlKTtcbn0sIFwiZHJhd1wiKTtcbnZhciBzdGF0ZVJlbmRlcmVyX3YzX3VuaWZpZWRfZGVmYXVsdCA9IHtcbiAgZ2V0Q2xhc3NlcyxcbiAgZHJhdyxcbiAgZ2V0RGlyXG59O1xuXG4vLyBzcmMvZGlhZ3JhbXMvc3RhdGUvZGF0YUZldGNoZXIuanNcbnZhciBub2RlRGIgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xudmFyIGdyYXBoSXRlbUNvdW50ID0gMDtcbmZ1bmN0aW9uIHN0YXRlRG9tSWQoaXRlbUlkID0gXCJcIiwgY291bnRlciA9IDAsIHR5cGUgPSBcIlwiLCB0eXBlU3BhY2VyID0gRE9NSURfVFlQRV9TUEFDRVIpIHtcbiAgY29uc3QgdHlwZVN0ciA9IHR5cGUgIT09IG51bGwgJiYgdHlwZS5sZW5ndGggPiAwID8gYCR7dHlwZVNwYWNlcn0ke3R5cGV9YCA6IFwiXCI7XG4gIHJldHVybiBgJHtET01JRF9TVEFURX0tJHtpdGVtSWR9JHt0eXBlU3RyfS0ke2NvdW50ZXJ9YDtcbn1cbl9fbmFtZShzdGF0ZURvbUlkLCBcInN0YXRlRG9tSWRcIik7XG52YXIgc2V0dXBEb2MgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChwYXJlbnRQYXJzZWRJdGVtLCBkb2MsIGRpYWdyYW1TdGF0ZXMsIG5vZGVzMiwgZWRnZXMyLCBhbHRGbGFnLCBsb29rLCBjbGFzc2VzMikgPT4ge1xuICBsb2cudHJhY2UoXCJpdGVtc1wiLCBkb2MpO1xuICBkb2MuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIHN3aXRjaCAoaXRlbS5zdG10KSB7XG4gICAgICBjYXNlIFNUTVRfU1RBVEU6XG4gICAgICAgIGRhdGFGZXRjaGVyKHBhcmVudFBhcnNlZEl0ZW0sIGl0ZW0sIGRpYWdyYW1TdGF0ZXMsIG5vZGVzMiwgZWRnZXMyLCBhbHRGbGFnLCBsb29rLCBjbGFzc2VzMik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBERUZBVUxUX1NUQVRFX1RZUEU6XG4gICAgICAgIGRhdGFGZXRjaGVyKHBhcmVudFBhcnNlZEl0ZW0sIGl0ZW0sIGRpYWdyYW1TdGF0ZXMsIG5vZGVzMiwgZWRnZXMyLCBhbHRGbGFnLCBsb29rLCBjbGFzc2VzMik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTVE1UX1JFTEFUSU9OOlxuICAgICAgICB7XG4gICAgICAgICAgZGF0YUZldGNoZXIoXG4gICAgICAgICAgICBwYXJlbnRQYXJzZWRJdGVtLFxuICAgICAgICAgICAgaXRlbS5zdGF0ZTEsXG4gICAgICAgICAgICBkaWFncmFtU3RhdGVzLFxuICAgICAgICAgICAgbm9kZXMyLFxuICAgICAgICAgICAgZWRnZXMyLFxuICAgICAgICAgICAgYWx0RmxhZyxcbiAgICAgICAgICAgIGxvb2ssXG4gICAgICAgICAgICBjbGFzc2VzMlxuICAgICAgICAgICk7XG4gICAgICAgICAgZGF0YUZldGNoZXIoXG4gICAgICAgICAgICBwYXJlbnRQYXJzZWRJdGVtLFxuICAgICAgICAgICAgaXRlbS5zdGF0ZTIsXG4gICAgICAgICAgICBkaWFncmFtU3RhdGVzLFxuICAgICAgICAgICAgbm9kZXMyLFxuICAgICAgICAgICAgZWRnZXMyLFxuICAgICAgICAgICAgYWx0RmxhZyxcbiAgICAgICAgICAgIGxvb2ssXG4gICAgICAgICAgICBjbGFzc2VzMlxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgZWRnZURhdGEgPSB7XG4gICAgICAgICAgICBpZDogXCJlZGdlXCIgKyBncmFwaEl0ZW1Db3VudCxcbiAgICAgICAgICAgIHN0YXJ0OiBpdGVtLnN0YXRlMS5pZCxcbiAgICAgICAgICAgIGVuZDogaXRlbS5zdGF0ZTIuaWQsXG4gICAgICAgICAgICBhcnJvd2hlYWQ6IFwibm9ybWFsXCIsXG4gICAgICAgICAgICBhcnJvd1R5cGVFbmQ6IFwiYXJyb3dfYmFyYlwiLFxuICAgICAgICAgICAgc3R5bGU6IEdfRURHRV9TVFlMRSxcbiAgICAgICAgICAgIGxhYmVsU3R5bGU6IFwiXCIsXG4gICAgICAgICAgICBsYWJlbDogY29tbW9uX2RlZmF1bHQuc2FuaXRpemVUZXh0KGl0ZW0uZGVzY3JpcHRpb24sIGdldENvbmZpZygpKSxcbiAgICAgICAgICAgIGFycm93aGVhZFN0eWxlOiBHX0VER0VfQVJST1dIRUFEU1RZTEUsXG4gICAgICAgICAgICBsYWJlbHBvczogR19FREdFX0xBQkVMUE9TLFxuICAgICAgICAgICAgbGFiZWxUeXBlOiBHX0VER0VfTEFCRUxUWVBFLFxuICAgICAgICAgICAgdGhpY2tuZXNzOiBHX0VER0VfVEhJQ0tORVNTLFxuICAgICAgICAgICAgY2xhc3NlczogQ1NTX0VER0UsXG4gICAgICAgICAgICBsb29rXG4gICAgICAgICAgfTtcbiAgICAgICAgICBlZGdlczIucHVzaChlZGdlRGF0YSk7XG4gICAgICAgICAgZ3JhcGhJdGVtQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xufSwgXCJzZXR1cERvY1wiKTtcbnZhciBnZXREaXIyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgocGFyc2VkSXRlbSwgZGVmYXVsdERpciA9IERFRkFVTFRfTkVTVEVEX0RPQ19ESVIpID0+IHtcbiAgbGV0IGRpciA9IGRlZmF1bHREaXI7XG4gIGlmIChwYXJzZWRJdGVtLmRvYykge1xuICAgIGZvciAoY29uc3QgcGFyc2VkSXRlbURvYyBvZiBwYXJzZWRJdGVtLmRvYykge1xuICAgICAgaWYgKHBhcnNlZEl0ZW1Eb2Muc3RtdCA9PT0gXCJkaXJcIikge1xuICAgICAgICBkaXIgPSBwYXJzZWRJdGVtRG9jLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gZGlyO1xufSwgXCJnZXREaXJcIik7XG5mdW5jdGlvbiBpbnNlcnRPclVwZGF0ZU5vZGUobm9kZXMyLCBub2RlRGF0YSwgY2xhc3NlczIpIHtcbiAgaWYgKCFub2RlRGF0YS5pZCB8fCBub2RlRGF0YS5pZCA9PT0gXCI8L2pvaW4+PC9mb3JrPlwiIHx8IG5vZGVEYXRhLmlkID09PSBcIjwvY2hvaWNlPlwiKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChub2RlRGF0YS5jc3NDbGFzc2VzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG5vZGVEYXRhLmNzc0NvbXBpbGVkU3R5bGVzKSkge1xuICAgICAgbm9kZURhdGEuY3NzQ29tcGlsZWRTdHlsZXMgPSBbXTtcbiAgICB9XG4gICAgbm9kZURhdGEuY3NzQ2xhc3Nlcy5zcGxpdChcIiBcIikuZm9yRWFjaCgoY3NzQ2xhc3MpID0+IHtcbiAgICAgIGlmIChjbGFzc2VzMi5nZXQoY3NzQ2xhc3MpKSB7XG4gICAgICAgIGNvbnN0IGNsYXNzRGVmID0gY2xhc3NlczIuZ2V0KGNzc0NsYXNzKTtcbiAgICAgICAgbm9kZURhdGEuY3NzQ29tcGlsZWRTdHlsZXMgPSBbLi4ubm9kZURhdGEuY3NzQ29tcGlsZWRTdHlsZXMsIC4uLmNsYXNzRGVmLnN0eWxlc107XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgY29uc3QgZXhpc3RpbmdOb2RlRGF0YSA9IG5vZGVzMi5maW5kKChub2RlKSA9PiBub2RlLmlkID09PSBub2RlRGF0YS5pZCk7XG4gIGlmIChleGlzdGluZ05vZGVEYXRhKSB7XG4gICAgT2JqZWN0LmFzc2lnbihleGlzdGluZ05vZGVEYXRhLCBub2RlRGF0YSk7XG4gIH0gZWxzZSB7XG4gICAgbm9kZXMyLnB1c2gobm9kZURhdGEpO1xuICB9XG59XG5fX25hbWUoaW5zZXJ0T3JVcGRhdGVOb2RlLCBcImluc2VydE9yVXBkYXRlTm9kZVwiKTtcbmZ1bmN0aW9uIGdldENsYXNzZXNGcm9tRGJJbmZvKGRiSW5mb0l0ZW0pIHtcbiAgcmV0dXJuIGRiSW5mb0l0ZW0/LmNsYXNzZXM/LmpvaW4oXCIgXCIpID8/IFwiXCI7XG59XG5fX25hbWUoZ2V0Q2xhc3Nlc0Zyb21EYkluZm8sIFwiZ2V0Q2xhc3Nlc0Zyb21EYkluZm9cIik7XG5mdW5jdGlvbiBnZXRTdHlsZXNGcm9tRGJJbmZvKGRiSW5mb0l0ZW0pIHtcbiAgcmV0dXJuIGRiSW5mb0l0ZW0/LnN0eWxlcyA/PyBbXTtcbn1cbl9fbmFtZShnZXRTdHlsZXNGcm9tRGJJbmZvLCBcImdldFN0eWxlc0Zyb21EYkluZm9cIik7XG52YXIgZGF0YUZldGNoZXIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChwYXJlbnQsIHBhcnNlZEl0ZW0sIGRpYWdyYW1TdGF0ZXMsIG5vZGVzMiwgZWRnZXMyLCBhbHRGbGFnLCBsb29rLCBjbGFzc2VzMikgPT4ge1xuICBjb25zdCBpdGVtSWQgPSBwYXJzZWRJdGVtLmlkO1xuICBjb25zdCBkYlN0YXRlID0gZGlhZ3JhbVN0YXRlcy5nZXQoaXRlbUlkKTtcbiAgY29uc3QgY2xhc3NTdHIgPSBnZXRDbGFzc2VzRnJvbURiSW5mbyhkYlN0YXRlKTtcbiAgY29uc3Qgc3R5bGUgPSBnZXRTdHlsZXNGcm9tRGJJbmZvKGRiU3RhdGUpO1xuICBsb2cuaW5mbyhcImRhdGFGZXRjaGVyIHBhcnNlZEl0ZW1cIiwgcGFyc2VkSXRlbSwgZGJTdGF0ZSwgc3R5bGUpO1xuICBpZiAoaXRlbUlkICE9PSBcInJvb3RcIikge1xuICAgIGxldCBzaGFwZSA9IFNIQVBFX1NUQVRFO1xuICAgIGlmIChwYXJzZWRJdGVtLnN0YXJ0ID09PSB0cnVlKSB7XG4gICAgICBzaGFwZSA9IFNIQVBFX1NUQVJUO1xuICAgIH0gZWxzZSBpZiAocGFyc2VkSXRlbS5zdGFydCA9PT0gZmFsc2UpIHtcbiAgICAgIHNoYXBlID0gU0hBUEVfRU5EO1xuICAgIH1cbiAgICBpZiAocGFyc2VkSXRlbS50eXBlICE9PSBERUZBVUxUX1NUQVRFX1RZUEUpIHtcbiAgICAgIHNoYXBlID0gcGFyc2VkSXRlbS50eXBlO1xuICAgIH1cbiAgICBpZiAoIW5vZGVEYi5nZXQoaXRlbUlkKSkge1xuICAgICAgbm9kZURiLnNldChpdGVtSWQsIHtcbiAgICAgICAgaWQ6IGl0ZW1JZCxcbiAgICAgICAgc2hhcGUsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBjb21tb25fZGVmYXVsdC5zYW5pdGl6ZVRleHQoaXRlbUlkLCBnZXRDb25maWcoKSksXG4gICAgICAgIGNzc0NsYXNzZXM6IGAke2NsYXNzU3RyfSAke0NTU19ESUFHUkFNX1NUQVRFfWAsXG4gICAgICAgIGNzc1N0eWxlczogc3R5bGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBuZXdOb2RlID0gbm9kZURiLmdldChpdGVtSWQpO1xuICAgIGlmIChwYXJzZWRJdGVtLmRlc2NyaXB0aW9uKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShuZXdOb2RlLmRlc2NyaXB0aW9uKSkge1xuICAgICAgICBuZXdOb2RlLnNoYXBlID0gU0hBUEVfU1RBVEVfV0lUSF9ERVNDO1xuICAgICAgICBuZXdOb2RlLmRlc2NyaXB0aW9uLnB1c2gocGFyc2VkSXRlbS5kZXNjcmlwdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobmV3Tm9kZS5kZXNjcmlwdGlvbj8ubGVuZ3RoID4gMCkge1xuICAgICAgICAgIG5ld05vZGUuc2hhcGUgPSBTSEFQRV9TVEFURV9XSVRIX0RFU0M7XG4gICAgICAgICAgaWYgKG5ld05vZGUuZGVzY3JpcHRpb24gPT09IGl0ZW1JZCkge1xuICAgICAgICAgICAgbmV3Tm9kZS5kZXNjcmlwdGlvbiA9IFtwYXJzZWRJdGVtLmRlc2NyaXB0aW9uXTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3Tm9kZS5kZXNjcmlwdGlvbiA9IFtuZXdOb2RlLmRlc2NyaXB0aW9uLCBwYXJzZWRJdGVtLmRlc2NyaXB0aW9uXTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbmV3Tm9kZS5zaGFwZSA9IFNIQVBFX1NUQVRFO1xuICAgICAgICAgIG5ld05vZGUuZGVzY3JpcHRpb24gPSBwYXJzZWRJdGVtLmRlc2NyaXB0aW9uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBuZXdOb2RlLmRlc2NyaXB0aW9uID0gY29tbW9uX2RlZmF1bHQuc2FuaXRpemVUZXh0T3JBcnJheShuZXdOb2RlLmRlc2NyaXB0aW9uLCBnZXRDb25maWcoKSk7XG4gICAgfVxuICAgIGlmIChuZXdOb2RlLmRlc2NyaXB0aW9uPy5sZW5ndGggPT09IDEgJiYgbmV3Tm9kZS5zaGFwZSA9PT0gU0hBUEVfU1RBVEVfV0lUSF9ERVNDKSB7XG4gICAgICBpZiAobmV3Tm9kZS50eXBlID09PSBcImdyb3VwXCIpIHtcbiAgICAgICAgbmV3Tm9kZS5zaGFwZSA9IFNIQVBFX0dST1VQO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3Tm9kZS5zaGFwZSA9IFNIQVBFX1NUQVRFO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIW5ld05vZGUudHlwZSAmJiBwYXJzZWRJdGVtLmRvYykge1xuICAgICAgbG9nLmluZm8oXCJTZXR0aW5nIGNsdXN0ZXIgZm9yIFhDWFwiLCBpdGVtSWQsIGdldERpcjIocGFyc2VkSXRlbSkpO1xuICAgICAgbmV3Tm9kZS50eXBlID0gXCJncm91cFwiO1xuICAgICAgbmV3Tm9kZS5pc0dyb3VwID0gdHJ1ZTtcbiAgICAgIG5ld05vZGUuZGlyID0gZ2V0RGlyMihwYXJzZWRJdGVtKTtcbiAgICAgIG5ld05vZGUuc2hhcGUgPSBwYXJzZWRJdGVtLnR5cGUgPT09IERJVklERVJfVFlQRSA/IFNIQVBFX0RJVklERVIgOiBTSEFQRV9HUk9VUDtcbiAgICAgIG5ld05vZGUuY3NzQ2xhc3NlcyA9IGAke25ld05vZGUuY3NzQ2xhc3Nlc30gJHtDU1NfRElBR1JBTV9DTFVTVEVSfSAke2FsdEZsYWcgPyBDU1NfRElBR1JBTV9DTFVTVEVSX0FMVCA6IFwiXCJ9YDtcbiAgICB9XG4gICAgY29uc3Qgbm9kZURhdGEgPSB7XG4gICAgICBsYWJlbFN0eWxlOiBcIlwiLFxuICAgICAgc2hhcGU6IG5ld05vZGUuc2hhcGUsXG4gICAgICBsYWJlbDogbmV3Tm9kZS5kZXNjcmlwdGlvbixcbiAgICAgIGNzc0NsYXNzZXM6IG5ld05vZGUuY3NzQ2xhc3NlcyxcbiAgICAgIGNzc0NvbXBpbGVkU3R5bGVzOiBbXSxcbiAgICAgIGNzc1N0eWxlczogbmV3Tm9kZS5jc3NTdHlsZXMsXG4gICAgICBpZDogaXRlbUlkLFxuICAgICAgZGlyOiBuZXdOb2RlLmRpcixcbiAgICAgIGRvbUlkOiBzdGF0ZURvbUlkKGl0ZW1JZCwgZ3JhcGhJdGVtQ291bnQpLFxuICAgICAgdHlwZTogbmV3Tm9kZS50eXBlLFxuICAgICAgaXNHcm91cDogbmV3Tm9kZS50eXBlID09PSBcImdyb3VwXCIsXG4gICAgICBwYWRkaW5nOiA4LFxuICAgICAgcng6IDEwLFxuICAgICAgcnk6IDEwLFxuICAgICAgbG9va1xuICAgIH07XG4gICAgaWYgKG5vZGVEYXRhLnNoYXBlID09PSBTSEFQRV9ESVZJREVSKSB7XG4gICAgICBub2RlRGF0YS5sYWJlbCA9IFwiXCI7XG4gICAgfVxuICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LmlkICE9PSBcInJvb3RcIikge1xuICAgICAgbG9nLnRyYWNlKFwiU2V0dGluZyBub2RlIFwiLCBpdGVtSWQsIFwiIHRvIGJlIGNoaWxkIG9mIGl0cyBwYXJlbnQgXCIsIHBhcmVudC5pZCk7XG4gICAgICBub2RlRGF0YS5wYXJlbnRJZCA9IHBhcmVudC5pZDtcbiAgICB9XG4gICAgbm9kZURhdGEuY2VudGVyTGFiZWwgPSB0cnVlO1xuICAgIGlmIChwYXJzZWRJdGVtLm5vdGUpIHtcbiAgICAgIGNvbnN0IG5vdGVEYXRhID0ge1xuICAgICAgICBsYWJlbFN0eWxlOiBcIlwiLFxuICAgICAgICBzaGFwZTogU0hBUEVfTk9URSxcbiAgICAgICAgbGFiZWw6IHBhcnNlZEl0ZW0ubm90ZS50ZXh0LFxuICAgICAgICBjc3NDbGFzc2VzOiBDU1NfRElBR1JBTV9OT1RFLFxuICAgICAgICAvLyB1c2VIdG1sTGFiZWxzOiBmYWxzZSxcbiAgICAgICAgY3NzU3R5bGVzOiBbXSxcbiAgICAgICAgY3NzQ29tcGlsZXNTdHlsZXM6IFtdLFxuICAgICAgICBpZDogaXRlbUlkICsgTk9URV9JRCArIFwiLVwiICsgZ3JhcGhJdGVtQ291bnQsXG4gICAgICAgIGRvbUlkOiBzdGF0ZURvbUlkKGl0ZW1JZCwgZ3JhcGhJdGVtQ291bnQsIE5PVEUpLFxuICAgICAgICB0eXBlOiBuZXdOb2RlLnR5cGUsXG4gICAgICAgIGlzR3JvdXA6IG5ld05vZGUudHlwZSA9PT0gXCJncm91cFwiLFxuICAgICAgICBwYWRkaW5nOiBnZXRDb25maWcoKS5mbG93Y2hhcnQucGFkZGluZyxcbiAgICAgICAgbG9vayxcbiAgICAgICAgcG9zaXRpb246IHBhcnNlZEl0ZW0ubm90ZS5wb3NpdGlvblxuICAgICAgfTtcbiAgICAgIGNvbnN0IHBhcmVudE5vZGVJZCA9IGl0ZW1JZCArIFBBUkVOVF9JRDtcbiAgICAgIGNvbnN0IGdyb3VwRGF0YSA9IHtcbiAgICAgICAgbGFiZWxTdHlsZTogXCJcIixcbiAgICAgICAgc2hhcGU6IFNIQVBFX05PVEVHUk9VUCxcbiAgICAgICAgbGFiZWw6IHBhcnNlZEl0ZW0ubm90ZS50ZXh0LFxuICAgICAgICBjc3NDbGFzc2VzOiBuZXdOb2RlLmNzc0NsYXNzZXMsXG4gICAgICAgIGNzc1N0eWxlczogW10sXG4gICAgICAgIGlkOiBpdGVtSWQgKyBQQVJFTlRfSUQsXG4gICAgICAgIGRvbUlkOiBzdGF0ZURvbUlkKGl0ZW1JZCwgZ3JhcGhJdGVtQ291bnQsIFBBUkVOVCksXG4gICAgICAgIHR5cGU6IFwiZ3JvdXBcIixcbiAgICAgICAgaXNHcm91cDogdHJ1ZSxcbiAgICAgICAgcGFkZGluZzogMTYsXG4gICAgICAgIC8vZ2V0Q29uZmlnKCkuZmxvd2NoYXJ0LnBhZGRpbmdcbiAgICAgICAgbG9vayxcbiAgICAgICAgcG9zaXRpb246IHBhcnNlZEl0ZW0ubm90ZS5wb3NpdGlvblxuICAgICAgfTtcbiAgICAgIGdyYXBoSXRlbUNvdW50Kys7XG4gICAgICBncm91cERhdGEuaWQgPSBwYXJlbnROb2RlSWQ7XG4gICAgICBub3RlRGF0YS5wYXJlbnRJZCA9IHBhcmVudE5vZGVJZDtcbiAgICAgIGluc2VydE9yVXBkYXRlTm9kZShub2RlczIsIGdyb3VwRGF0YSwgY2xhc3NlczIpO1xuICAgICAgaW5zZXJ0T3JVcGRhdGVOb2RlKG5vZGVzMiwgbm90ZURhdGEsIGNsYXNzZXMyKTtcbiAgICAgIGluc2VydE9yVXBkYXRlTm9kZShub2RlczIsIG5vZGVEYXRhLCBjbGFzc2VzMik7XG4gICAgICBsZXQgZnJvbSA9IGl0ZW1JZDtcbiAgICAgIGxldCB0byA9IG5vdGVEYXRhLmlkO1xuICAgICAgaWYgKHBhcnNlZEl0ZW0ubm90ZS5wb3NpdGlvbiA9PT0gXCJsZWZ0IG9mXCIpIHtcbiAgICAgICAgZnJvbSA9IG5vdGVEYXRhLmlkO1xuICAgICAgICB0byA9IGl0ZW1JZDtcbiAgICAgIH1cbiAgICAgIGVkZ2VzMi5wdXNoKHtcbiAgICAgICAgaWQ6IGZyb20gKyBcIi1cIiArIHRvLFxuICAgICAgICBzdGFydDogZnJvbSxcbiAgICAgICAgZW5kOiB0byxcbiAgICAgICAgYXJyb3doZWFkOiBcIm5vbmVcIixcbiAgICAgICAgYXJyb3dUeXBlRW5kOiBcIlwiLFxuICAgICAgICBzdHlsZTogR19FREdFX1NUWUxFLFxuICAgICAgICBsYWJlbFN0eWxlOiBcIlwiLFxuICAgICAgICBjbGFzc2VzOiBDU1NfRURHRV9OT1RFX0VER0UsXG4gICAgICAgIGFycm93aGVhZFN0eWxlOiBHX0VER0VfQVJST1dIRUFEU1RZTEUsXG4gICAgICAgIGxhYmVscG9zOiBHX0VER0VfTEFCRUxQT1MsXG4gICAgICAgIGxhYmVsVHlwZTogR19FREdFX0xBQkVMVFlQRSxcbiAgICAgICAgdGhpY2tuZXNzOiBHX0VER0VfVEhJQ0tORVNTLFxuICAgICAgICBsb29rXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zZXJ0T3JVcGRhdGVOb2RlKG5vZGVzMiwgbm9kZURhdGEsIGNsYXNzZXMyKTtcbiAgICB9XG4gIH1cbiAgaWYgKHBhcnNlZEl0ZW0uZG9jKSB7XG4gICAgbG9nLnRyYWNlKFwiQWRkaW5nIG5vZGVzIGNoaWxkcmVuIFwiKTtcbiAgICBzZXR1cERvYyhwYXJzZWRJdGVtLCBwYXJzZWRJdGVtLmRvYywgZGlhZ3JhbVN0YXRlcywgbm9kZXMyLCBlZGdlczIsICFhbHRGbGFnLCBsb29rLCBjbGFzc2VzMik7XG4gIH1cbn0sIFwiZGF0YUZldGNoZXJcIik7XG52YXIgcmVzZXQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCgpID0+IHtcbiAgbm9kZURiLmNsZWFyKCk7XG4gIGdyYXBoSXRlbUNvdW50ID0gMDtcbn0sIFwicmVzZXRcIik7XG5cbi8vIHNyYy9kaWFncmFtcy9zdGF0ZS9zdGF0ZURiLmpzXG52YXIgU1RBUlRfTk9ERSA9IFwiWypdXCI7XG52YXIgU1RBUlRfVFlQRSA9IFwic3RhcnRcIjtcbnZhciBFTkRfTk9ERSA9IFNUQVJUX05PREU7XG52YXIgRU5EX1RZUEUgPSBcImVuZFwiO1xudmFyIENPTE9SX0tFWVdPUkQgPSBcImNvbG9yXCI7XG52YXIgRklMTF9LRVlXT1JEID0gXCJmaWxsXCI7XG52YXIgQkdfRklMTCA9IFwiYmdGaWxsXCI7XG52YXIgU1RZTEVDTEFTU19TRVAgPSBcIixcIjtcbmZ1bmN0aW9uIG5ld0NsYXNzZXNMaXN0KCkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbn1cbl9fbmFtZShuZXdDbGFzc2VzTGlzdCwgXCJuZXdDbGFzc2VzTGlzdFwiKTtcbnZhciBub2RlcyA9IFtdO1xudmFyIGVkZ2VzID0gW107XG52YXIgZGlyZWN0aW9uID0gREVGQVVMVF9ESUFHUkFNX0RJUkVDVElPTjtcbnZhciByb290RG9jID0gW107XG52YXIgY2xhc3NlcyA9IG5ld0NsYXNzZXNMaXN0KCk7XG52YXIgbmV3RG9jID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoKSA9PiB7XG4gIHJldHVybiB7XG4gICAgLyoqIEB0eXBlIHt7IGlkMTogc3RyaW5nLCBpZDI6IHN0cmluZywgcmVsYXRpb25UaXRsZTogc3RyaW5nIH1bXX0gKi9cbiAgICByZWxhdGlvbnM6IFtdLFxuICAgIHN0YXRlczogLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKSxcbiAgICBkb2N1bWVudHM6IHt9XG4gIH07XG59LCBcIm5ld0RvY1wiKTtcbnZhciBkb2N1bWVudHMgPSB7XG4gIHJvb3Q6IG5ld0RvYygpXG59O1xudmFyIGN1cnJlbnREb2N1bWVudCA9IGRvY3VtZW50cy5yb290O1xudmFyIHN0YXJ0RW5kQ291bnQgPSAwO1xudmFyIGRpdmlkZXJDbnQgPSAwO1xudmFyIGxpbmVUeXBlID0ge1xuICBMSU5FOiAwLFxuICBET1RURURfTElORTogMVxufTtcbnZhciByZWxhdGlvblR5cGUgPSB7XG4gIEFHR1JFR0FUSU9OOiAwLFxuICBFWFRFTlNJT046IDEsXG4gIENPTVBPU0lUSU9OOiAyLFxuICBERVBFTkRFTkNZOiAzXG59O1xudmFyIGNsb25lID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgobykgPT4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvKSksIFwiY2xvbmVcIik7XG52YXIgc2V0Um9vdERvYyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKG8pID0+IHtcbiAgbG9nLmluZm8oXCJTZXR0aW5nIHJvb3QgZG9jXCIsIG8pO1xuICByb290RG9jID0gbztcbn0sIFwic2V0Um9vdERvY1wiKTtcbnZhciBnZXRSb290RG9jID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoKSA9PiByb290RG9jLCBcImdldFJvb3REb2NcIik7XG52YXIgZG9jVHJhbnNsYXRvciA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKHBhcmVudCwgbm9kZSwgZmlyc3QpID0+IHtcbiAgaWYgKG5vZGUuc3RtdCA9PT0gU1RNVF9SRUxBVElPTikge1xuICAgIGRvY1RyYW5zbGF0b3IocGFyZW50LCBub2RlLnN0YXRlMSwgdHJ1ZSk7XG4gICAgZG9jVHJhbnNsYXRvcihwYXJlbnQsIG5vZGUuc3RhdGUyLCBmYWxzZSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG5vZGUuc3RtdCA9PT0gU1RNVF9TVEFURSkge1xuICAgICAgaWYgKG5vZGUuaWQgPT09IFwiWypdXCIpIHtcbiAgICAgICAgbm9kZS5pZCA9IGZpcnN0ID8gcGFyZW50LmlkICsgXCJfc3RhcnRcIiA6IHBhcmVudC5pZCArIFwiX2VuZFwiO1xuICAgICAgICBub2RlLnN0YXJ0ID0gZmlyc3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBub2RlLmlkID0gbm9kZS5pZC50cmltKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChub2RlLmRvYykge1xuICAgICAgY29uc3QgZG9jID0gW107XG4gICAgICBsZXQgY3VycmVudERvYyA9IFtdO1xuICAgICAgbGV0IGk7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgbm9kZS5kb2MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKG5vZGUuZG9jW2ldLnR5cGUgPT09IERJVklERVJfVFlQRSkge1xuICAgICAgICAgIGNvbnN0IG5ld05vZGUgPSBjbG9uZShub2RlLmRvY1tpXSk7XG4gICAgICAgICAgbmV3Tm9kZS5kb2MgPSBjbG9uZShjdXJyZW50RG9jKTtcbiAgICAgICAgICBkb2MucHVzaChuZXdOb2RlKTtcbiAgICAgICAgICBjdXJyZW50RG9jID0gW107XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3VycmVudERvYy5wdXNoKG5vZGUuZG9jW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGRvYy5sZW5ndGggPiAwICYmIGN1cnJlbnREb2MubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zdCBuZXdOb2RlID0ge1xuICAgICAgICAgIHN0bXQ6IFNUTVRfU1RBVEUsXG4gICAgICAgICAgaWQ6IGdlbmVyYXRlSWQoKSxcbiAgICAgICAgICB0eXBlOiBcImRpdmlkZXJcIixcbiAgICAgICAgICBkb2M6IGNsb25lKGN1cnJlbnREb2MpXG4gICAgICAgIH07XG4gICAgICAgIGRvYy5wdXNoKGNsb25lKG5ld05vZGUpKTtcbiAgICAgICAgbm9kZS5kb2MgPSBkb2M7XG4gICAgICB9XG4gICAgICBub2RlLmRvYy5mb3JFYWNoKChkb2NOb2RlKSA9PiBkb2NUcmFuc2xhdG9yKG5vZGUsIGRvY05vZGUsIHRydWUpKTtcbiAgICB9XG4gIH1cbn0sIFwiZG9jVHJhbnNsYXRvclwiKTtcbnZhciBnZXRSb290RG9jVjIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCgpID0+IHtcbiAgZG9jVHJhbnNsYXRvcih7IGlkOiBcInJvb3RcIiB9LCB7IGlkOiBcInJvb3RcIiwgZG9jOiByb290RG9jIH0sIHRydWUpO1xuICByZXR1cm4geyBpZDogXCJyb290XCIsIGRvYzogcm9vdERvYyB9O1xufSwgXCJnZXRSb290RG9jVjJcIik7XG52YXIgZXh0cmFjdCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKF9kb2MpID0+IHtcbiAgbGV0IGRvYztcbiAgaWYgKF9kb2MuZG9jKSB7XG4gICAgZG9jID0gX2RvYy5kb2M7XG4gIH0gZWxzZSB7XG4gICAgZG9jID0gX2RvYztcbiAgfVxuICBsb2cuaW5mbyhkb2MpO1xuICBjbGVhcjIodHJ1ZSk7XG4gIGxvZy5pbmZvKFwiRXh0cmFjdCBpbml0aWFsIGRvY3VtZW50OlwiLCBkb2MpO1xuICBkb2MuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgIGxvZy53YXJuKFwiU3RhdGVtZW50XCIsIGl0ZW0uc3RtdCk7XG4gICAgc3dpdGNoIChpdGVtLnN0bXQpIHtcbiAgICAgIGNhc2UgU1RNVF9TVEFURTpcbiAgICAgICAgYWRkU3RhdGUoXG4gICAgICAgICAgaXRlbS5pZC50cmltKCksXG4gICAgICAgICAgaXRlbS50eXBlLFxuICAgICAgICAgIGl0ZW0uZG9jLFxuICAgICAgICAgIGl0ZW0uZGVzY3JpcHRpb24sXG4gICAgICAgICAgaXRlbS5ub3RlLFxuICAgICAgICAgIGl0ZW0uY2xhc3NlcyxcbiAgICAgICAgICBpdGVtLnN0eWxlcyxcbiAgICAgICAgICBpdGVtLnRleHRTdHlsZXNcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFNUTVRfUkVMQVRJT046XG4gICAgICAgIGFkZFJlbGF0aW9uKGl0ZW0uc3RhdGUxLCBpdGVtLnN0YXRlMiwgaXRlbS5kZXNjcmlwdGlvbik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBTVE1UX0NMQVNTREVGOlxuICAgICAgICBhZGRTdHlsZUNsYXNzKGl0ZW0uaWQudHJpbSgpLCBpdGVtLmNsYXNzZXMpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU1RNVF9TVFlMRURFRjpcbiAgICAgICAge1xuICAgICAgICAgIGNvbnN0IGlkcyA9IGl0ZW0uaWQudHJpbSgpLnNwbGl0KFwiLFwiKTtcbiAgICAgICAgICBjb25zdCBzdHlsZXMgPSBpdGVtLnN0eWxlQ2xhc3Muc3BsaXQoXCIsXCIpO1xuICAgICAgICAgIGlkcy5mb3JFYWNoKChpZCkgPT4ge1xuICAgICAgICAgICAgbGV0IGZvdW5kU3RhdGUgPSBnZXRTdGF0ZShpZCk7XG4gICAgICAgICAgICBpZiAoZm91bmRTdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHRyaW1tZWRJZCA9IGlkLnRyaW0oKTtcbiAgICAgICAgICAgICAgYWRkU3RhdGUodHJpbW1lZElkKTtcbiAgICAgICAgICAgICAgZm91bmRTdGF0ZSA9IGdldFN0YXRlKHRyaW1tZWRJZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3VuZFN0YXRlLnN0eWxlcyA9IHN0eWxlcy5tYXAoKHMpID0+IHMucmVwbGFjZSgvOy9nLCBcIlwiKT8udHJpbSgpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgU1RNVF9BUFBMWUNMQVNTOlxuICAgICAgICBzZXRDc3NDbGFzcyhpdGVtLmlkLnRyaW0oKSwgaXRlbS5zdHlsZUNsYXNzKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcbiAgY29uc3QgZGlhZ3JhbVN0YXRlcyA9IGdldFN0YXRlcygpO1xuICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcbiAgY29uc3QgbG9vayA9IGNvbmZpZy5sb29rO1xuICByZXNldCgpO1xuICBkYXRhRmV0Y2hlcih2b2lkIDAsIGdldFJvb3REb2NWMigpLCBkaWFncmFtU3RhdGVzLCBub2RlcywgZWRnZXMsIHRydWUsIGxvb2ssIGNsYXNzZXMpO1xuICBub2Rlcy5mb3JFYWNoKChub2RlKSA9PiB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkobm9kZS5sYWJlbCkpIHtcbiAgICAgIG5vZGUuZGVzY3JpcHRpb24gPSBub2RlLmxhYmVsLnNsaWNlKDEpO1xuICAgICAgaWYgKG5vZGUuaXNHcm91cCAmJiBub2RlLmRlc2NyaXB0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIFwiR3JvdXAgbm9kZXMgY2FuIG9ubHkgaGF2ZSBsYWJlbC4gUmVtb3ZlIHRoZSBhZGRpdGlvbmFsIGRlc2NyaXB0aW9uIGZvciBub2RlIFtcIiArIG5vZGUuaWQgKyBcIl1cIlxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgbm9kZS5sYWJlbCA9IG5vZGUubGFiZWxbMF07XG4gICAgfVxuICB9KTtcbn0sIFwiZXh0cmFjdFwiKTtcbnZhciBhZGRTdGF0ZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oaWQsIHR5cGUgPSBERUZBVUxUX1NUQVRFX1RZUEUsIGRvYyA9IG51bGwsIGRlc2NyID0gbnVsbCwgbm90ZSA9IG51bGwsIGNsYXNzZXMyID0gbnVsbCwgc3R5bGVzID0gbnVsbCwgdGV4dFN0eWxlcyA9IG51bGwpIHtcbiAgY29uc3QgdHJpbW1lZElkID0gaWQ/LnRyaW0oKTtcbiAgaWYgKCFjdXJyZW50RG9jdW1lbnQuc3RhdGVzLmhhcyh0cmltbWVkSWQpKSB7XG4gICAgbG9nLmluZm8oXCJBZGRpbmcgc3RhdGUgXCIsIHRyaW1tZWRJZCwgZGVzY3IpO1xuICAgIGN1cnJlbnREb2N1bWVudC5zdGF0ZXMuc2V0KHRyaW1tZWRJZCwge1xuICAgICAgaWQ6IHRyaW1tZWRJZCxcbiAgICAgIGRlc2NyaXB0aW9uczogW10sXG4gICAgICB0eXBlLFxuICAgICAgZG9jLFxuICAgICAgbm90ZSxcbiAgICAgIGNsYXNzZXM6IFtdLFxuICAgICAgc3R5bGVzOiBbXSxcbiAgICAgIHRleHRTdHlsZXM6IFtdXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFjdXJyZW50RG9jdW1lbnQuc3RhdGVzLmdldCh0cmltbWVkSWQpLmRvYykge1xuICAgICAgY3VycmVudERvY3VtZW50LnN0YXRlcy5nZXQodHJpbW1lZElkKS5kb2MgPSBkb2M7XG4gICAgfVxuICAgIGlmICghY3VycmVudERvY3VtZW50LnN0YXRlcy5nZXQodHJpbW1lZElkKS50eXBlKSB7XG4gICAgICBjdXJyZW50RG9jdW1lbnQuc3RhdGVzLmdldCh0cmltbWVkSWQpLnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgfVxuICBpZiAoZGVzY3IpIHtcbiAgICBsb2cuaW5mbyhcIlNldHRpbmcgc3RhdGUgZGVzY3JpcHRpb25cIiwgdHJpbW1lZElkLCBkZXNjcik7XG4gICAgaWYgKHR5cGVvZiBkZXNjciA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgYWRkRGVzY3JpcHRpb24odHJpbW1lZElkLCBkZXNjci50cmltKCkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRlc2NyID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBkZXNjci5mb3JFYWNoKChkZXMpID0+IGFkZERlc2NyaXB0aW9uKHRyaW1tZWRJZCwgZGVzLnRyaW0oKSkpO1xuICAgIH1cbiAgfVxuICBpZiAobm90ZSkge1xuICAgIGNvbnN0IGRvYzIgPSBjdXJyZW50RG9jdW1lbnQuc3RhdGVzLmdldCh0cmltbWVkSWQpO1xuICAgIGRvYzIubm90ZSA9IG5vdGU7XG4gICAgZG9jMi5ub3RlLnRleHQgPSBjb21tb25fZGVmYXVsdC5zYW5pdGl6ZVRleHQoZG9jMi5ub3RlLnRleHQsIGdldENvbmZpZygpKTtcbiAgfVxuICBpZiAoY2xhc3NlczIpIHtcbiAgICBsb2cuaW5mbyhcIlNldHRpbmcgc3RhdGUgY2xhc3Nlc1wiLCB0cmltbWVkSWQsIGNsYXNzZXMyKTtcbiAgICBjb25zdCBjbGFzc2VzTGlzdCA9IHR5cGVvZiBjbGFzc2VzMiA9PT0gXCJzdHJpbmdcIiA/IFtjbGFzc2VzMl0gOiBjbGFzc2VzMjtcbiAgICBjbGFzc2VzTGlzdC5mb3JFYWNoKChjc3NDbGFzcykgPT4gc2V0Q3NzQ2xhc3ModHJpbW1lZElkLCBjc3NDbGFzcy50cmltKCkpKTtcbiAgfVxuICBpZiAoc3R5bGVzKSB7XG4gICAgbG9nLmluZm8oXCJTZXR0aW5nIHN0YXRlIHN0eWxlc1wiLCB0cmltbWVkSWQsIHN0eWxlcyk7XG4gICAgY29uc3Qgc3R5bGVzTGlzdCA9IHR5cGVvZiBzdHlsZXMgPT09IFwic3RyaW5nXCIgPyBbc3R5bGVzXSA6IHN0eWxlcztcbiAgICBzdHlsZXNMaXN0LmZvckVhY2goKHN0eWxlKSA9PiBzZXRTdHlsZSh0cmltbWVkSWQsIHN0eWxlLnRyaW0oKSkpO1xuICB9XG4gIGlmICh0ZXh0U3R5bGVzKSB7XG4gICAgbG9nLmluZm8oXCJTZXR0aW5nIHN0YXRlIHN0eWxlc1wiLCB0cmltbWVkSWQsIHN0eWxlcyk7XG4gICAgY29uc3QgdGV4dFN0eWxlc0xpc3QgPSB0eXBlb2YgdGV4dFN0eWxlcyA9PT0gXCJzdHJpbmdcIiA/IFt0ZXh0U3R5bGVzXSA6IHRleHRTdHlsZXM7XG4gICAgdGV4dFN0eWxlc0xpc3QuZm9yRWFjaCgodGV4dFN0eWxlKSA9PiBzZXRUZXh0U3R5bGUodHJpbW1lZElkLCB0ZXh0U3R5bGUudHJpbSgpKSk7XG4gIH1cbn0sIFwiYWRkU3RhdGVcIik7XG52YXIgY2xlYXIyID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbihzYXZlQ29tbW9uKSB7XG4gIG5vZGVzID0gW107XG4gIGVkZ2VzID0gW107XG4gIGRvY3VtZW50cyA9IHtcbiAgICByb290OiBuZXdEb2MoKVxuICB9O1xuICBjdXJyZW50RG9jdW1lbnQgPSBkb2N1bWVudHMucm9vdDtcbiAgc3RhcnRFbmRDb3VudCA9IDA7XG4gIGNsYXNzZXMgPSBuZXdDbGFzc2VzTGlzdCgpO1xuICBpZiAoIXNhdmVDb21tb24pIHtcbiAgICBjbGVhcigpO1xuICB9XG59LCBcImNsZWFyXCIpO1xudmFyIGdldFN0YXRlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbihpZCkge1xuICByZXR1cm4gY3VycmVudERvY3VtZW50LnN0YXRlcy5nZXQoaWQpO1xufSwgXCJnZXRTdGF0ZVwiKTtcbnZhciBnZXRTdGF0ZXMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gY3VycmVudERvY3VtZW50LnN0YXRlcztcbn0sIFwiZ2V0U3RhdGVzXCIpO1xudmFyIGxvZ0RvY3VtZW50cyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oKSB7XG4gIGxvZy5pbmZvKFwiRG9jdW1lbnRzID0gXCIsIGRvY3VtZW50cyk7XG59LCBcImxvZ0RvY3VtZW50c1wiKTtcbnZhciBnZXRSZWxhdGlvbnMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gY3VycmVudERvY3VtZW50LnJlbGF0aW9ucztcbn0sIFwiZ2V0UmVsYXRpb25zXCIpO1xuZnVuY3Rpb24gc3RhcnRJZElmTmVlZGVkKGlkID0gXCJcIikge1xuICBsZXQgZml4ZWRJZCA9IGlkO1xuICBpZiAoaWQgPT09IFNUQVJUX05PREUpIHtcbiAgICBzdGFydEVuZENvdW50Kys7XG4gICAgZml4ZWRJZCA9IGAke1NUQVJUX1RZUEV9JHtzdGFydEVuZENvdW50fWA7XG4gIH1cbiAgcmV0dXJuIGZpeGVkSWQ7XG59XG5fX25hbWUoc3RhcnRJZElmTmVlZGVkLCBcInN0YXJ0SWRJZk5lZWRlZFwiKTtcbmZ1bmN0aW9uIHN0YXJ0VHlwZUlmTmVlZGVkKGlkID0gXCJcIiwgdHlwZSA9IERFRkFVTFRfU1RBVEVfVFlQRSkge1xuICByZXR1cm4gaWQgPT09IFNUQVJUX05PREUgPyBTVEFSVF9UWVBFIDogdHlwZTtcbn1cbl9fbmFtZShzdGFydFR5cGVJZk5lZWRlZCwgXCJzdGFydFR5cGVJZk5lZWRlZFwiKTtcbmZ1bmN0aW9uIGVuZElkSWZOZWVkZWQoaWQgPSBcIlwiKSB7XG4gIGxldCBmaXhlZElkID0gaWQ7XG4gIGlmIChpZCA9PT0gRU5EX05PREUpIHtcbiAgICBzdGFydEVuZENvdW50Kys7XG4gICAgZml4ZWRJZCA9IGAke0VORF9UWVBFfSR7c3RhcnRFbmRDb3VudH1gO1xuICB9XG4gIHJldHVybiBmaXhlZElkO1xufVxuX19uYW1lKGVuZElkSWZOZWVkZWQsIFwiZW5kSWRJZk5lZWRlZFwiKTtcbmZ1bmN0aW9uIGVuZFR5cGVJZk5lZWRlZChpZCA9IFwiXCIsIHR5cGUgPSBERUZBVUxUX1NUQVRFX1RZUEUpIHtcbiAgcmV0dXJuIGlkID09PSBFTkRfTk9ERSA/IEVORF9UWVBFIDogdHlwZTtcbn1cbl9fbmFtZShlbmRUeXBlSWZOZWVkZWQsIFwiZW5kVHlwZUlmTmVlZGVkXCIpO1xuZnVuY3Rpb24gYWRkUmVsYXRpb25PYmpzKGl0ZW0xLCBpdGVtMiwgcmVsYXRpb25UaXRsZSkge1xuICBsZXQgaWQxID0gc3RhcnRJZElmTmVlZGVkKGl0ZW0xLmlkLnRyaW0oKSk7XG4gIGxldCB0eXBlMSA9IHN0YXJ0VHlwZUlmTmVlZGVkKGl0ZW0xLmlkLnRyaW0oKSwgaXRlbTEudHlwZSk7XG4gIGxldCBpZDIgPSBzdGFydElkSWZOZWVkZWQoaXRlbTIuaWQudHJpbSgpKTtcbiAgbGV0IHR5cGUyID0gc3RhcnRUeXBlSWZOZWVkZWQoaXRlbTIuaWQudHJpbSgpLCBpdGVtMi50eXBlKTtcbiAgYWRkU3RhdGUoXG4gICAgaWQxLFxuICAgIHR5cGUxLFxuICAgIGl0ZW0xLmRvYyxcbiAgICBpdGVtMS5kZXNjcmlwdGlvbixcbiAgICBpdGVtMS5ub3RlLFxuICAgIGl0ZW0xLmNsYXNzZXMsXG4gICAgaXRlbTEuc3R5bGVzLFxuICAgIGl0ZW0xLnRleHRTdHlsZXNcbiAgKTtcbiAgYWRkU3RhdGUoXG4gICAgaWQyLFxuICAgIHR5cGUyLFxuICAgIGl0ZW0yLmRvYyxcbiAgICBpdGVtMi5kZXNjcmlwdGlvbixcbiAgICBpdGVtMi5ub3RlLFxuICAgIGl0ZW0yLmNsYXNzZXMsXG4gICAgaXRlbTIuc3R5bGVzLFxuICAgIGl0ZW0yLnRleHRTdHlsZXNcbiAgKTtcbiAgY3VycmVudERvY3VtZW50LnJlbGF0aW9ucy5wdXNoKHtcbiAgICBpZDEsXG4gICAgaWQyLFxuICAgIHJlbGF0aW9uVGl0bGU6IGNvbW1vbl9kZWZhdWx0LnNhbml0aXplVGV4dChyZWxhdGlvblRpdGxlLCBnZXRDb25maWcoKSlcbiAgfSk7XG59XG5fX25hbWUoYWRkUmVsYXRpb25PYmpzLCBcImFkZFJlbGF0aW9uT2Jqc1wiKTtcbnZhciBhZGRSZWxhdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oaXRlbTEsIGl0ZW0yLCB0aXRsZSkge1xuICBpZiAodHlwZW9mIGl0ZW0xID09PSBcIm9iamVjdFwiKSB7XG4gICAgYWRkUmVsYXRpb25PYmpzKGl0ZW0xLCBpdGVtMiwgdGl0bGUpO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGlkMSA9IHN0YXJ0SWRJZk5lZWRlZChpdGVtMS50cmltKCkpO1xuICAgIGNvbnN0IHR5cGUxID0gc3RhcnRUeXBlSWZOZWVkZWQoaXRlbTEpO1xuICAgIGNvbnN0IGlkMiA9IGVuZElkSWZOZWVkZWQoaXRlbTIudHJpbSgpKTtcbiAgICBjb25zdCB0eXBlMiA9IGVuZFR5cGVJZk5lZWRlZChpdGVtMik7XG4gICAgYWRkU3RhdGUoaWQxLCB0eXBlMSk7XG4gICAgYWRkU3RhdGUoaWQyLCB0eXBlMik7XG4gICAgY3VycmVudERvY3VtZW50LnJlbGF0aW9ucy5wdXNoKHtcbiAgICAgIGlkMSxcbiAgICAgIGlkMixcbiAgICAgIHRpdGxlOiBjb21tb25fZGVmYXVsdC5zYW5pdGl6ZVRleHQodGl0bGUsIGdldENvbmZpZygpKVxuICAgIH0pO1xuICB9XG59LCBcImFkZFJlbGF0aW9uXCIpO1xudmFyIGFkZERlc2NyaXB0aW9uID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbihpZCwgZGVzY3IpIHtcbiAgY29uc3QgdGhlU3RhdGUgPSBjdXJyZW50RG9jdW1lbnQuc3RhdGVzLmdldChpZCk7XG4gIGNvbnN0IF9kZXNjciA9IGRlc2NyLnN0YXJ0c1dpdGgoXCI6XCIpID8gZGVzY3IucmVwbGFjZShcIjpcIiwgXCJcIikudHJpbSgpIDogZGVzY3I7XG4gIHRoZVN0YXRlLmRlc2NyaXB0aW9ucy5wdXNoKGNvbW1vbl9kZWZhdWx0LnNhbml0aXplVGV4dChfZGVzY3IsIGdldENvbmZpZygpKSk7XG59LCBcImFkZERlc2NyaXB0aW9uXCIpO1xudmFyIGNsZWFudXBMYWJlbCA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24obGFiZWwpIHtcbiAgaWYgKGxhYmVsLnN1YnN0cmluZygwLCAxKSA9PT0gXCI6XCIpIHtcbiAgICByZXR1cm4gbGFiZWwuc3Vic3RyKDIpLnRyaW0oKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGFiZWwudHJpbSgpO1xuICB9XG59LCBcImNsZWFudXBMYWJlbFwiKTtcbnZhciBnZXREaXZpZGVySWQgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKCgpID0+IHtcbiAgZGl2aWRlckNudCsrO1xuICByZXR1cm4gXCJkaXZpZGVyLWlkLVwiICsgZGl2aWRlckNudDtcbn0sIFwiZ2V0RGl2aWRlcklkXCIpO1xudmFyIGFkZFN0eWxlQ2xhc3MgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKGlkLCBzdHlsZUF0dHJpYnV0ZXMgPSBcIlwiKSB7XG4gIGlmICghY2xhc3Nlcy5oYXMoaWQpKSB7XG4gICAgY2xhc3Nlcy5zZXQoaWQsIHsgaWQsIHN0eWxlczogW10sIHRleHRTdHlsZXM6IFtdIH0pO1xuICB9XG4gIGNvbnN0IGZvdW5kQ2xhc3MgPSBjbGFzc2VzLmdldChpZCk7XG4gIGlmIChzdHlsZUF0dHJpYnV0ZXMgIT09IHZvaWQgMCAmJiBzdHlsZUF0dHJpYnV0ZXMgIT09IG51bGwpIHtcbiAgICBzdHlsZUF0dHJpYnV0ZXMuc3BsaXQoU1RZTEVDTEFTU19TRVApLmZvckVhY2goKGF0dHJpYikgPT4ge1xuICAgICAgY29uc3QgZml4ZWRBdHRyaWIgPSBhdHRyaWIucmVwbGFjZSgvKFteO10qKTsvLCBcIiQxXCIpLnRyaW0oKTtcbiAgICAgIGlmIChSZWdFeHAoQ09MT1JfS0VZV09SRCkuZXhlYyhhdHRyaWIpKSB7XG4gICAgICAgIGNvbnN0IG5ld1N0eWxlMSA9IGZpeGVkQXR0cmliLnJlcGxhY2UoRklMTF9LRVlXT1JELCBCR19GSUxMKTtcbiAgICAgICAgY29uc3QgbmV3U3R5bGUyID0gbmV3U3R5bGUxLnJlcGxhY2UoQ09MT1JfS0VZV09SRCwgRklMTF9LRVlXT1JEKTtcbiAgICAgICAgZm91bmRDbGFzcy50ZXh0U3R5bGVzLnB1c2gobmV3U3R5bGUyKTtcbiAgICAgIH1cbiAgICAgIGZvdW5kQ2xhc3Muc3R5bGVzLnB1c2goZml4ZWRBdHRyaWIpO1xuICAgIH0pO1xuICB9XG59LCBcImFkZFN0eWxlQ2xhc3NcIik7XG52YXIgZ2V0Q2xhc3NlczIgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gY2xhc3Nlcztcbn0sIFwiZ2V0Q2xhc3Nlc1wiKTtcbnZhciBzZXRDc3NDbGFzcyA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oaXRlbUlkcywgY3NzQ2xhc3NOYW1lKSB7XG4gIGl0ZW1JZHMuc3BsaXQoXCIsXCIpLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICBsZXQgZm91bmRTdGF0ZSA9IGdldFN0YXRlKGlkKTtcbiAgICBpZiAoZm91bmRTdGF0ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBjb25zdCB0cmltbWVkSWQgPSBpZC50cmltKCk7XG4gICAgICBhZGRTdGF0ZSh0cmltbWVkSWQpO1xuICAgICAgZm91bmRTdGF0ZSA9IGdldFN0YXRlKHRyaW1tZWRJZCk7XG4gICAgfVxuICAgIGZvdW5kU3RhdGUuY2xhc3Nlcy5wdXNoKGNzc0NsYXNzTmFtZSk7XG4gIH0pO1xufSwgXCJzZXRDc3NDbGFzc1wiKTtcbnZhciBzZXRTdHlsZSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoZnVuY3Rpb24oaXRlbUlkLCBzdHlsZVRleHQpIHtcbiAgY29uc3QgaXRlbSA9IGdldFN0YXRlKGl0ZW1JZCk7XG4gIGlmIChpdGVtICE9PSB2b2lkIDApIHtcbiAgICBpdGVtLnN0eWxlcy5wdXNoKHN0eWxlVGV4dCk7XG4gIH1cbn0sIFwic2V0U3R5bGVcIik7XG52YXIgc2V0VGV4dFN0eWxlID0gLyogQF9fUFVSRV9fICovIF9fbmFtZShmdW5jdGlvbihpdGVtSWQsIGNzc0NsYXNzTmFtZSkge1xuICBjb25zdCBpdGVtID0gZ2V0U3RhdGUoaXRlbUlkKTtcbiAgaWYgKGl0ZW0gIT09IHZvaWQgMCkge1xuICAgIGl0ZW0udGV4dFN0eWxlcy5wdXNoKGNzc0NsYXNzTmFtZSk7XG4gIH1cbn0sIFwic2V0VGV4dFN0eWxlXCIpO1xudmFyIGdldERpcmVjdGlvbiA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4gZGlyZWN0aW9uLCBcImdldERpcmVjdGlvblwiKTtcbnZhciBzZXREaXJlY3Rpb24gPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChkaXIpID0+IHtcbiAgZGlyZWN0aW9uID0gZGlyO1xufSwgXCJzZXREaXJlY3Rpb25cIik7XG52YXIgdHJpbUNvbG9uID0gLyogQF9fUFVSRV9fICovIF9fbmFtZSgoc3RyKSA9PiBzdHIgJiYgc3RyWzBdID09PSBcIjpcIiA/IHN0ci5zdWJzdHIoMSkudHJpbSgpIDogc3RyLnRyaW0oKSwgXCJ0cmltQ29sb25cIik7XG52YXIgZ2V0RGF0YSA9IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4ge1xuICBjb25zdCBjb25maWcgPSBnZXRDb25maWcoKTtcbiAgcmV0dXJuIHsgbm9kZXMsIGVkZ2VzLCBvdGhlcjoge30sIGNvbmZpZywgZGlyZWN0aW9uOiBnZXREaXIoZ2V0Um9vdERvY1YyKCkpIH07XG59LCBcImdldERhdGFcIik7XG52YXIgc3RhdGVEYl9kZWZhdWx0ID0ge1xuICBnZXRDb25maWc6IC8qIEBfX1BVUkVfXyAqLyBfX25hbWUoKCkgPT4gZ2V0Q29uZmlnKCkuc3RhdGUsIFwiZ2V0Q29uZmlnXCIpLFxuICBnZXREYXRhLFxuICBhZGRTdGF0ZSxcbiAgY2xlYXI6IGNsZWFyMixcbiAgZ2V0U3RhdGUsXG4gIGdldFN0YXRlcyxcbiAgZ2V0UmVsYXRpb25zLFxuICBnZXRDbGFzc2VzOiBnZXRDbGFzc2VzMixcbiAgZ2V0RGlyZWN0aW9uLFxuICBhZGRSZWxhdGlvbixcbiAgZ2V0RGl2aWRlcklkLFxuICBzZXREaXJlY3Rpb24sXG4gIGNsZWFudXBMYWJlbCxcbiAgbGluZVR5cGUsXG4gIHJlbGF0aW9uVHlwZSxcbiAgbG9nRG9jdW1lbnRzLFxuICBnZXRSb290RG9jLFxuICBzZXRSb290RG9jLFxuICBnZXRSb290RG9jVjIsXG4gIGV4dHJhY3QsXG4gIHRyaW1Db2xvbixcbiAgZ2V0QWNjVGl0bGUsXG4gIHNldEFjY1RpdGxlLFxuICBnZXRBY2NEZXNjcmlwdGlvbixcbiAgc2V0QWNjRGVzY3JpcHRpb24sXG4gIGFkZFN0eWxlQ2xhc3MsXG4gIHNldENzc0NsYXNzLFxuICBhZGREZXNjcmlwdGlvbixcbiAgc2V0RGlhZ3JhbVRpdGxlLFxuICBnZXREaWFncmFtVGl0bGVcbn07XG5cbi8vIHNyYy9kaWFncmFtcy9zdGF0ZS9zdHlsZXMuanNcbnZhciBnZXRTdHlsZXMgPSAvKiBAX19QVVJFX18gKi8gX19uYW1lKChvcHRpb25zKSA9PiBgXG5kZWZzICNzdGF0ZWRpYWdyYW0tYmFyYkVuZCB7XG4gICAgZmlsbDogJHtvcHRpb25zLnRyYW5zaXRpb25Db2xvcn07XG4gICAgc3Ryb2tlOiAke29wdGlvbnMudHJhbnNpdGlvbkNvbG9yfTtcbiAgfVxuZy5zdGF0ZUdyb3VwIHRleHQge1xuICBmaWxsOiAke29wdGlvbnMubm9kZUJvcmRlcn07XG4gIHN0cm9rZTogbm9uZTtcbiAgZm9udC1zaXplOiAxMHB4O1xufVxuZy5zdGF0ZUdyb3VwIHRleHQge1xuICBmaWxsOiAke29wdGlvbnMudGV4dENvbG9yfTtcbiAgc3Ryb2tlOiBub25lO1xuICBmb250LXNpemU6IDEwcHg7XG5cbn1cbmcuc3RhdGVHcm91cCAuc3RhdGUtdGl0bGUge1xuICBmb250LXdlaWdodDogYm9sZGVyO1xuICBmaWxsOiAke29wdGlvbnMuc3RhdGVMYWJlbENvbG9yfTtcbn1cblxuZy5zdGF0ZUdyb3VwIHJlY3Qge1xuICBmaWxsOiAke29wdGlvbnMubWFpbkJrZ307XG4gIHN0cm9rZTogJHtvcHRpb25zLm5vZGVCb3JkZXJ9O1xufVxuXG5nLnN0YXRlR3JvdXAgbGluZSB7XG4gIHN0cm9rZTogJHtvcHRpb25zLmxpbmVDb2xvcn07XG4gIHN0cm9rZS13aWR0aDogMTtcbn1cblxuLnRyYW5zaXRpb24ge1xuICBzdHJva2U6ICR7b3B0aW9ucy50cmFuc2l0aW9uQ29sb3J9O1xuICBzdHJva2Utd2lkdGg6IDE7XG4gIGZpbGw6IG5vbmU7XG59XG5cbi5zdGF0ZUdyb3VwIC5jb21wb3NpdCB7XG4gIGZpbGw6ICR7b3B0aW9ucy5iYWNrZ3JvdW5kfTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4XG59XG5cbi5zdGF0ZUdyb3VwIC5hbHQtY29tcG9zaXQge1xuICBmaWxsOiAjZTBlMGUwO1xuICBib3JkZXItYm90dG9tOiAxcHhcbn1cblxuLnN0YXRlLW5vdGUge1xuICBzdHJva2U6ICR7b3B0aW9ucy5ub3RlQm9yZGVyQ29sb3J9O1xuICBmaWxsOiAke29wdGlvbnMubm90ZUJrZ0NvbG9yfTtcblxuICB0ZXh0IHtcbiAgICBmaWxsOiAke29wdGlvbnMubm90ZVRleHRDb2xvcn07XG4gICAgc3Ryb2tlOiBub25lO1xuICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgfVxufVxuXG4uc3RhdGVMYWJlbCAuYm94IHtcbiAgc3Ryb2tlOiBub25lO1xuICBzdHJva2Utd2lkdGg6IDA7XG4gIGZpbGw6ICR7b3B0aW9ucy5tYWluQmtnfTtcbiAgb3BhY2l0eTogMC41O1xufVxuXG4uZWRnZUxhYmVsIC5sYWJlbCByZWN0IHtcbiAgZmlsbDogJHtvcHRpb25zLmxhYmVsQmFja2dyb3VuZENvbG9yfTtcbiAgb3BhY2l0eTogMC41O1xufVxuLmVkZ2VMYWJlbCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICR7b3B0aW9ucy5lZGdlTGFiZWxCYWNrZ3JvdW5kfTtcbiAgcCB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogJHtvcHRpb25zLmVkZ2VMYWJlbEJhY2tncm91bmR9O1xuICB9XG4gIHJlY3Qge1xuICAgIG9wYWNpdHk6IDAuNTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke29wdGlvbnMuZWRnZUxhYmVsQmFja2dyb3VuZH07XG4gICAgZmlsbDogJHtvcHRpb25zLmVkZ2VMYWJlbEJhY2tncm91bmR9O1xuICB9XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbi5lZGdlTGFiZWwgLmxhYmVsIHRleHQge1xuICBmaWxsOiAke29wdGlvbnMudHJhbnNpdGlvbkxhYmVsQ29sb3IgfHwgb3B0aW9ucy50ZXJ0aWFyeVRleHRDb2xvcn07XG59XG4ubGFiZWwgZGl2IC5lZGdlTGFiZWwge1xuICBjb2xvcjogJHtvcHRpb25zLnRyYW5zaXRpb25MYWJlbENvbG9yIHx8IG9wdGlvbnMudGVydGlhcnlUZXh0Q29sb3J9O1xufVxuXG4uc3RhdGVMYWJlbCB0ZXh0IHtcbiAgZmlsbDogJHtvcHRpb25zLnN0YXRlTGFiZWxDb2xvcn07XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbi5ub2RlIGNpcmNsZS5zdGF0ZS1zdGFydCB7XG4gIGZpbGw6ICR7b3B0aW9ucy5zcGVjaWFsU3RhdGVDb2xvcn07XG4gIHN0cm9rZTogJHtvcHRpb25zLnNwZWNpYWxTdGF0ZUNvbG9yfTtcbn1cblxuLm5vZGUgLmZvcmstam9pbiB7XG4gIGZpbGw6ICR7b3B0aW9ucy5zcGVjaWFsU3RhdGVDb2xvcn07XG4gIHN0cm9rZTogJHtvcHRpb25zLnNwZWNpYWxTdGF0ZUNvbG9yfTtcbn1cblxuLm5vZGUgY2lyY2xlLnN0YXRlLWVuZCB7XG4gIGZpbGw6ICR7b3B0aW9ucy5pbm5lckVuZEJhY2tncm91bmR9O1xuICBzdHJva2U6ICR7b3B0aW9ucy5iYWNrZ3JvdW5kfTtcbiAgc3Ryb2tlLXdpZHRoOiAxLjVcbn1cbi5lbmQtc3RhdGUtaW5uZXIge1xuICBmaWxsOiAke29wdGlvbnMuY29tcG9zaXRlQmFja2dyb3VuZCB8fCBvcHRpb25zLmJhY2tncm91bmR9O1xuICAvLyBzdHJva2U6ICR7b3B0aW9ucy5iYWNrZ3JvdW5kfTtcbiAgc3Ryb2tlLXdpZHRoOiAxLjVcbn1cblxuLm5vZGUgcmVjdCB7XG4gIGZpbGw6ICR7b3B0aW9ucy5zdGF0ZUJrZyB8fCBvcHRpb25zLm1haW5Ca2d9O1xuICBzdHJva2U6ICR7b3B0aW9ucy5zdGF0ZUJvcmRlciB8fCBvcHRpb25zLm5vZGVCb3JkZXJ9O1xuICBzdHJva2Utd2lkdGg6IDFweDtcbn1cbi5ub2RlIHBvbHlnb24ge1xuICBmaWxsOiAke29wdGlvbnMubWFpbkJrZ307XG4gIHN0cm9rZTogJHtvcHRpb25zLnN0YXRlQm9yZGVyIHx8IG9wdGlvbnMubm9kZUJvcmRlcn07O1xuICBzdHJva2Utd2lkdGg6IDFweDtcbn1cbiNzdGF0ZWRpYWdyYW0tYmFyYkVuZCB7XG4gIGZpbGw6ICR7b3B0aW9ucy5saW5lQ29sb3J9O1xufVxuXG4uc3RhdGVkaWFncmFtLWNsdXN0ZXIgcmVjdCB7XG4gIGZpbGw6ICR7b3B0aW9ucy5jb21wb3NpdGVUaXRsZUJhY2tncm91bmR9O1xuICBzdHJva2U6ICR7b3B0aW9ucy5zdGF0ZUJvcmRlciB8fCBvcHRpb25zLm5vZGVCb3JkZXJ9O1xuICBzdHJva2Utd2lkdGg6IDFweDtcbn1cblxuLmNsdXN0ZXItbGFiZWwsIC5ub2RlTGFiZWwge1xuICBjb2xvcjogJHtvcHRpb25zLnN0YXRlTGFiZWxDb2xvcn07XG4gIC8vIGxpbmUtaGVpZ2h0OiAxO1xufVxuXG4uc3RhdGVkaWFncmFtLWNsdXN0ZXIgcmVjdC5vdXRlciB7XG4gIHJ4OiA1cHg7XG4gIHJ5OiA1cHg7XG59XG4uc3RhdGVkaWFncmFtLXN0YXRlIC5kaXZpZGVyIHtcbiAgc3Ryb2tlOiAke29wdGlvbnMuc3RhdGVCb3JkZXIgfHwgb3B0aW9ucy5ub2RlQm9yZGVyfTtcbn1cblxuLnN0YXRlZGlhZ3JhbS1zdGF0ZSAudGl0bGUtc3RhdGUge1xuICByeDogNXB4O1xuICByeTogNXB4O1xufVxuLnN0YXRlZGlhZ3JhbS1jbHVzdGVyLnN0YXRlZGlhZ3JhbS1jbHVzdGVyIC5pbm5lciB7XG4gIGZpbGw6ICR7b3B0aW9ucy5jb21wb3NpdGVCYWNrZ3JvdW5kIHx8IG9wdGlvbnMuYmFja2dyb3VuZH07XG59XG4uc3RhdGVkaWFncmFtLWNsdXN0ZXIuc3RhdGVkaWFncmFtLWNsdXN0ZXItYWx0IC5pbm5lciB7XG4gIGZpbGw6ICR7b3B0aW9ucy5hbHRCYWNrZ3JvdW5kID8gb3B0aW9ucy5hbHRCYWNrZ3JvdW5kIDogXCIjZWZlZmVmXCJ9O1xufVxuXG4uc3RhdGVkaWFncmFtLWNsdXN0ZXIgLmlubmVyIHtcbiAgcng6MDtcbiAgcnk6MDtcbn1cblxuLnN0YXRlZGlhZ3JhbS1zdGF0ZSByZWN0LmJhc2ljIHtcbiAgcng6IDVweDtcbiAgcnk6IDVweDtcbn1cbi5zdGF0ZWRpYWdyYW0tc3RhdGUgcmVjdC5kaXZpZGVyIHtcbiAgc3Ryb2tlLWRhc2hhcnJheTogMTAsMTA7XG4gIGZpbGw6ICR7b3B0aW9ucy5hbHRCYWNrZ3JvdW5kID8gb3B0aW9ucy5hbHRCYWNrZ3JvdW5kIDogXCIjZWZlZmVmXCJ9O1xufVxuXG4ubm90ZS1lZGdlIHtcbiAgc3Ryb2tlLWRhc2hhcnJheTogNTtcbn1cblxuLnN0YXRlZGlhZ3JhbS1ub3RlIHJlY3Qge1xuICBmaWxsOiAke29wdGlvbnMubm90ZUJrZ0NvbG9yfTtcbiAgc3Ryb2tlOiAke29wdGlvbnMubm90ZUJvcmRlckNvbG9yfTtcbiAgc3Ryb2tlLXdpZHRoOiAxcHg7XG4gIHJ4OiAwO1xuICByeTogMDtcbn1cbi5zdGF0ZWRpYWdyYW0tbm90ZSByZWN0IHtcbiAgZmlsbDogJHtvcHRpb25zLm5vdGVCa2dDb2xvcn07XG4gIHN0cm9rZTogJHtvcHRpb25zLm5vdGVCb3JkZXJDb2xvcn07XG4gIHN0cm9rZS13aWR0aDogMXB4O1xuICByeDogMDtcbiAgcnk6IDA7XG59XG5cbi5zdGF0ZWRpYWdyYW0tbm90ZSB0ZXh0IHtcbiAgZmlsbDogJHtvcHRpb25zLm5vdGVUZXh0Q29sb3J9O1xufVxuXG4uc3RhdGVkaWFncmFtLW5vdGUgLm5vZGVMYWJlbCB7XG4gIGNvbG9yOiAke29wdGlvbnMubm90ZVRleHRDb2xvcn07XG59XG4uc3RhdGVkaWFncmFtIC5lZGdlTGFiZWwge1xuICBjb2xvcjogcmVkOyAvLyAke29wdGlvbnMubm90ZVRleHRDb2xvcn07XG59XG5cbiNkZXBlbmRlbmN5U3RhcnQsICNkZXBlbmRlbmN5RW5kIHtcbiAgZmlsbDogJHtvcHRpb25zLmxpbmVDb2xvcn07XG4gIHN0cm9rZTogJHtvcHRpb25zLmxpbmVDb2xvcn07XG4gIHN0cm9rZS13aWR0aDogMTtcbn1cblxuLnN0YXRlZGlhZ3JhbVRpdGxlVGV4dCB7XG4gIHRleHQtYW5jaG9yOiBtaWRkbGU7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgZmlsbDogJHtvcHRpb25zLnRleHRDb2xvcn07XG59XG5gLCBcImdldFN0eWxlc1wiKTtcbnZhciBzdHlsZXNfZGVmYXVsdCA9IGdldFN0eWxlcztcblxuZXhwb3J0IHtcbiAgc3RhdGVEaWFncmFtX2RlZmF1bHQsXG4gIHN0YXRlUmVuZGVyZXJfdjNfdW5pZmllZF9kZWZhdWx0LFxuICBzdGF0ZURiX2RlZmF1bHQsXG4gIHN0eWxlc19kZWZhdWx0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-RFNHIAZX.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-v2-ICU7KJ6X.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-v2-ICU7KJ6X.mjs ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   diagram: function() { return /* binding */ diagram; }\n/* harmony export */ });\n/* harmony import */ var _chunk_RFNHIAZX_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./chunk-RFNHIAZX.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-RFNHIAZX.mjs\");\n/* harmony import */ var _chunk_DUMQOTYW_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./chunk-DUMQOTYW.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DUMQOTYW.mjs\");\n/* harmony import */ var _chunk_DGPT5PPI_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./chunk-DGPT5PPI.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-DGPT5PPI.mjs\");\n/* harmony import */ var _chunk_YCAQCADR_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./chunk-YCAQCADR.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-YCAQCADR.mjs\");\n/* harmony import */ var _chunk_NUA6DQ4T_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./chunk-NUA6DQ4T.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-NUA6DQ4T.mjs\");\n/* harmony import */ var _chunk_23ATMZXV_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./chunk-23ATMZXV.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-23ATMZXV.mjs\");\n/* harmony import */ var _chunk_RAVNKOQV_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./chunk-RAVNKOQV.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-RAVNKOQV.mjs\");\n/* harmony import */ var _chunk_2EDTWDYI_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./chunk-2EDTWDYI.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-2EDTWDYI.mjs\");\n/* harmony import */ var _chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./chunk-IIKMQLIC.mjs */ \"(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/chunk-IIKMQLIC.mjs\");\n\n\n\n\n\n\n\n\n\n\n// src/diagrams/state/stateDiagram-v2.ts\nvar diagram = {\n  parser: _chunk_RFNHIAZX_mjs__WEBPACK_IMPORTED_MODULE_0__.stateDiagram_default,\n  db: _chunk_RFNHIAZX_mjs__WEBPACK_IMPORTED_MODULE_0__.stateDb_default,\n  renderer: _chunk_RFNHIAZX_mjs__WEBPACK_IMPORTED_MODULE_0__.stateRenderer_v3_unified_default,\n  styles: _chunk_RFNHIAZX_mjs__WEBPACK_IMPORTED_MODULE_0__.styles_default,\n  init: /* @__PURE__ */ (0,_chunk_IIKMQLIC_mjs__WEBPACK_IMPORTED_MODULE_8__.__name)((cnf) => {\n    if (!cnf.state) {\n      cnf.state = {};\n    }\n    cnf.state.arrowMarkerAbsolute = cnf.arrowMarkerAbsolute;\n    _chunk_RFNHIAZX_mjs__WEBPACK_IMPORTED_MODULE_0__.stateDb_default.clear();\n  }, \"init\")\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9tZXJtYWlkL2Rpc3QvY2h1bmtzL21lcm1haWQuY29yZS9zdGF0ZURpYWdyYW0tdjItSUNVN0tKNlgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFLOEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUU5QjtBQUNBO0FBQ0EsVUFBVSxxRUFBb0I7QUFDOUIsTUFBTSxnRUFBZTtBQUNyQixZQUFZLGlGQUFnQztBQUM1QyxVQUFVLCtEQUFjO0FBQ3hCLHdCQUF3QiwyREFBTTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUksZ0VBQWU7QUFDbkIsR0FBRztBQUNIO0FBR0UiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL21lcm1haWQvZGlzdC9jaHVua3MvbWVybWFpZC5jb3JlL3N0YXRlRGlhZ3JhbS12Mi1JQ1U3S0o2WC5tanM/OGFlYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBzdGF0ZURiX2RlZmF1bHQsXG4gIHN0YXRlRGlhZ3JhbV9kZWZhdWx0LFxuICBzdGF0ZVJlbmRlcmVyX3YzX3VuaWZpZWRfZGVmYXVsdCxcbiAgc3R5bGVzX2RlZmF1bHRcbn0gZnJvbSBcIi4vY2h1bmstUkZOSElBWlgubWpzXCI7XG5pbXBvcnQgXCIuL2NodW5rLURVTVFPVFlXLm1qc1wiO1xuaW1wb3J0IFwiLi9jaHVuay1ER1BUNVBQSS5tanNcIjtcbmltcG9ydCBcIi4vY2h1bmstWUNBUUNBRFIubWpzXCI7XG5pbXBvcnQgXCIuL2NodW5rLU5VQTZEUTRULm1qc1wiO1xuaW1wb3J0IFwiLi9jaHVuay0yM0FUTVpYVi5tanNcIjtcbmltcG9ydCBcIi4vY2h1bmstUkFWTktPUVYubWpzXCI7XG5pbXBvcnQgXCIuL2NodW5rLTJFRFRXRFlJLm1qc1wiO1xuaW1wb3J0IHtcbiAgX19uYW1lXG59IGZyb20gXCIuL2NodW5rLUlJS01RTElDLm1qc1wiO1xuXG4vLyBzcmMvZGlhZ3JhbXMvc3RhdGUvc3RhdGVEaWFncmFtLXYyLnRzXG52YXIgZGlhZ3JhbSA9IHtcbiAgcGFyc2VyOiBzdGF0ZURpYWdyYW1fZGVmYXVsdCxcbiAgZGI6IHN0YXRlRGJfZGVmYXVsdCxcbiAgcmVuZGVyZXI6IHN0YXRlUmVuZGVyZXJfdjNfdW5pZmllZF9kZWZhdWx0LFxuICBzdHlsZXM6IHN0eWxlc19kZWZhdWx0LFxuICBpbml0OiAvKiBAX19QVVJFX18gKi8gX19uYW1lKChjbmYpID0+IHtcbiAgICBpZiAoIWNuZi5zdGF0ZSkge1xuICAgICAgY25mLnN0YXRlID0ge307XG4gICAgfVxuICAgIGNuZi5zdGF0ZS5hcnJvd01hcmtlckFic29sdXRlID0gY25mLmFycm93TWFya2VyQWJzb2x1dGU7XG4gICAgc3RhdGVEYl9kZWZhdWx0LmNsZWFyKCk7XG4gIH0sIFwiaW5pdFwiKVxufTtcbmV4cG9ydCB7XG4gIGRpYWdyYW1cbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-v2-ICU7KJ6X.mjs\n"));

/***/ })

}]);